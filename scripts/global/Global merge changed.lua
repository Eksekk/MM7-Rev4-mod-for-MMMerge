-- Deactivate all standard events
Game.GlobalEvtLines.Count = 0

-- ERROR: Duplicate label: 920:0
-- ERROR: Duplicate label: 920:1
-- ERROR: Duplicate label: 920:2
-- ERROR: Duplicate label: 920:3
-- ERROR: Duplicate label: 920:4
-- ERROR: Duplicate label: 920:5

-- "Cataclysm"
evt.global[1] = function()
	evt.SetMessage{Str = 1}         --[[ "My fellow Journeyman, we face grave times.
Hopefully our Master will find a way for us to leave this troubled region and return safely to Alvar.
I would not wish to end my life here, even though it is the place of my birth." ]]
	evt.Add{"QBits", Value = 232}         -- Set when you talk to S'ton
end

-- "Caravan Master"
evt.global[2] = function()
	evt.SetMessage{Str = 2}         --[[ "Dadeross led us here to trade with the Lizardman Clan of Onefang for their tobersk fruit.
He has gone to talk with Brekish Onefang, the village leader.
Perhaps you should look for him?" ]]
	evt.Add{"QBits", Value = 232}         -- Set when you talk to S'ton
end

-- "Pirates of Regna"
evt.global[3] = function()
	evt.SetMessage{Str = 3}         --[[ "The Regnan Pirates are a threat to the economy and free travel in Jadame.
Very few boats ply the sea, for fear of being sunk…or worse!
When in Ravenshore, I did hear rumors of a small band of smugglers who have been working beneath the notice of the pirates.
I wonder how they do that!" ]]
	evt.Add{"QBits", Value = 232}         -- Set when you talk to S'ton
end

-- "Cataclysm"
evt.global[4] = function()
	evt.SetMessage{Str = 4}         --[[ "It is as I have read in the prophecy of the Unmaking! ""...and a Mountain of Fire shall rise from the sea, like a wound drawn by the quick stroke of a dagger…"".You must find a way off of these islands, if not for the caravan, at least for yourself!
Someone must take news of what has happened here to the Merchant Council in Alvar!
They must know of the cataclysm and of the Regnan raid!" ]]
	evt.SetNPCTopic{NPC = 2, Index = 0, Event = 20}         -- "Dadeross" : "Quest"
end

-- "Pirates"
evt.global[5] = function()
	if evt.Cmp{"QBits", Value = 6} then         -- Pirate Leader in Dagger Wound Pirate Outpost killed (quest given at Q Bit 5). Ends pirate/lizardman war on Dagger Wound. Shuts off pirate timer.
		evt.SetMessage{Str = 616}         -- "Good work dealing with those pirates. Now that they're gone, maybe Chief Onefang and his people can rebuild their lives. It really is a travesty what has happened here."
	else
		evt.SetMessage{Str = 5}         --[[ "The pirates from the dread Island of Regna are using the cataclysm and the confusion created by it to aid them in overrunning the islands.
If they conquer Dagger Wound, they can use it as an outpost for direct raids on Ravenshore!
The Merchant Council in Alvar must be notified!
You must find a way to the boats and tell them!" ]]
	end
end

-- "Caravan"
evt.global[6] = function()
	if evt.Cmp{"QBits", Value = 6} then         -- Pirate Leader in Dagger Wound Pirate Outpost killed (quest given at Q Bit 5). Ends pirate/lizardman war on Dagger Wound. Shuts off pirate timer.
		evt.SetMessage{Str = 617}         -- "Sadly, the caravan was one of the first things the pirates looted in their raids. I have no idea what they're going to do with three-hundred cases of tobersk fruit! Naturally, I miss the fruit, but the worst of it is the damage they did to the carts. It looks like I'll be here for at least the next season overseeing their repair. I just hope the task is done before the next tobersk harvest so I can see some return out of this profitless venture."
	else
		evt.SetMessage{Str = 6}         --[[ "It will take several boats to ferry the entire caravan back to Ravenshore, or many trips by one boat.
This cannot be done until the waters around the Dagger Wound Islands are free from Regnan Pirates.
It is best that you return to Alvar and tell the Council of the Regnan attack.
They will send help to rescue us!" ]]
	end
end

-- "Cataclysm"
evt.global[7] = function()
	if evt.Cmp{"QBits", Value = 6} then         -- Pirate Leader in Dagger Wound Pirate Outpost killed (quest given at Q Bit 5). Ends pirate/lizardman war on Dagger Wound. Shuts off pirate timer.
		evt.SetMessage{Str = 615}         -- "What with the damage caused by giant waves, falling rocks and the pirate raid, I don't know if our village will ever be the same. I know you have done great things for us, but not everything can be fixed once broken. I'm not sure what we'll do. Perhaps we will rebuild, or maybe we'll leave. Time and circumstance will decide."
	else
		evt.SetMessage{Str = 7}         --[[ "In the middle of the night the ground shook!
Flaming rocks dropped from the sky!
Many of my people were hurt or killed!
Great damage was done to the village.
The bridges that allowed travel between the smaller islands and the main island were destroyed.
We found ourselves stuck on the main island, unable to reach those on the smaller islands who may be injured.
Many family members and friends are missing.
We cannot reach the islands with the boat docks, and thus we are unable to send to Ravenshore for help. I do not even know if any boats survived!" ]]
	end
end

-- "Portals of Stone"
evt.global[8] = function()
	evt.SetMessage{Str = 8}         -- "In time long past, my people used the Portals of Stone to travel quickly from island to island, but we have lost the knowledge of their operation. Only the pair connecting the village to the southwestern fields still functions. Now that the bridges are gone, we're trapped on the island!"
	evt.SetNPCTopic{NPC = 1, Index = 1, Event = 21}         -- "Brekish Onefang" : "Quest"
end

-- "Fredrick Talimere"
evt.global[9] = function()
	evt.SetMessage{Str = 9}         --[[ "A Cleric, by the name of Fredrick Talimere, has been living with us for the last few years.
He has been studying the Portals of Stone and the outer ruins of the Abandoned Temple.
Maybe he has the knowledge to get the Portals working again!
Find him and see if he will help!" ]]
end

-- "Portals of Stone"
evt.global[10] = function()
	evt.SetMessage{Str = 10}         -- "Ah yes…""the portals."" I have been studying them and the lost culture that built them for years.They were built by the civilization that had its day long before the Lizardmen came to inhabit these islands. They were a means of instantaneous travel between the islands. Sadly, the power stones needed to operate them are in short supply."
end

-- "Cataclysm"
evt.global[11] = function()
	evt.SetMessage{Str = 11}         --[[ "The first night of the mountain of fire, I went to the beach to see if I could see anything of its eruption.
I cannot be certain, but as the volcano continued to erupt, I thought I saw Earth Elementals roaming the lava encrusted base of the mountain." ]]
end

-- "Power Stone"
evt.CanShowTopic[12] = function()
	return evt.Cmp{"Inventory", Value = 617}         -- "Power Stone"
end

evt.global[12] = function()
	evt.SetMessage{Str = 12}         -- "So Clanleader Onefang gave you that power stone he was holding onto! It will power the portal on the southwestern tip of the island. To use it, hold an image of the stone in your mind as you step onto the portal."
	evt.ForPlayer(-- ERROR: Const not found
"All")
	evt.Add{"AutonotesBits", Value = 492}         -- "Brought Power Stone to Fredrick Talimere."
	evt.Add{"Experience", Value = 1500}
	evt.Subtract{"QBits", Value = 7}         -- "Bring Brekish Onefang's portal crystal to Fredrick Talimere."
	evt.Add{"QBits", Value = 8}         -- Fredrick Talimere visited by player with crystal in their possesion.
	evt.SetNPCTopic{NPC = 28, Index = 2, Event = 602}         -- "Fredrick Talimere" : "Roster Join Event"
	evt.SetNPCTopic{NPC = 1, Index = 2, Event = 0}         -- "Brekish Onefang"
end

-- "Abandoned Temple"
evt.global[13] = function()
	evt.SetMessage{Str = 13}         -- "The ruins of a temple built by the lost civilization lies on the island just northwest of the main island. I have not explored it however, for dangerous reptiles have made it their lair. I do suspect that the temple leads to an underwater tunnel which surfaces near the boat docks on the northwest island.With the bridges out, that tunnel may be the only way to reach the docks and a boat to safety!"
end

-- "Quest"
evt.global[14] = function()
	if evt.Cmp{"QBits", Value = 138} then         -- Found Isthric the Tongue
		evt.SetMessage{Str = 749}         --[[ "You found Isthric and told him how to return home?
We are indeed in debt to you, Merchant of Alvar!
I will speak well of you to Clan Leader Brekish Onefang.
Please take these potions of Cure Wounds as a reward." ]]
		evt.ForPlayer(-- ERROR: Const not found
"All")
		evt.Add{"Experience", Value = 750}
		evt.ForPlayer(-- ERROR: Const not found
0)
		evt.Add{"Inventory", Value = 222}         -- "Cure Wounds"
		evt.Add{"Inventory", Value = 222}         -- "Cure Wounds"
		evt.Subtract{"QBits", Value = 137}         -- "Find Isthric the Tongue, brother of Rohtnax.  Return to Rohtnax in the village of Blood Drop on Dagger Wound Island."
		evt.ForPlayer(-- ERROR: Const not found
"All")
		evt.Add{"Awards", Value = 54}         -- "Rescued Isthric the Tongue, brother of Rohtnax, on the Dagger Wound Islands."
		evt.SetNPCTopic{NPC = 29, Index = 0, Event = 0}         -- "Rohtnax"
	else
		evt.SetMessage{Str = 14}         --[[ "My brother, Isthric the Tongue, went to check on the tobersk plants on one of the lesser islands.
He has not returned!
I am afraid that he is one of those stranded by the cataclysm. He may even be hurt!
If you were to fix the Portals of Stone, he would surely be able to return, and we could get help to those who need it!
Find him for me!" ]]
		evt.Add{"QBits", Value = 137}         -- "Find Isthric the Tongue, brother of Rohtnax.  Return to Rohtnax in the village of Blood Drop on Dagger Wound Island."
	end
end

-- "Portals of Stone"
evt.global[15] = function()
	if evt.Cmp{"QBits", Value = 1} then         -- Activate Area 1 teleporters 3 and 4.
		evt.SetMessage{Str = 748}         --[[ "You have repaired the Portals of Stone?
That is tremendous news!
Quickly, find my brother, Isthric and tell him to return home!" ]]
	else
		evt.SetMessage{Str = 15}         --[[ "My Granda used to tell us of the times past, when the Portals of Stone were the main travel route between the islands.
She told us that the keys to the Portals disappeared during one of the first raids committed by the Regnan Pirates.
If the Portals of Stone were working my brother Isthric could return back to the main island!" ]]
	end
end

-- "Fredrick Talimere"
evt.global[16] = function()
	evt.SetMessage{Str = 16}         --[[ "That rude man?
He's more concerned with that Abandoned Temple than he is with the life that goes on around him!
My Granda warned him that the Temple is a place of great Evil.
He never listened.
Now Granda isn't with us anymore and we have no one but Brekish Onefang to remind us of the past." ]]
end

-- "Mountain of Fire"
evt.global[17] = function()
	evt.SetMessage{Str = 17}         --[[ "We have offended the Ancients!
Why else would they call up the Mountain of Fire!
The Prophecies tell of a time when the oceans would boil!
This is the beginning of the end!" ]]
end

-- "Prophecies"
evt.global[18] = function()
	evt.SetMessage{Str = 18}         --[[ "There are many Prophecies that tell of the destruction of Jadame and the entire world!
 Most tell of a time when the world will be consumed by that which created it.
Perhaps the Ancients have decided to wipe us all out!" ]]
end

-- "Quest"
evt.global[19] = function()
	evt.ForPlayer(-- ERROR: Const not found
"All")
	if evt.Cmp{"Inventory", Value = 652} then         -- "Prophecies of the Snake"
		evt.SetMessage{Str = 750}         --[[ "You have found the Prophecies of the Snake!
Perhaps the details of our future can be found in its writings!
Please take this reward for your assistance!" ]]
		evt.Subtract{"Inventory", Value = 652}         -- "Prophecies of the Snake"
		evt.Subtract{"QBits", Value = 135}         -- "Find the Prophecies of the Snake for Pascella Tisk."
		evt.ForPlayer(-- ERROR: Const not found
0)
		evt.Add{"Gold", Value = 500}
		evt.ForPlayer(-- ERROR: Const not found
"All")
		evt.Add{"Experience", Value = 750}
		evt.SetNPCTopic{NPC = 30, Index = 1, Event = 0}         -- "Pascella Tisk"
	else
		evt.SetMessage{Str = 19}         --[[ "There is one Prophecy, the Prophecy of the Snake, that I have been unable to find a copy of.
I think it may be most revealing about the future of Jadame.Fredrick Talimere, the Cleric, has told me of the snake ruins, and of the Abandoned Temple.
He is in agreement with me, that there may be a copy of this prophecy, somewhere in the temple.
Could you find it for me?" ]]
		evt.Add{"QBits", Value = 135}         -- "Find the Prophecies of the Snake for Pascella Tisk."
	end
end

-- "Quest"
evt.CanShowTopic[20] = function()
	return not evt.Cmp{"QBits", Value = 4}         -- Letter from Q Bit 3 delivered.
end

evt.global[20] = function()
	if evt.Cmp{"QBits", Value = 3} then         -- "Deliver Dadeross' Letter to Elgar Fellmoon at the Merchant House in Ravenshore."
		evt.SetMessage{Str = 21}         -- "You must bring my letter to Elgar Fellmoon in Ravenshore!"
	else
		evt.SetMessage{Str = 20}         --[[ "You must find a way off of these islands. Someone must take news of what has happened here to our masters, the Merchants of Alvar!
They must know of the cataclysm and of the Regnan raid! I've written a letter to the Merchants of Alvar representative in Ravenshore, Elgar Fellmoon. In it I explain our situation here. If anyone can advise us on what to do here, it is Fellmoon. Take this to him now." ]]
		evt.SetNPCGreeting{NPC = 2, Greeting = 8}         -- "Dadeross" : "What are you doing here? Get my letter to Fellmoon!"
		evt.Add{"Inventory", Value = 741}         -- "Dadeross' Letter to Fellmoon"
		evt.Add{"QBits", Value = 221}         -- Dadeross' Letter to Fellmoon - I lost it, taken event g 28
		evt.Add{"QBits", Value = 3}         -- "Deliver Dadeross' Letter to Elgar Fellmoon at the Merchant House in Ravenshore."
		evt.Subtract{"QBits", Value = 85}         -- "Find Dadeross, the Minotaur in charge of your merchant caravan. When you saw him last, he was going to talk to the village clan leader."
	end
end

-- "Quest"
evt.CanShowTopic[21] = function()
	return not evt.Cmp{"QBits", Value = 8}         -- Fredrick Talimere visited by player with crystal in their possesion.
end

evt.global[21] = function()
	if evt.Cmp{"QBits", Value = 7} then         -- "Bring Brekish Onefang's portal crystal to Fredrick Talimere."
		evt.SetMessage{Str = 23}         -- "Bring the portal crystal to Fredrick Talimere. He will know what it does."
	else
		evt.SetMessage{Str = 22}         -- "Take this crystal to Fredrick Talimere. I know that it has something to do with the portals of stone. Perhaps he can tell you how it functions."
		evt.Add{"Inventory", Value = 617}         -- "Power Stone"
		evt.Add{"QBits", Value = 212}         -- Power Stone - I lost it
		evt.Add{"QBits", Value = 7}         -- "Bring Brekish Onefang's portal crystal to Fredrick Talimere."
		evt.SetNPCTopic{NPC = 28, Index = 2, Event = 12}         -- "Fredrick Talimere" : "Power Stone"
		evt.SetNPCTopic{NPC = 28, Index = 3, Event = 13}         -- "Fredrick Talimere" : "Abandoned Temple"
	end
end

-- "Promotion to Dark Elf Patriarch"
evt.global[22] = function()
	evt.SetMessage{Str = 24}         --[[ "The Merchant Council had sent our greatest warrior, Cauri Blackthorne, to consult with the Sun Temple priests about the disasters that have struck all of Jadame.Cauri left for the Temple of the Sun in Murmurwoods shortly after rumors of the cataclysms were heard here in Alvar.
She was to return after consulting the priests.
We are very concerned that she has not returned.As for your promotion, only Cauri can accurately test your skills and assess your worthiness for promotion.
If you find her, provide her with any assistance she may need and return here with news of her status and location." ]]
	evt.Add{"QBits", Value = 39}         -- "Find Cauri Blackthorne then return to Dantillion in Murmurwoods with information of her location."
	evt.SetNPCTopic{NPC = 39, Index = 0, Event = 31}         -- "Relburn Jeebes" : "Where is Cauri?"
end

-- "Cauri Blackthorne"
evt.global[23] = function()
	if not evt.Cmp{"QBits", Value = 1537} then         -- Promoted to Elf Patriarch.
		if not evt.Cmp{"Awards", Value = 20} then         -- "Rescued Cauri Blackthorne."
			evt.SetMessage{Str = 39}         --[[ "This is the home of Cauri Blackthorne, greatest Dark Elf warrior.
She is currently out, working for the Merchant Council of Alvar.
Perhaps you should consult them as to her whereabouts." ]]
			return
		end
	end
	evt.SetMessage{Str = 30}         --[[ "Cauri returned and informed us of this assistance you provided her.
She also notified us of your promotion.
Congratulations, may your profits bring you much joy!" ]]
	evt.ForPlayer(-- ERROR: Const not found
0)
	evt.Add{"Gold", Value = 15000}
	evt.SetNPCTopic{NPC = 39, Index = 1, Event = 0}         -- "Relburn Jeebes"
end

-- "Thank you!"
evt.global[24] = function()
	evt.SetMessage{Str = 26}         --[[ "Thank you for your assistance with the Basilisk Curse.
Usually I am prepared to handle the vile lizards, but this time there were just too many of them.The Temple of the Sun asked me to check on a few pilgrims that were looking for the Druid Circle of Stone in this area.
When I found the first statue, I realized what had happened to the pilgrims.
I myself did not know of the increase in the number of Basilisks in this area.
They seem to be agitated by something.
I was going to investigate the Druid Circle of Stone when the Basilisks attacked me." ]]
end

-- "Patriarch"
evt.global[25] = function()
	evt.SetMessage{Str = 27}         --[[ "::Cauri looks over the Dark Elf(s) in your party::To rescue me, you must have researched my path, and investigated the places I had been.
This demonstrates the intelligence needed to succeed in dealing with the world and business.To get to where I was attacked, you must have the skills needed to fight the Basilisks and other threats, demonstrating your prowess as a warrior.
Skill in battle is needed when proper negotiations break down.To ask me for promotion demonstrates desire, and without desire success will always escape your grasp.You have all of the traits necessary to hold the title of Patriarch.
I will notify to Council upon my return.
It would be my pleasure to travel with you again.
You can find me in the Inn in Ravenshore." ]]
	evt.ForPlayer(-- ERROR: Const not found
0)
	if evt.Cmp{"ClassIs", Value = const.Class.Cleric} then
		evt.Set{"ClassIs", Value = const.Class.Priest}
		evt.Add{"Experience", Value = 35000}
		evt.Add{"QBits", Value = 1537}         -- Promoted to Elf Patriarch.
	else
		evt.Add{"Experience", Value = 25000}
		evt.Add{"Awards", Value = 20}         -- "Rescued Cauri Blackthorne."
	end
	evt.ForPlayer(-- ERROR: Const not found
1)
	if evt.Cmp{"ClassIs", Value = const.Class.Cleric} then
		evt.Set{"ClassIs", Value = const.Class.Priest}
		evt.Add{"Experience", Value = 35000}
		evt.Add{"QBits", Value = 1537}         -- Promoted to Elf Patriarch.
	else
		evt.Add{"Experience", Value = 25000}
		evt.Add{"Awards", Value = 20}         -- "Rescued Cauri Blackthorne."
	end
	evt.ForPlayer(-- ERROR: Const not found
2)
	if evt.Cmp{"ClassIs", Value = const.Class.Cleric} then
		evt.Set{"ClassIs", Value = const.Class.Priest}
		evt.Add{"Experience", Value = 35000}
		evt.Add{"QBits", Value = 1537}         -- Promoted to Elf Patriarch.
	else
		evt.Add{"Experience", Value = 25000}
		evt.Add{"Awards", Value = 20}         -- "Rescued Cauri Blackthorne."
	end
	evt.ForPlayer(-- ERROR: Const not found
3)
	if evt.Cmp{"ClassIs", Value = const.Class.Cleric} then
		evt.Set{"ClassIs", Value = const.Class.Priest}
		evt.Add{"Experience", Value = 35000}
		evt.Add{"QBits", Value = 1537}         -- Promoted to Elf Patriarch.
	else
		evt.Add{"Experience", Value = 25000}
		evt.Add{"Awards", Value = 20}         -- "Rescued Cauri Blackthorne."
	end
	evt.ForPlayer(-- ERROR: Const not found
4)
	if evt.Cmp{"ClassIs", Value = const.Class.Cleric} then
		evt.Set{"ClassIs", Value = const.Class.Priest}
		evt.Add{"Experience", Value = 35000}
		evt.Add{"QBits", Value = 1537}         -- Promoted to Elf Patriarch.
	else
		evt.Add{"Experience", Value = 25000}
		evt.Add{"Awards", Value = 20}         -- "Rescued Cauri Blackthorne."
	end
	evt.Subtract{"QBits", Value = 39}         -- "Find Cauri Blackthorne then return to Dantillion in Murmurwoods with information of her location."
	evt.Add{"QBits", Value = 40}         -- Found and Rescued Cauri Blackthorne
	evt.Add{"QBits", Value = 430}         -- Roster Character In Party 31
	evt.SetNPCTopic{NPC = 42, Index = 1, Event = 38}         -- "Cauri Blackthorne" : "Thanks for your help!"
end

-- "Circle of Stone"
evt.global[26] = function()
	evt.SetMessage{Str = 28}         --[[ "I need to investigate the Circle of Stone further for the Temple of the Sun.
Hopefully not all of the pilgrims met the fate of these. Hopefully there are survivors!Something has agitated the creatures in this area, and I think the source can be found in the Circle." ]]
end

-- "Cauri Blackthorne"
evt.global[27] = function()
	if evt.Cmp{"QBits", Value = 39} then         -- "Find Cauri Blackthorne then return to Dantillion in Murmurwoods with information of her location."
		goto _2
	end
	if not evt.Cmp{"QBits", Value = 40} then         -- Found and Rescued Cauri Blackthorne
		goto _2
	end
	evt.Subtract{"QBits", Value = 39}         -- "Find Cauri Blackthorne then return to Dantillion in Murmurwoods with information of her location."
::_15::
	evt.SetNPCTopic{NPC = 41, Index = 0, Event = 26}         -- "Dantillion " : "Circle of Stone"
	do return end
::_2::
	evt.SetMessage{Str = 31}         --[[ "Cauri Blackthorne was here well over a week ago, maybe longer.
She had asked us many questions about the elemental incursions.
We provided her with what information we had here.
She said she would return to Alvar with the information.
Before she left, we asked her if she could do a favor for us.
We asked her if she could check on a group of pilgrims that were traveling to the old Druid Circle of Stone to the northeast of here.
She assured us that she would check in on them on her way back to Alvar." ]]
	evt.ForPlayer(-- ERROR: Const not found
0)
	evt.Add{"Inventory", Value = 339}         -- "Stone to Flesh"
	evt.ForPlayer(-- ERROR: Const not found
1)
	evt.Add{"Inventory", Value = 339}         -- "Stone to Flesh"
	evt.ForPlayer(-- ERROR: Const not found
2)
	evt.Add{"Inventory", Value = 339}         -- "Stone to Flesh"
	evt.ForPlayer(-- ERROR: Const not found
3)
	evt.Add{"Inventory", Value = 339}         -- "Stone to Flesh"
	evt.ForPlayer(-- ERROR: Const not found
4)
	evt.Add{"Inventory", Value = 339}         -- "Stone to Flesh"
	goto _15
end

-- "Letter"
evt.global[28] = function()
	evt.ForPlayer(-- ERROR: Const not found
"All")
	if evt.Cmp{"Inventory", Value = 741} then         -- "Dadeross' Letter to Fellmoon"
		evt.SetMessage{Str = 33}         -- "What is this? A letter from caravan master, Dadeross? Let's see…hmmm…Well, it seems that serious events are afoot. It is a pity--what has happened on Dagger Wound. Serious action may need to be taken, but I require more information……and I think I know how to get it! Perhaps you would be interested in helping me? I will compensate you, of course. And, here. Take this as payment for delivering Dadeross' letter."
		evt.SetNPCTopic{NPC = 3, Index = 0, Event = 29}         -- "Elgar Fellmoon" : "Quest"
		evt.SetNPCGreeting{NPC = 2, Greeting = 58}         -- "Dadeross" : "Hail, adventurer!"
		evt.ForPlayer(-- ERROR: Const not found
"All")
		evt.Subtract{"QBits", Value = 3}         -- "Deliver Dadeross' Letter to Elgar Fellmoon at the Merchant House in Ravenshore."
		evt.Add{"QBits", Value = 4}         -- Letter from Q Bit 3 delivered.
		evt.Subtract{"Inventory", Value = 741}         -- "Dadeross' Letter to Fellmoon"
		evt.Subtract{"QBits", Value = 221}         -- Dadeross' Letter to Fellmoon - I lost it, taken event g 28
		evt.ForPlayer(-- ERROR: Const not found
0)
		evt.Add{"Gold", Value = 2500}
		evt.ForPlayer(-- ERROR: Const not found
"All")
		evt.Add{"Experience", Value = 7500}
		evt.Add{"AutonotesBits", Value = 494}         -- "Delivered Dadeross' Letter to Elgar Fellmoon."
	else
		evt.SetMessage{Str = 32}         -- "You come to me claiming to have a message from one of my caravan masters. Well, where is it then? If it was so important, perhaps you should have been better about not losing it along the way!"
	end
end

-- "Quest"
evt.global[29] = function()
	if evt.Cmp{"QBits", Value = 12} then         -- Quest 11 is done.
		evt.SetMessage{Str = 38}         -- "You must reach Bastian Loudrin in Alvar. Go! He must be informed of recent events!"
	else
		if evt.Cmp{"QBits", Value = 24} then         -- Received Reward from Elgar Fellmoon for completing quest 9.
			evt.SetMessage{Str = 37}         -- "As you may be aware, our guild headquarters is located in the city of Alvar. If you've never been there, the easiest way to reach it is to follow the river up through the canyon to the north.Go to the guild house and find Bastian Loudrin. Tell him about the crystal, and the rumors. Lourdrin will know what to do."
			evt.Add{"QBits", Value = 11}         -- "Report to Bastian Loudrin, the merchant guildmaster in Alvar."
		else
			if evt.Cmp{"QBits", Value = 10} then         -- Letter from Q Bit 9 delivered.
				evt.SetMessage{Str = 36}         -- "Very good, and here is the payment we agreed upon. Hunter's boats will be useful to us through the crisis.Yes, ""crisis,"" I say! Since your initial visit, several other caravans have missed their scheduled stops. There are also the rumors. Twice I've heard of the appearance of a burning lake of fire rising out of the desert.Volcanoes! Lakes of fire! I fear the mysterious crystal has something to do with it. In any event, the guildmasters in Alvar must be informed!"
				evt.ForPlayer(-- ERROR: Const not found
"All")
				evt.Add{"AutonotesBits", Value = 493}         -- "Blackmailed the Wererat Smugglers."
				evt.Add{"Experience", Value = 12000}
				evt.Add{"QBits", Value = 24}         -- Received Reward from Elgar Fellmoon for completing quest 9.
				evt.Subtract{"QBits", Value = 284}         -- "Return to Fellmoon in Ravenshore and report your success in blackmailing the wererat smuggler, Arion Hunter."
			else
				if evt.Cmp{"QBits", Value = 9} then         -- "Deliver Fellmoon's blackmail letter to Arion Hunter, leader of the wererat smugglers. Report back to Fellmoon."
					evt.SetMessage{Str = 35}         -- "Listen. We need those boats! Deliver my letter to Arion Hunter. Did you forget? His lair is to the west, up the coast!"
				else
					evt.SetMessage{Str = 34}         -- "The local smugglers have the fastest boats in Ravenshore. If these were available to my agents, they could make quick scouting missions up and down the coast so we could see the extent of the cataclysm mentioned in Dadeross' letter.Here. Bring this letter to the smuggler leader, Arion Hunter. I'm sure it will ""persuade"" him to lend his services. You'll find his hideout westward up the coast.Oh, I almost forgot. The smugglers--they're wererats--and you know how they can be. Hunter can be reasoned with, but don't be surprised if his crew is less than civil."
					evt.Add{"QBits", Value = 9}         -- "Deliver Fellmoon's blackmail letter to Arion Hunter, leader of the wererat smugglers. Report back to Fellmoon."
					evt.Add{"Inventory", Value = 742}         -- "Blackmail Letter"
					evt.Add{"QBits", Value = 222}         -- Blackmail Letter - I lost it, taken event g 32
					evt.SetNPCGreeting{NPC = 3, Greeting = 11}         -- "Elgar Fellmoon" : "Have you done as I've asked of you?"
				end
			end
		end
	end
end

-- "Blackthorne Residence"
evt.global[30] = function()
	if evt.Cmp{"QBits", Value = 40} then         -- Found and Rescued Cauri Blackthorne
		evt.SetMessage{Str = 30}         --[[ "Cauri returned and informed us of this assistance you provided her.
She also notified us of your promotion.
Congratulations, may your profits bring you much joy!" ]]
	else
		evt.SetMessage{Str = 39}         --[[ "This is the home of Cauri Blackthorne, greatest Dark Elf warrior.
She is currently out, working for the Merchant Council of Alvar.
Perhaps you should consult them as to her whereabouts." ]]
	end
end

-- "Where is Cauri?"
evt.CanShowTopic[31] = function()
	return not evt.Cmp{"QBits", Value = 40}         -- Found and Rescued Cauri Blackthorne
end

evt.global[31] = function()
	evt.SetMessage{Str = 25}         --[[ "Have you found Cauri?
We really need to know what happened to her!
Without her, we are all diminished!" ]]
end

-- "Blackmail"
evt.CanShowTopic[32] = function()
	return evt.Cmp{"Inventory", Value = 742}         -- "Blackmail Letter"
end

evt.global[32] = function()
	evt.SetMessage{Str = 40}         -- "You did all that to my guards just to deliver a letter! Let me see that……hmmm…Fellmoon wants my boats? Never! I…what!…he threatens my Irabelle…I…I…sigh…V-very well. You can tell Fellmoon he can have my boats. I guess there's no refusing the Merchants of Alvar what they want."
	evt.ForPlayer(-- ERROR: Const not found
"All")
	evt.Add{"QBits", Value = 10}         -- Letter from Q Bit 9 delivered.
	evt.Subtract{"QBits", Value = 9}         -- "Deliver Fellmoon's blackmail letter to Arion Hunter, leader of the wererat smugglers. Report back to Fellmoon."
	evt.Add{"QBits", Value = 284}         -- "Return to Fellmoon in Ravenshore and report your success in blackmailing the wererat smuggler, Arion Hunter."
	evt.Subtract{"Inventory", Value = 742}         -- "Blackmail Letter"
	evt.Subtract{"QBits", Value = 222}         -- Blackmail Letter - I lost it, taken event g 32
	evt.SetNPCTopic{NPC = 4, Index = 0, Event = 33}         -- "Arion Hunter" : "Smuggler Boats"
	evt.Add{"History3", Value = 0}
	evt.Subtract{"QBits", Value = 231}         -- The were-rats are mad at you
end

-- "Smuggler Boats"
evt.global[33] = function()
	evt.SetMessage{Str = 41}         -- "My cargoes are not the kind that want inspecting by harbor officials so my boats have to be, and are, the fastest on the coast of Jadame. They can even outrun a Regnan galley! From here they run west to Ravage Roaming and east to Shadowspire."
end

-- "Ancient Troll Home"
evt.global[34] = function()
	evt.SetMessage{Str = 42}         --[[ "Ancient Troll legends tell of a time when we did not live here in this desolate region.
They tell of a place that was quiet and tranquil.
We were driven from this place by the Curse of the Stone.
So for many hundred years we have dwelt here upon the Sand of Iron.
Now it seems we will be forced from this place as well.
The growing sea of fire has destroyed most of my village.
Many friends and family have perished.
This may indeed be the end of my Clan.There is a saying amongst my people, ""a thing lives only as long as it is remembered.""
As long as I remember our homeland, then it will always be there for us to return too.
It just needs to be found." ]]
end

-- "Quest"
evt.global[35] = function()
	evt.SetMessage{Str = 43}         --[[ "Perhaps if you could locate our previous homeland, and check to see if the Curse of the Stone still exists.
If it does perhaps there is a way to remove it.
Any Barbarian in your party who completes this task would be promoted to Berserker of our Clan. Many honors are bestowed with this title, and you would be forever known to us as a legendary hero.One of our warriors, Dartin Dunewalker, set out to find this place.
He left thinking he would find clues among the stone fields of Ravage Roaming.
Perhaps you can find him there and work together--or at the least, find clues that will lead you to our goal." ]]
	evt.Add{"QBits", Value = 68}         -- "Find the Ancient Troll Homeland and return to Volog Sandwind in the Ironsand Desert."
	evt.SetNPCTopic{NPC = 43, Index = 0, Event = 40}         -- "Volog Sandwind" : "Ravage Roaming"
end

-- "Ancient Home Found!"
evt.CanShowTopic[36] = function()
	return evt.Cmp{"QBits", Value = 69}         -- Ancient Troll Homeland Found
end

evt.global[36] = function()
	evt.SetMessage{Str = 45}         --[[ "You have found our Ancient Home?
Its located in the western area of the Murmurwoods?
This is wonderful news.
Perhaps there is still time to move my people.
Unfortunately the Elemental threat must be dealt with first, or no people will be safe! All Barbarians among you have been promoted to Berserker, and their names will be forever remembered in our songs.
I will teach the rest of you what skills I can, perhaps it will be enough to help you save all of Jadame." ]]
	evt.ForPlayer(-- ERROR: Const not found
0)
	if evt.Cmp{"ClassIs", Value = const.Class.MasterDruid} then
		evt.Set{"ClassIs", Value = const.Class.MasterDruid3}
		evt.Add{"Experience", Value = 35000}
		evt.Add{"QBits", Value = 1538}         -- Promoted to War Troll.
	else
		evt.Add{"Experience", Value = 25000}
		evt.Add{"QBits", Value = 1539}         -- Found Troll Homeland.
	end
	evt.ForPlayer(-- ERROR: Const not found
1)
	if evt.Cmp{"ClassIs", Value = const.Class.MasterDruid} then
		evt.Set{"ClassIs", Value = const.Class.MasterDruid3}
		evt.Add{"Experience", Value = 35000}
		evt.Add{"QBits", Value = 1538}         -- Promoted to War Troll.
	else
		evt.Add{"Experience", Value = 25000}
		evt.Add{"QBits", Value = 1539}         -- Found Troll Homeland.
	end
	evt.ForPlayer(-- ERROR: Const not found
2)
	if evt.Cmp{"ClassIs", Value = const.Class.MasterDruid} then
		evt.Set{"ClassIs", Value = const.Class.MasterDruid3}
		evt.Add{"Experience", Value = 35000}
		evt.Add{"QBits", Value = 1538}         -- Promoted to War Troll.
	else
		evt.Add{"Experience", Value = 25000}
		evt.Add{"QBits", Value = 1539}         -- Found Troll Homeland.
	end
	evt.ForPlayer(-- ERROR: Const not found
3)
	if evt.Cmp{"ClassIs", Value = const.Class.MasterDruid} then
		evt.Set{"ClassIs", Value = const.Class.MasterDruid3}
		evt.Add{"Experience", Value = 35000}
		evt.Add{"QBits", Value = 1538}         -- Promoted to War Troll.
	else
		evt.Add{"Experience", Value = 25000}
		evt.Add{"QBits", Value = 1539}         -- Found Troll Homeland.
	end
	evt.ForPlayer(-- ERROR: Const not found
4)
	if evt.Cmp{"ClassIs", Value = const.Class.MasterDruid} then
		evt.Set{"ClassIs", Value = const.Class.MasterDruid3}
		evt.Add{"Experience", Value = 35000}
		evt.Add{"QBits", Value = 1538}         -- Promoted to War Troll.
	else
		evt.Add{"Experience", Value = 25000}
		evt.Add{"QBits", Value = 1539}         -- Found Troll Homeland.
	end
	evt.Subtract{"QBits", Value = 68}         -- "Find the Ancient Troll Homeland and return to Volog Sandwind in the Ironsand Desert."
	evt.SetNPCTopic{NPC = 43, Index = 1, Event = 612}         -- "Volog Sandwind" : "Roster Join Event"
end

-- "Curse of Stone"
evt.global[37] = function()
	evt.SetMessage{Str = 46}         --[[ "You were sent to find the Ancient Troll Home?
Your assistance is welcomed!
I am at a loss; the clues I followed to this region have lead to a dead end.
No one here knows about the Curse of the Stone mentioned in our legends.
The Ogre Mage, Zog was less than helpful.
I was lucky to escape his fortress with my life. Although, he may have provided assistance with out meaning too!
When I mentioned the Curse of the Stone, he said if I bothered him further, he would be sure to cage me with his pet Basilisk!
Basilisks roam the Murmurwoods!" ]]
end

-- "Thanks for your help!"
evt.global[38] = function()
	evt.SetMessage{Str = 47}         --[[ "Thanks again for your assistance with the Basilisk curse!
Hurry back to Alvar!
We must do what we can to save Jadame." ]]
end

-- "Thanks for your help!"
evt.global[39] = function()
	evt.SetMessage{Str = 48}         -- "Thanks for finding our Ancient Home, once the treat to Jadame has been handled we can begin to move there!"
end

-- "Ravage Roaming"
evt.CanShowTopic[40] = function()
	return evt.Cmp{"QBits", Value = 68}         -- "Find the Ancient Troll Homeland and return to Volog Sandwind in the Ironsand Desert."
end

evt.global[40] = function()
	evt.SetMessage{Str = 49}         --[[ "Have you found the Ancient Home for our Clan?
Without its location, my people will surely perish!" ]]
end

-- "Deliver Report"
evt.CanShowTopic[41] = function()
	return evt.Cmp{"QBits", Value = 11}         -- "Report to Bastian Loudrin, the merchant guildmaster in Alvar."
end

evt.global[41] = function()
	evt.SetMessage{Str = 50}         -- "Disaster in Dagger Wound, too? This is indeed disturbing. If one were to believe all the rumors, one would think that all of Jadame is in upheaval and chaos.I wish I knew more. I rely on our caravan masters for news, but all who were supposed to arrive here this month have not. What I do hear, troubles me. Hurricanes, floods, and now a volcano! The worst I've heard is that a sea of fire has appeared in the Ironsand Desert--and this from many sources.I wonder if this crystal in Ravenshore has something to do with it. Its appearance at the onset of the calamity seems to be more than a coincidence."
	evt.Subtract{"QBits", Value = 11}         -- "Report to Bastian Loudrin, the merchant guildmaster in Alvar."
	evt.Add{"QBits", Value = 12}         -- Quest 11 is done.
	evt.SetNPCTopic{NPC = 5, Index = 0, Event = 42}         -- "Bastian Loudrin" : "Quest"
	evt.ForPlayer(-- ERROR: Const not found
"All")
	evt.Add{"Experience", Value = 15000}
	evt.ForPlayer(-- ERROR: Const not found
0)
	evt.Add{"Gold", Value = 2000}
end

-- "Quest"
evt.global[42] = function()
	if not evt.Cmp{"QBits", Value = 25} then         -- "Find a witness to the lake of fire's formation. Bring him back to the merchant guild in Alvar."
		evt.SetMessage{Str = 51}         -- "All of this upheaval is seriously impacting our guild's business. I need more information, but I'm being buried in gossip and rumor.Many tell me of this sea of fire in the Ironsand Desert. I've heard the tale enough that I almost believe it. Confirmation or denial of the lake's existence would be of great help to me.If you would serve me, go to the Ironsand Desert and seek this lake. If it is indeed there, find me someone who saw it appear. Bring him back here so I can hear his story myself."
		evt.Add{"QBits", Value = 25}         -- "Find a witness to the lake of fire's formation. Bring him back to the merchant guild in Alvar."
		evt.Add{"History4", Value = 0}
		evt.MoveNPC{NPC = 7, HouseId = 752}         -- "Overdune Snapfinger" -> "Overdune's House"
		evt.MoveNPC{NPC = 47, HouseId = 752}         -- "Farhill Snapfinger" -> "Overdune's House"
	else
		if evt.Cmp{"Players", Value = 4} then
			evt.SetMessage{Str = 887}         -- "Oh, what a mess you've made of things! When I asked you to find me a witness of events in the Ironsand Desert, I thought it would be obvious that you'd have to return him to me in good condition! I mean look at the poor Troll! Take him to the temple and get him fixed up.And please...try to remember you're working for the guild. We do have a reputation for conducting ourselves with at least passing competence."
		else
			if evt.Cmp{"QBits", Value = 60} then         -- Party visits Ironsand After QuestBit 25 set.
				evt.SetMessage{Str = 53}         -- "Well, so it is true. Imagine…a lake of fire. But where is my eyewitness? I need to speak with someone who saw its formation. This is important…for reasons I'm unwilling to discuss with you now.Find me someone who saw the birth of the lake of fire! Try searching the Troll village, Rust."
			else
				evt.SetMessage{Str = 52}         -- "I must know more about what is going on in the Ironsand Desert. I can't use more rumors. I have enough of those already.I need you to actually go there. The desert is several days travel to the east."
			end
		end
	end
end

-- "Quest"
evt.global[43] = function()
	if evt.Cmp{"QBits", Value = 19} then         -- Allied with Necromancers Guild. Steal Nightshade Brazier done.
		goto _3
	end
	if evt.Cmp{"QBits", Value = 20} then         -- Allied with Temple of the Sun. Destroy the Skeleton Transformer done.
		goto _3
	end
::_10::
	evt.SetMessage{Str = 54}         -- "You must form an alliance to stand against our threatened oblivion! Seek support from the Necromancers' Guild, Temple of the Sun, Minotaurs of Ravage Roaming, Dragons of Garrote Gorge, and the Dragon hunting party of Charles Quixote in Garrote Gorge. I'm sure that you will find it impossible to get all of them to agree to work together, but still, you must make your best effort.If we are to survive in this time of prophecy, my sages tell me that at least three of the groups I mentioned must agree to work together. Go and do this thing. If you value this world and your lives, go!"
	do return end
::_3::
	if evt.Cmp{"QBits", Value = 21} then         -- Allied with Charles Quioxte's Dragon Hunters. Return Dragon Egg to Quixote done.
		goto _6
	end
	if evt.Cmp{"QBits", Value = 22} then         -- Allied with Dragons. Return Dragon Egg to Dragons done.
		goto _6
	end
	goto _10
::_6::
	if evt.Cmp{"QBits", Value = 23} then         -- Allied with Minotaurs. Rescue the Minotaurs done.
		evt.SetMessage{Str = 881}         -- "Very good…or at least, as good as can be expected. You managed to bring three partners into the alliance--the minimum number my advisors told me would be sufficient to fulfill the ""…Jadame, must stand together…"" part of the prophecy. A pity it could not be more, but events of the cataclysm are clearly coming to a head. It is time to move onward.You must travel to Ravenshore and meet with the alliance council gathered there. With them, decide what must be the next step we take in meeting the elemental crisis."
		return
	end
	goto _10
end

-- "Well Done"
evt.global[44] = function()
	evt.SetMessage{Str = 55}         -- "You have done what I feared was impossible. Though these times are fraught with uncertainties, that you have united key factions of Jadame goes a long way towards securing our continued existence.Well, I have done what I can. I leave the defense of the land to the alliance council. I hope they find the accommodations I have provided them in Ravenshore to be adequate--the guild house there is not our most luxurious. Still, I though it would be best if the council was located near the crystal.I wish them, and you, good luck!"
end

-- "Lake of Fire"
evt.global[45] = function()
	evt.SetMessage{Str = 56}         -- "Yes, I was here when the lake of fire first appeared. A strange gateway appeared on the desert plain outside the village. The fire you see spilled forth from it. The fire spread like water poured on the ground.A wave of flames rushed over the edge of the village. Most of my people were lost instantly. What remains of this village is as you see it.I was in the hills overlooking the village when this all happened. I saw it all, but I can hardly believe it."
	evt.SetNPCTopic{NPC = 7, Index = 0, Event = 46}         -- "Overdune Snapfinger" : "Come to Alvar"
end

-- "Come to Alvar"
evt.global[46] = function()
	if evt.Cmp{"QBits", Value = 62} then         -- Vilebites Ashes (item603) placed in troll tomb.
		evt.SetMessage{Str = 59}         -- "You have done my family a great service. With his ashes safe in the holy sanctuary of the village tomb, Vilebite can lie in peace. My father, too is greatly improved. We have talked and I believe that he can now take care of himself while I accompany you to Alvar."
		evt.Add{"QBits", Value = 63}         -- Quest 61 done.
		evt.Subtract{"QBits", Value = 61}         -- "Put Vilebite's ashes in the Dust village tomb then return to Overdune."
		evt.ForPlayer(-- ERROR: Const not found
"All")
		evt.Add{"AutonotesBits", Value = 495}         -- "Placed Vilebite's ashes in the Troll Tomb."
		evt.ForPlayer(-- ERROR: Const not found
0)
		evt.Add{"Gold", Value = 7500}
		evt.ForPlayer(-- ERROR: Const not found
"All")
		evt.Add{"Experience", Value = 20000}
		evt.SetNPCTopic{NPC = 7, Index = 0, Event = 604}         -- "Overdune Snapfinger" : "Roster Join Event"
		evt.SetNPCGreeting{NPC = 47, Greeting = 18}         -- "Farhill Snapfinger" : "Come in…you are always welcome here."
		evt.SetNPCTopic{NPC = 47, Index = 0, Event = 47}         -- "Farhill Snapfinger" : "Vilebite"
	else
		if evt.Cmp{"QBits", Value = 61} then         -- "Put Vilebite's ashes in the Dust village tomb then return to Overdune."
			evt.SetMessage{Str = 58}         -- "I will go with you only after my brother's ashes are safely in the village tomb."
		else
			evt.SetMessage{Str = 57}         -- "I would come with you, If it were not for my father. So deep is his mourning for my brother, Vilebite, that he cannot care for himself.My father believes that Vilebite's soul cannot rest until his remains are at rest in the village tomb. Unfortunately, Gogs infested the tomb when the lake of fire appeared.Here! Take my brother's ashes. I'm sure my father's grief will lessen if they are placed in the tomb. Do this for me and I will travel with you to Alvar."
			evt.Add{"QBits", Value = 61}         -- "Put Vilebite's ashes in the Dust village tomb then return to Overdune."
			evt.Add{"Inventory", Value = 603}         -- "Urn of Ashes"
			evt.Add{"QBits", Value = 202}         -- Urn of Ashes - I lost it
		end
	end
end

-- "Vilebite"
evt.global[47] = function()
	evt.SetMessage{Str = 60}         -- "Vilebite was a good son. I will miss him. But at least I can take comfort knowing that he is at peace. Thank you for your kind and heroic deed."
end

-- "Alliance"
evt.CanShowTopic[48] = function()
	return evt.Cmp{"QBits", Value = 17}         -- "Form an alliance with the Dragons of Garrote Gorge."
end

evt.global[48] = function()
	evt.SetMessage{Str = 72}         -- """An alliance to unite Jadame,"" you say. If it wasn't Lordrin who was proposing it, I would normally have slain you for my supper.While intriguing, I cannot consider the idea now. We are under daily attack by the accursed knights of Charles Quixote. If he were not a problem, I could do as Lordrin asks.Perhaps you could help me with Quixote?"
	evt.SetNPCTopic{NPC = 17, Index = 0, Event = 49}         -- "Deftclaw Redreaver" : "Quest"
end

-- "Quest"
evt.global[49] = function()
	if not evt.Cmp{"QBits", Value = 21} then         -- Allied with Charles Quioxte's Dragon Hunters. Return Dragon Egg to Quixote done.
		if not evt.Cmp{"QBits", Value = 33} then         -- "Find the Dragon Egg and return it to the dragon leader, Deftclaw Redreaver."
			evt.SetMessage{Str = 73}         -- "Last month one of Quixote's raiding parties invaded our caves. They slew many and took with them the egg containing my unborn heir. While those foul slayers hold the egg, we cannot attack their encampment.If you were to return the egg to me, I could destroy Quixote. Do this for me and I will join your alliance."
			evt.Add{"QBits", Value = 33}         -- "Find the Dragon Egg and return it to the dragon leader, Deftclaw Redreaver."
			return
		end
		evt.ForPlayer(-- ERROR: Const not found
"All")
		if not evt.Cmp{"Inventory", Value = 605} then         -- "Dragon Leader's Egg"
			evt.SetMessage{Str = 74}         -- "If you want me to join your alliance, you will have to help me against Charles Quixote. Bring me the Dragon egg he stole from me!"
			return
		end
		evt.ShowMovie{DoubleSize = 1, Name = "\"dragonsrevenge\""}
		evt.SetMessage{Str = 855}         -- "Now that I need not fear my heir's destruction. I will visit my revenge on Quixote. His camp will face the assault of fire and claw. Those who have hunted us are now our prey animals.As for your alliance…you have done me a great service. I will honor my debt. As soon as I've set my enemies to flight or the beyond, I will join the alliance council in Ravenshore."
		evt.Add{"QBits", Value = 22}         -- Allied with Dragons. Return Dragon Egg to Dragons done.
		evt.Add{"QBits", Value = 35}         -- Quest 33 is done.
		evt.Subtract{"QBits", Value = 16}         -- "Form an alliance with the Dragon hunters of Garrote Gorge."
		evt.Subtract{"QBits", Value = 17}         -- "Form an alliance with the Dragons of Garrote Gorge."
		evt.Subtract{"QBits", Value = 31}         -- "Recover the Dragon Egg from Zog's fortress in Ravage Roaming and return it to Charles Quixote in Garrote Gorge."
		evt.Subtract{"QBits", Value = 33}         -- "Find the Dragon Egg and return it to the dragon leader, Deftclaw Redreaver."
		evt.SetNPCTopic{NPC = 15, Index = 0, Event = 0}         -- "Sir Charles Quixote"
		evt.SetNPCGreeting{NPC = 17, Greeting = 20}         -- "Deftclaw Redreaver" : "What do you want?"
		evt.SetNPCTopic{NPC = 17, Index = 0, Event = 0}         -- "Deftclaw Redreaver"
		evt.ForPlayer(-- ERROR: Const not found
"All")
		evt.Add{"Experience", Value = 20000}
		evt.ForPlayer(-- ERROR: Const not found
"All")
		evt.Subtract{"Inventory", Value = 605}         -- "Dragon Leader's Egg"
		evt.Subtract{"QBits", Value = 204}         -- Dragon Leader's Egg - I lost it, taken event g49, g64
		evt.ForPlayer(-- ERROR: Const not found
0)
		evt.Add{"Gold", Value = 10000}
		evt.ForPlayer(-- ERROR: Const not found
"All")
		evt.Add{"Awards", Value = 7}         -- "Formed an alliance with the Garrote Gorge Dragons."
	end
	evt.Add{"History7", Value = 0}
end

-- "Cure for Blazen Stormlance"
evt.CanShowTopic[50] = function()
	return evt.Cmp{"QBits", Value = 72}         -- "Inquire about a cure for Blazen Stormlance from Dervish Chevron in Ravenshore."
end

evt.global[50] = function()
	evt.SetMessage{Str = 68}         --[[ "The Gem of Restoration may cure the knight, Blazen Stormlance, of what you say has befallen him.
There is no love lost between the Temple of the Sun and the Guild of Necromancers; any opponent of theirs is definitely a friend of ours.
Restore Stormlance to life so that he may rejoin Charles Quixote." ]]
	evt.SetNPCTopic{NPC = 50, Index = 0, Event = 743}         -- "Dervish Chevron" : "Travel with you!"
	evt.Add{"Inventory", Value = 623}         -- "Gem of Restoration"
	evt.Add{"QBits", Value = 73}         -- Received Cure for Blazen Stormlance
	evt.Add{"QBits", Value = 217}         -- Gem of Restoration - I lost it
	evt.Subtract{"QBits", Value = 72}         -- "Inquire about a cure for Blazen Stormlance from Dervish Chevron in Ravenshore."
end

-- "Skeletal Dragons"
evt.global[51] = function()
	evt.SetMessage{Str = 61}         --[[ "My father believed that the Necromancers of Shadowspire were attempting to create an undead Dragon.
This would be a truly horrid beast. He believed is was his personal duty to stop them." ]]
end

-- "Promotion to Champion"
evt.global[52] = function()
	evt.SetMessage{Str = 62}         --[[ "My father Blazen, left here years ago to slay the Skeletal Dragons in the Shadowspire Region. Unfortunately, he has never returned.
He took with him, Ebonest, the greatest Dragon slaying spear ever forged. Charles Quixote has never forgiven my father for taking Ebonest with him.
Unfortunately we have no idea what befell my father.
Because my father was Charles’ second in command and responsible for the loss of Ebonest, Charles is unwilling to promote me to Champion, regardless of the merit of my skills. Perhaps if you find Ebonest, Charles with promote your knights and myself to Champions!" ]]
	evt.Add{"QBits", Value = 70}         -- "Find Blazen Stormlance and recover the spear Ebonest. Return to Leane Stormlance in Garrote Gorge and deliver Ebonest to Charles Quixote."
	evt.SetNPCTopic{NPC = 49, Index = 0, Event = 59}         -- "Leane Stormlance" : "My Father"
end

-- "Ebonest"
evt.global[53] = function()
	evt.SetMessage{Str = 63}         --[[ "I was captured in the center of the Mad Necromancer’s lab.
There I was tortured and many curses were placed upon me.
 Ebonest must have been taken from me when I fell, and perhaps is still in the central chamber.
If you were to recover it and return it to Quixote, at least my family name will be cleared, and my daughter can continue her life without my failure haunting her." ]]
end

-- "Cure"
evt.global[54] = function()
	evt.ForPlayer(-- ERROR: Const not found
"All")
	if evt.Cmp{"Inventory", Value = 623} then         -- "Gem of Restoration"
		evt.ForPlayer(-- ERROR: Const not found
"All")
		evt.SetMessage{Str = 531}         --[[ "The Cleric sent you back with the Gem of Restoration?
I am free of this place!
Search me out if you wish for me to ever travel with you!
It would be my pleasure to join you in your journeys!
I will wait for you at the Adventurer's Inn in Ravenshore." ]]
		evt.Subtract{"Inventory", Value = 623}         -- "Gem of Restoration"
		evt.Subtract{"QBits", Value = 217}         -- Gem of Restoration - I lost it
		evt.Add{"Experience", Value = 15000}
		evt.Add{"QBits", Value = 134}         -- Gave Gem of Restoration to Blazen Stormlance
		evt.Add{"QBits", Value = 435}         -- Roster Character In Party 36
		evt.ForPlayer(-- ERROR: Const not found
"All")
		evt.Add{"QBits", Value = 1542}         -- Rescued Blazen Stormlance.
		evt.SetNPCTopic{NPC = 107, Index = 1, Event = 0}         -- "Blazen Stormlance"
	else
		evt.SetMessage{Str = 64}         --[[ "Perhaps the Clerics of the Sun have a way to cure me, for they would be the only ones who would know how to counter the dark magics that afflict me. There is a friend of mine in Ravenshore named Dervish Chevron. He left the Temple of the Sun years ago to pursue his own research into the mysteries of Jadame.
Perhaps he would know of a cure, or even have it in his possession.
If he cannot help, promise you will return here and kill me so I may at last be at rest!" ]]
		evt.Add{"QBits", Value = 72}         -- "Inquire about a cure for Blazen Stormlance from Dervish Chevron in Ravenshore."
	end
end

-- "Mad Necromancer"
evt.global[55] = function()
	evt.SetMessage{Str = 65}         --[[ "Zanthora moved here from the Shadowspire to continue experiments she began at the Necromancers' Guild.
She desired to create the ultimate horror, the Skeletal Dragon.
Her fellow Necromancers feared the end result. If the created Dragons where ever to escape Zanthora’s control, there would be no stopping them." ]]
end

-- "Stormlance"
evt.global[56] = function()
	evt.SetMessage{Str = 66}         --[[ "Blazen Stormlance was my lieutenant and my friend.
I never understood his personal quest--this need to find these rumored Skeletal Dragons.
He took my greatest tool with him.
With Ebonest in my hand, I would have the Dragon problem well in hand.
" ]]
end

-- "Ebonest"
evt.global[57] = function()
	evt.SetMessage{Str = 67}         --[[ "The Clerics of the Sun imbued this spear with their blessings, making it the strongest spear forged.
Its power is said to be able to slay any Dragon with one blow.
If this were so, I could end my conflict quickly, cleanly and efficiently." ]]
end

-- "Promotion to Champion"
evt.CanShowTopic[58] = function()
	return evt.Cmp{"QBits", Value = 73}         -- Received Cure for Blazen Stormlance
end

evt.global[58] = function()
	evt.ForPlayer(-- ERROR: Const not found
"All")
	if not evt.Cmp{"Inventory", Value = 539} then         -- "Ebonest"
		evt.SetMessage{Str = 85}         --[[ "You have found Blazen Stormlance? But where is Ebonest?
Return to me when you have the spear and you will be promoted!" ]]
		return
	end
	if evt.Cmp{"QBits", Value = 22} then         -- Allied with Dragons. Return Dragon Egg to Dragons done.
		evt.SetMessage{Str = 71}         --[[ "What is this?
You ally with my mortal enemies and then seek to do me a favor?I wonder what the Dragons think of this. But so be it.
I am in your debt for returning Ebonest to me.
I will promote any Knights in your party to Champion, however they will never be accepted in my service.
The rest I will teach what I can. I do not wish to see you again!" ]]
	else
		evt.SetMessage{Str = 70}         --[[ "You found Blazen Stormlance?
What about MY spear Ebonest?
You have that as well?FANTASTIC!I thank you for this and find myself in your debt!
I will promote all knights in your party to Champion and teach what skills I can to the rest of your party. " ]]
	end
	evt.ForPlayer(-- ERROR: Const not found
0)
	if evt.Cmp{"ClassIs", Value = const.Class.PriestLight} then
		evt.Set{"ClassIs", Value = const.Class.PriestDark3}
		evt.Add{"Experience", Value = 50000}
		evt.Add{"QBits", Value = 1540}         -- Promoted to Champion.
		evt.Subtract{"Inventory", Value = 539}         -- "Ebonest"
	else
		evt.Add{"Experience", Value = 35000}
		evt.Add{"QBits", Value = 1541}         -- Returned Ebonest to Charles Quixote.
	end
	evt.ForPlayer(-- ERROR: Const not found
1)
	if evt.Cmp{"ClassIs", Value = const.Class.PriestLight} then
		evt.Set{"ClassIs", Value = const.Class.PriestDark3}
		evt.Add{"Experience", Value = 50000}
		evt.Add{"QBits", Value = 1540}         -- Promoted to Champion.
		evt.Subtract{"Inventory", Value = 539}         -- "Ebonest"
	else
		evt.Add{"Experience", Value = 35000}
		evt.Add{"QBits", Value = 1541}         -- Returned Ebonest to Charles Quixote.
	end
	evt.ForPlayer(-- ERROR: Const not found
2)
	if evt.Cmp{"ClassIs", Value = const.Class.PriestLight} then
		evt.Set{"ClassIs", Value = const.Class.PriestDark3}
		evt.Add{"Experience", Value = 50000}
		evt.Add{"QBits", Value = 1540}         -- Promoted to Champion.
		evt.Subtract{"Inventory", Value = 539}         -- "Ebonest"
	else
		evt.Add{"Experience", Value = 35000}
		evt.Add{"QBits", Value = 1541}         -- Returned Ebonest to Charles Quixote.
	end
	evt.ForPlayer(-- ERROR: Const not found
3)
	if evt.Cmp{"ClassIs", Value = const.Class.PriestLight} then
		evt.Set{"ClassIs", Value = const.Class.PriestDark3}
		evt.Add{"Experience", Value = 50000}
		evt.Add{"QBits", Value = 1540}         -- Promoted to Champion.
		evt.Subtract{"Inventory", Value = 539}         -- "Ebonest"
	else
		evt.Add{"Experience", Value = 35000}
		evt.Add{"QBits", Value = 1541}         -- Returned Ebonest to Charles Quixote.
	end
	evt.ForPlayer(-- ERROR: Const not found
4)
	if evt.Cmp{"ClassIs", Value = const.Class.PriestLight} then
		evt.Set{"ClassIs", Value = const.Class.PriestDark3}
		evt.Add{"Experience", Value = 50000}
		evt.Add{"QBits", Value = 1540}         -- Promoted to Champion.
		evt.Subtract{"Inventory", Value = 539}         -- "Ebonest"
	else
		evt.Add{"Experience", Value = 35000}
		evt.Add{"QBits", Value = 1541}         -- Returned Ebonest to Charles Quixote.
	end
	evt.Subtract{"QBits", Value = 70}         -- "Find Blazen Stormlance and recover the spear Ebonest. Return to Leane Stormlance in Garrote Gorge and deliver Ebonest to Charles Quixote."
	evt.SetNPCTopic{NPC = 15, Index = 2, Event = 735}         -- "Sir Charles Quixote" : "Promote Knights"
	evt.SetNPCTopic{NPC = 52, Index = 2, Event = 735}         -- "Sir Charles Quixote" : "Promote Knights"
end

-- "My Father"
evt.global[59] = function()
	if evt.Cmp{"QBits", Value = 435} then         -- Roster Character In Party 36
		if evt.Cmp{"Inventory", Value = 539} then         -- "Ebonest"
			goto _8
		end
		if evt.Cmp{"QBits", Value = 1541} then         -- Returned Ebonest to Charles Quixote.
			goto _8
		end
	else
		if not evt.Cmp{"Inventory", Value = 539} then         -- "Ebonest"
			evt.SetMessage{Str = 69}         --[[ "Have you found my father?
Or the spear Ebonest?
We must get it back to Charles Quixote!" ]]
			return
		end
	end
	evt.SetMessage{Str = 888}         --[[ "You found Ebonest?
What of my father?
Where is he?
I thought you were going to return when you had found both my father and the spear." ]]
	do return end
::_8::
	evt.SetMessage{Str = 889}         --[[ "You found my father and Ebonest?
I will be forever in your debt!
We should take the spear to Charles Quixote, and if he is agreeable, he will promote me and any knights in your party!" ]]
	evt.ForPlayer(-- ERROR: Const not found
"All")
	evt.Add{"Experience", Value = 5000}
	evt.SetNPCTopic{NPC = 49, Index = 0, Event = 611}         -- "Leane Stormlance" : "Roster Join Event"
end

-- "Promotion to Great Wyrm"
evt.global[60] = function()
	if evt.Cmp{"QBits", Value = 21} then         -- Allied with Charles Quioxte's Dragon Hunters. Return Dragon Egg to Quixote done.
		evt.SetMessage{Str = 76}         --[[ "You think I would promote a Dragon that serves those who have allied themselves with our Mortal enemy, Charles Quixote.
What arrogance!
What outrageousness!
You will have to prove yourselves to me! And in the proving you will deal a serious blow to your allies!
To the southwest of here, Quixote has established an encampment of his puny “Dragon Slayers.”
This camp is lead by Jeric Whistlebone, the second in command of Quixote’s army.
Destroy this camp!
Kill all of those who serve Quixote in that region and return to me.
Return to me with the sword of
Whistlebone the Slayer." ]]
		evt.Add{"QBits", Value = 74}         -- "Kill all Dragon Slayers and return the Sword of Whistlebone the Slayer to Deftclaw Redreaver in Garrote Gorge."
		evt.SetNPCTopic{NPC = 17, Index = 1, Event = 61}         -- "Deftclaw Redreaver" : "Dragon Slayers"
		evt.SetNPCTopic{NPC = 17, Index = 1, Event = 61}         -- "Deftclaw Redreaver" : "Dragon Slayers"
	else
		evt.Cmp{"QBits", Value = 22}         -- Allied with Dragons. Return Dragon Egg to Dragons done.
		evt.SetMessage{Str = 75}         --[[ "To attain the status of Great Wyrm, a Dragon must prove that he can handle himself against a great number of foes.
He must face down the vermin that Charles Quixote would send against us.
To the southwest of here, Quixote has established an encampment of his puny “Dragon Slayers.”
This camp is lead by Jeric Whistlebone, the second in command of Quixote’s army.
Destroy this camp!
Kill all of those who serve Quixote in that region and return to me.
Return to me with the sword of
Whistlebone the Slayer.
In doing this, you will prove to me your worthiness.
" ]]
		evt.Add{"QBits", Value = 74}         -- "Kill all Dragon Slayers and return the Sword of Whistlebone the Slayer to Deftclaw Redreaver in Garrote Gorge."
		evt.SetNPCTopic{NPC = 17, Index = 1, Event = 61}         -- "Deftclaw Redreaver" : "Dragon Slayers"
		evt.SetNPCTopic{NPC = 53, Index = 1, Event = 61}         -- "Deftclaw Redreaver" : "Dragon Slayers"
	end
end

-- "Dragon Slayers"
evt.CanShowTopic[61] = function()
	return not evt.Cmp{"QBits", Value = 75}         -- Killed all Dragon Slayers in southwest encampment in Area 5
end

evt.global[61] = function()
	if not evt.Cmp{"QBits", Value = 21} then         -- Allied with Charles Quioxte's Dragon Hunters. Return Dragon Egg to Quixote done.
		if evt.Cmp{"QBits", Value = 22} then         -- Allied with Dragons. Return Dragon Egg to Dragons done.
			evt.SetMessage{Str = 77}         --[[ "Have you slain the “Dragon Slayers?""
Where is the sword of Whistlebone the Slayer?!?" ]]
		else
			evt.SetMessage{Str = 86}         --[[ "That cursed knight, Charles Quixote is assembling his best Dragon Slayers at an encampment to the southwest of here.
He must be planning another assault upon the Dragon Caves!" ]]
		end
	end
end

-- "Sword of the Slayer"
evt.CanShowTopic[62] = function()
	return evt.Cmp{"QBits", Value = 75}         -- Killed all Dragon Slayers in southwest encampment in Area 5
end

evt.global[62] = function()
	evt.ForPlayer(-- ERROR: Const not found
"All")
	if not evt.Cmp{"Inventory", Value = 540} then         -- "Sword of Whistlebone"
		evt.SetMessage{Str = 81}         --[[ "You have killed the Dragon Slayers, but where is the Sword of Whistlebone?
Return to me when you have it!" ]]
		return
	end
	if evt.Cmp{"QBits", Value = 22} then         -- Allied with Dragons. Return Dragon Egg to Dragons done.
		goto _11
	end
	if not evt.Cmp{"QBits", Value = 21} then         -- Allied with Charles Quioxte's Dragon Hunters. Return Dragon Egg to Quixote done.
		goto _11
	end
	evt.SetMessage{Str = 80}         --[[ "You return to me with the sword of the Slayer, Whistlebone!
Is there no end to the treachery that you will commit? Is there no one that you owe allegiance to?
I will promote those Dragons who travel with you to Great Wyrm, however they will never fly underneath me!
There rest of your traitorous group will be instructed in those skills which can be taught to them!
Go now!
Never show your face here again, unless you want it eaten!" ]]
::_15::
	evt.ForPlayer(-- ERROR: Const not found
0)
	if evt.Cmp{"ClassIs", Value = const.Class.AcolyteLight} then
		evt.Set{"ClassIs", Value = const.Class.ClericLight}
		evt.Add{"Experience", Value = 35000}
		evt.Add{"QBits", Value = 1543}         -- Promoted to Great Wyrm.
		evt.Subtract{"Inventory", Value = 540}         -- "Sword of Whistlebone"
	else
		evt.Add{"Experience", Value = 25000}
		evt.Add{"QBits", Value = 1544}         -- Gave the Sword of Whistlebone the Slayer to the Deftclaw Redreaver.
	end
	evt.ForPlayer(-- ERROR: Const not found
1)
	if evt.Cmp{"ClassIs", Value = const.Class.AcolyteLight} then
		evt.Set{"ClassIs", Value = const.Class.ClericLight}
		evt.Add{"Experience", Value = 35000}
		evt.Add{"QBits", Value = 1543}         -- Promoted to Great Wyrm.
		evt.Subtract{"Inventory", Value = 540}         -- "Sword of Whistlebone"
	else
		evt.Add{"Experience", Value = 25000}
		evt.Add{"QBits", Value = 1544}         -- Gave the Sword of Whistlebone the Slayer to the Deftclaw Redreaver.
	end
	evt.ForPlayer(-- ERROR: Const not found
2)
	if evt.Cmp{"ClassIs", Value = const.Class.AcolyteLight} then
		evt.Set{"ClassIs", Value = const.Class.ClericLight}
		evt.Add{"Experience", Value = 35000}
		evt.Add{"QBits", Value = 1543}         -- Promoted to Great Wyrm.
		evt.Subtract{"Inventory", Value = 540}         -- "Sword of Whistlebone"
	else
		evt.Add{"Experience", Value = 25000}
		evt.Add{"QBits", Value = 1544}         -- Gave the Sword of Whistlebone the Slayer to the Deftclaw Redreaver.
	end
	evt.ForPlayer(-- ERROR: Const not found
3)
	if evt.Cmp{"ClassIs", Value = const.Class.AcolyteLight} then
		evt.Set{"ClassIs", Value = const.Class.ClericLight}
		evt.Add{"Experience", Value = 35000}
		evt.Add{"QBits", Value = 1543}         -- Promoted to Great Wyrm.
		evt.Subtract{"Inventory", Value = 540}         -- "Sword of Whistlebone"
	else
		evt.Add{"Experience", Value = 25000}
		evt.Add{"QBits", Value = 1544}         -- Gave the Sword of Whistlebone the Slayer to the Deftclaw Redreaver.
	end
	evt.ForPlayer(-- ERROR: Const not found
4)
	if evt.Cmp{"ClassIs", Value = const.Class.AcolyteLight} then
		evt.Set{"ClassIs", Value = const.Class.ClericLight}
		evt.Add{"Experience", Value = 35000}
		evt.Add{"QBits", Value = 1543}         -- Promoted to Great Wyrm.
		evt.Subtract{"Inventory", Value = 540}         -- "Sword of Whistlebone"
	else
		evt.Add{"Experience", Value = 25000}
		evt.Add{"QBits", Value = 1544}         -- Gave the Sword of Whistlebone the Slayer to the Deftclaw Redreaver.
	end
	evt.ForPlayer(-- ERROR: Const not found
"All")
	evt.Subtract{"QBits", Value = 74}         -- "Kill all Dragon Slayers and return the Sword of Whistlebone the Slayer to Deftclaw Redreaver in Garrote Gorge."
	evt.SetNPCTopic{NPC = 17, Index = 2, Event = 736}         -- "Deftclaw Redreaver" : "Promote Dragons"
	evt.SetNPCTopic{NPC = 53, Index = 2, Event = 736}         -- "Deftclaw Redreaver" : "Promote Dragons"
	do return end
::_11::
	evt.SetMessage{Str = 79}         --[[ "You return to me with the sword of the Slayer, Whistlebone!
You are indeed worthy of my notice!
The Dragons in your group are promoted to Great Wyrm!
I will teach the others of your group what skills I can as a reward for their assistance!" ]]
	goto _15
end

-- "Alliance"
evt.CanShowTopic[63] = function()
	return evt.Cmp{"QBits", Value = 16}         -- "Form an alliance with the Dragon hunters of Garrote Gorge."
end

evt.global[63] = function()
	evt.SetMessage{Str = 82}         -- "Hmmm…things must be serious if trader Loudrin is involving himself in matters other than his own fortunes...and I must say that there is a taint of doom in the air.If only for continued good business between my operation and his, I would normally entertain this notion of Loudrin's. Unfortunately, matters here are tying up all of my resources. I have none to spare for support of this alliance you speak of.Say, perhaps we can help each other? If you were to take care of a little matter for me, I could consider honoring your request."
	evt.SetNPCTopic{NPC = 15, Index = 0, Event = 64}         -- "Sir Charles Quixote" : "Quest"
end

-- "Quest"
evt.global[64] = function()
	if not evt.Cmp{"QBits", Value = 22} then         -- Allied with Dragons. Return Dragon Egg to Dragons done.
		if not evt.Cmp{"QBits", Value = 31} then         -- "Recover the Dragon Egg from Zog's fortress in Ravage Roaming and return it to Charles Quixote in Garrote Gorge."
			evt.SetMessage{Str = 83}         -- "One of my customers, an Ogre that goes by the charming moniker of ""Zog the Jackal,"" has seriously betrayed my trust. I gave him an item of great value on promise of future payment. This rather large payment never arrived. I sent a messenger to demand return of the item--a Dragon's egg of great potential. This messenger was slain!Needless to say, this matter concerns me greatly. I have allotted both money and men for the purpose of revenge. If, however, you were to recover the egg for me from Zog's fortress in Ravage Roaming, I would be glad to pledge service to your alliance."
			evt.Add{"QBits", Value = 31}         -- "Recover the Dragon Egg from Zog's fortress in Ravage Roaming and return it to Charles Quixote in Garrote Gorge."
			return
		end
		evt.ForPlayer(-- ERROR: Const not found
"All")
		if not evt.Cmp{"Inventory", Value = 605} then         -- "Dragon Leader's Egg"
			evt.SetMessage{Str = 84}         -- "Have you recovered the Dragon egg from Zog's Ravage Roaming fortress? Oh, never mind. I can see from your abashed expression that you have not.I stand firm on our deal. Bring me that egg, or I'll have nothing to do with your alliance!"
			return
		end
		evt.ShowMovie{DoubleSize = 1, Name = "\"dragonhunters\""}
		evt.SetMessage{Str = 848}         -- "Well, that matter's done. I will make arrangements to travel to Ravenshore so I myself may sit on your council. Frankly, I could use a bit of change. I will leave my second in command, Reginald Dorray, in charge.Again, good job."
		evt.Add{"QBits", Value = 21}         -- Allied with Charles Quioxte's Dragon Hunters. Return Dragon Egg to Quixote done.
		evt.Add{"QBits", Value = 35}         -- Quest 33 is done.
		evt.Subtract{"QBits", Value = 16}         -- "Form an alliance with the Dragon hunters of Garrote Gorge."
		evt.Subtract{"QBits", Value = 17}         -- "Form an alliance with the Dragons of Garrote Gorge."
		evt.Subtract{"QBits", Value = 31}         -- "Recover the Dragon Egg from Zog's fortress in Ravage Roaming and return it to Charles Quixote in Garrote Gorge."
		evt.Subtract{"QBits", Value = 33}         -- "Find the Dragon Egg and return it to the dragon leader, Deftclaw Redreaver."
		evt.SetNPCTopic{NPC = 15, Index = 0, Event = 0}         -- "Sir Charles Quixote"
		evt.SetNPCGreeting{NPC = 15, Greeting = 22}         -- "Sir Charles Quixote" : "You just caught me. I'm almost ready to leave for Ravenshore, but how may I help you?"
		evt.SetNPCTopic{NPC = 17, Index = 0, Event = 0}         -- "Deftclaw Redreaver"
		evt.MoveNPC{NPC = 255, HouseId = 0}         -- "Bazalath"
		evt.ForPlayer(-- ERROR: Const not found
"All")
		evt.Add{"Experience", Value = 20000}
		evt.ForPlayer(-- ERROR: Const not found
"All")
		evt.Subtract{"Inventory", Value = 605}         -- "Dragon Leader's Egg"
		evt.Subtract{"QBits", Value = 204}         -- Dragon Leader's Egg - I lost it, taken event g49, g64
		evt.ForPlayer(-- ERROR: Const not found
0)
		evt.Add{"Gold", Value = 10000}
		evt.ForPlayer(-- ERROR: Const not found
"All")
		evt.Add{"Awards", Value = 8}         -- "Formed an alliance with Charles Quixote and his Dragon Hunters."
	end
	evt.Add{"History8", Value = 0}
end

-- "Alliance"
evt.global[65] = function()
	evt.SetMessage{Str = 87}         -- "You would like my herd to join into an alliance? How could I refuse you? Not only have you saved us from certain death, we have suffered directly from the cataclysm the alliance is being created to fight!You have my pledge. With the greatest haste I myself will travel to Ravenshore to take a seat on the alliance council."
	evt.ForPlayer(-- ERROR: Const not found
"All")
	evt.Add{"Awards", Value = 9}         -- "Formed an alliance with the Minotaurs of Ravage Roaming."
	evt.Add{"Experience", Value = 20000}
	evt.Add{"QBits", Value = 23}         -- Allied with Minotaurs. Rescue the Minotaurs done.
	evt.Subtract{"QBits", Value = 18}         -- "Form an alliance with the Minotaurs of Ravage Roaming."
	evt.Subtract{"QBits", Value = 30}         -- "Rescue the Minotaurs trapped in their lair in Ravage Roaming."
	evt.Add{"History11", Value = 0}
	evt.SetNPCTopic{NPC = 13, Index = 0, Event = 0}         -- "Masul"
	evt.SetNPCTopic{NPC = 57, Index = 0, Event = 613}         -- "Thanys" : "Roster Join Event"
	evt.SetNPCTopic{NPC = 57, Index = 1, Event = 0}         -- "Thanys"
	evt.SetNPCTopic{NPC = 57, Index = 2, Event = 0}         -- "Thanys"
end

-- "Flood"
evt.global[66] = function()
	evt.SetMessage{Str = 88}         -- "It was the worst of horrors! I was on guard in the main labyrinth just north of here when the waters came. A great wave as high as my head flooded through the passages. I managed to reach this high chamber. I waited for others, but there were none. I fear that many of the herd are dead or trapped inside the lair."
	evt.SetNPCTopic{NPC = 57, Index = 0, Event = 67}         -- "Thanys" : "Quest"
end

-- "Quest"
evt.global[67] = function()
	if evt.Cmp{"QBits", Value = 30} then         -- "Rescue the Minotaurs trapped in their lair in Ravage Roaming."
		evt.SetMessage{Str = 90}         -- "I just feel it. There are still survivors of my herd trapped in the lair. If you can figure out how to drain the water from flooded passages, you may be able to reach them. Help them, I beg of you!"
	else
		evt.SetMessage{Str = 89}         -- "Balthazar Lair has many levels. There are other chambers as high as this one., so there may be others who have survived.I have thought long on this. Though many of the tunnels are flooded, it may be possible to drain them using the doors and air vents as valves. In fact, the whole lair could be drained through the lower level escape tunnel. Help my herd! You would have our eternal gratitude."
		evt.Add{"QBits", Value = 30}         -- "Rescue the Minotaurs trapped in their lair in Ravage Roaming."
	end
end

-- "Axe of Balthazar"
evt.global[68] = function()
	evt.SetMessage{Str = 91}         -- "Balthazar, the greatest leader in the history of our herd, led our warriors in a mighty battle against the Dark Dwarf vermin that erupt from the earth and spread like a plague. It was not a battle that went well for us. Though Balthazar and some warriors escaped, many were lost along with Balthazar's Axe--his regalia of office, and a powerful artifact as well."
end

-- "Promotion to Minotaur Lord"
evt.global[69] = function()
	evt.SetMessage{Str = 92}         --[[ "Only Masul, our herd leader, can deem an individual worthy of the title of Minotaur Lord.
One way to prove your worth, would be to recover his father’s axe, the Axe of Balthazar from the bowels of the Mines of the Dark Dwarfs.
Set your feet upon the path of this quest, and great is you future!
But we must be sure that the axe you find is indeed the Axe of Balthazar.
Take the Axe to Dadeross, a Minotaur in the service of the Merchants of Alvar, on the island of Dagger Wound.
He will be able to verify the truth of what you find." ]]
	evt.Add{"QBits", Value = 76}         -- "Find the Axe of Balthazar, in the Dark Dwarf Mines.  Have the Axe authenticated by Dadeross.  Return the axe to Tessalar, heir to the leadership of the Minotaur Herd."
	evt.SetNPCTopic{NPC = 58, Index = 0, Event = 71}         -- "Tessalar" : "Quest"
end

-- "Dark Dwarves"
evt.global[70] = function()
	evt.SetMessage{Str = 93}         --[[ "These little vermin work with or for the Elements of the Earth.
No one can tell which.
They burrow up from the earth in search of wealth, food, and slaves.
Nothing is left behind where these scavengers have been." ]]
end

-- "Quest"
evt.CanShowTopic[71] = function()
	return evt.Cmp{"Inventory", Value = 732}         -- "Certificate of Authentication"
end

evt.global[71] = function()
	evt.ForPlayer(-- ERROR: Const not found
"All")
	if not evt.Cmp{"Inventory", Value = 541} then         -- "Axe of Balthazar"
		evt.SetMessage{Str = 98}         --[[ "Where is Balthazar's Axe?
You waste my time!
Find the axe, find Dadeross and return to me!" ]]
		return
	end
	if not evt.Cmp{"Inventory", Value = 732} then         -- "Certificate of Authentication"
		evt.SetMessage{Str = 94}         --[[ "You have found the Axe of Balthazar!
Have you presented it to Dadeross?
Without his authentication, we can not proceed with the Rite’s of Purity!
Find him and return to us once you have presented him with the axe!" ]]
		return
	end
	evt.SetMessage{Str = 95}         --[[ "You have found the Axe of Balthazar!
Have you presented it to Dadeross? Ah, you have authentication from Dadeross!
The Rite’s of Purity will begin immediately! You proven yourselves worthy, and our now members of our herd!
The Minotaurs who travel with you are promoted to Minotaur Lord.
The others in your group will be taught what skills we have that maybe useful to them." ]]
	evt.ForPlayer(-- ERROR: Const not found
0)
	if evt.Cmp{"ClassIs", Value = const.Class.DarkElf0} then
		evt.Set{"ClassIs", Value = const.Class.DarkElf}
		evt.Add{"Experience", Value = 35000}
		evt.Add{"QBits", Value = 1545}         -- Promoted to Minotaur Lord.
		evt.Subtract{"Inventory", Value = 541}         -- "Axe of Balthazar"
		evt.Subtract{"Inventory", Value = 732}         -- "Certificate of Authentication"
	else
		evt.Add{"Experience", Value = 25000}
		evt.Add{"Awards", Value = 29}         -- "Recovered Axe of Balthazar."
	end
	evt.ForPlayer(-- ERROR: Const not found
1)
	if evt.Cmp{"ClassIs", Value = const.Class.DarkElf0} then
		evt.Set{"ClassIs", Value = const.Class.DarkElf}
		evt.Add{"Experience", Value = 35000}
		evt.Add{"QBits", Value = 1545}         -- Promoted to Minotaur Lord.
		evt.Subtract{"Inventory", Value = 541}         -- "Axe of Balthazar"
		evt.Subtract{"Inventory", Value = 732}         -- "Certificate of Authentication"
	else
		evt.Add{"Experience", Value = 25000}
		evt.Add{"Awards", Value = 29}         -- "Recovered Axe of Balthazar."
	end
	evt.ForPlayer(-- ERROR: Const not found
2)
	if evt.Cmp{"ClassIs", Value = const.Class.DarkElf0} then
		evt.Set{"ClassIs", Value = const.Class.DarkElf}
		evt.Add{"Experience", Value = 35000}
		evt.Add{"QBits", Value = 1545}         -- Promoted to Minotaur Lord.
		evt.Subtract{"Inventory", Value = 541}         -- "Axe of Balthazar"
		evt.Subtract{"Inventory", Value = 732}         -- "Certificate of Authentication"
	else
		evt.Add{"Experience", Value = 25000}
		evt.Add{"Awards", Value = 29}         -- "Recovered Axe of Balthazar."
	end
	evt.ForPlayer(-- ERROR: Const not found
3)
	if evt.Cmp{"ClassIs", Value = const.Class.DarkElf0} then
		evt.Set{"ClassIs", Value = const.Class.DarkElf}
		evt.Add{"Experience", Value = 35000}
		evt.Add{"QBits", Value = 1545}         -- Promoted to Minotaur Lord.
		evt.Subtract{"Inventory", Value = 541}         -- "Axe of Balthazar"
		evt.Subtract{"Inventory", Value = 732}         -- "Certificate of Authentication"
	else
		evt.Add{"Experience", Value = 25000}
		evt.Add{"Awards", Value = 29}         -- "Recovered Axe of Balthazar."
	end
	evt.ForPlayer(-- ERROR: Const not found
4)
	if evt.Cmp{"ClassIs", Value = const.Class.DarkElf0} then
		evt.Set{"ClassIs", Value = const.Class.DarkElf}
		evt.Add{"Experience", Value = 35000}
		evt.Add{"QBits", Value = 1545}         -- Promoted to Minotaur Lord.
		evt.Subtract{"Inventory", Value = 541}         -- "Axe of Balthazar"
		evt.Subtract{"Inventory", Value = 732}         -- "Certificate of Authentication"
		evt.ForPlayer(-- ERROR: Const not found
"All")
	else
		evt.Add{"Experience", Value = 25000}
		evt.Add{"Awards", Value = 29}         -- "Recovered Axe of Balthazar."
	end
	evt.Subtract{"QBits", Value = 76}         -- "Find the Axe of Balthazar, in the Dark Dwarf Mines.  Have the Axe authenticated by Dadeross.  Return the axe to Tessalar, heir to the leadership of the Minotaur Herd."
	evt.Add{"QBits", Value = 87}         -- 0
	evt.Subtract{"Inventory", Value = 541}         -- "Axe of Balthazar"
	evt.Subtract{"Inventory", Value = 732}         -- "Certificate of Authentication"
	evt.SetNPCTopic{NPC = 58, Index = 0, Event = 740}         -- "Tessalar" : "Promote Minotuars"
end

--[[ "Balthazar of 
Ravage Roaming" ]]
evt.global[72] = function()
	if evt.Cmp{"QBits", Value = 76} then         -- "Find the Axe of Balthazar, in the Dark Dwarf Mines.  Have the Axe authenticated by Dadeross.  Return the axe to Tessalar, heir to the leadership of the Minotaur Herd."
		evt.SetNPCTopic{NPC = 2, Index = 3, Event = 73}         -- "Dadeross" : "The Axe of Balthazar"
	else
		evt.SetMessage{Str = 96}         --[[ "It was my pleasure to serve under Lord Balthazar, he was the finest herd leader in my tribe’s history.
Unfortunately, my services were pledged to the Merchants of Alvar, or I may have been in the battle where Balthazar fell.
Perhaps my ability and my axe could have saved my lord.
We’ll never know now." ]]
	end
end

-- "The Axe of Balthazar"
evt.CanShowTopic[73] = function()
	return evt.Cmp{"Inventory", Value = 541}         -- "Axe of Balthazar"
end

evt.global[73] = function()
	evt.ForPlayer(-- ERROR: Const not found
"All")
	if evt.Cmp{"Inventory", Value = 541} then         -- "Axe of Balthazar"
		evt.SetMessage{Str = 97}         --[[ "Of course I would know Balthazar's Axe if I saw it!
Do you have it with you? This IS the axe!
You must take this back to Tessalar, so the Rite’s of Purity may be performed upon the axe, so it be made ready for the son of Balthazar, Masul.
Take this letter with you, it carries my personal seal, and statement that this is indeed the Axe of Balthazar!" ]]
		evt.ForPlayer(-- ERROR: Const not found
0)
		evt.Add{"Inventory", Value = 732}         -- "Certificate of Authentication"
		evt.SetNPCTopic{NPC = 2, Index = 3, Event = 75}         -- "Dadeross" : "Hurry!"
	else
		evt.SetMessage{Str = 100}         --[[ "Of course I would know Balthazar's Axe if I saw it!
Do you have it with you?
If you find it, return to me so that I may certify that it is indeed the axe of my late lord, Balthazar." ]]
	end
end

-- "Thanks for your help!"
evt.global[74] = function()
	evt.SetMessage{Str = 99}         --[[ "Thank you for returning the Axe of Balthazar to us!
When we complete the Rites of Purity, we will present the axe to Masul. It will then be known as the Axe of Masul and surely Masul will be a wise and just herd leader." ]]
end

-- "Hurry!"
evt.global[75] = function()
	if evt.Cmp{"QBits", Value = 87} then         -- 0
		evt.SetMessage{Str = 102}         --[[ "Ah, you returned Balthazar's Axe with my certificate to Tessalar!
The Rites of Purity have begun.
Soon Lord Masul will wield his father's axe as his own!
Greatness will return to my herd!" ]]
	else
		evt.SetMessage{Str = 101}         --[[ "You have found Balthazar's Axe and I have authenticated it!
Hurry back to Tessalar so that the Rites of Purity may begin!" ]]
	end
end

-- "Prophecies of the Sun"
evt.global[76] = function()
	evt.ForPlayer(-- ERROR: Const not found
"All")
	evt.SetMessage{Str = 103}         --[[ "Of the many Prophecies of Jadame, the only ones that I have not be studied are the Prophecies of the Sun.
This temple was established by Tesius Dawnglow, who traveled here from Erathia many years ago to find these Prophecies.
Unfortunately, they were not found.
It is our hope that these Prophecies hold the solution to the events that are destroying Jadame." ]]
end

evt.CanShowTopic[76] = function()
	local result
	if not evt.Cmp{"QBits", Value = 1546} then         -- Promoted to Cleric of the Sun.
		result = evt.Cmp{"Awards", Value = 31}         -- "Found the lost Prophecies of the Sun and returned them to the Temple of the Sun."
	end
	return true
end

-- "Clues"
evt.global[77] = function()
	evt.ForPlayer(-- ERROR: Const not found
"All")
	evt.SetMessage{Str = 104}         --[[ "I know that the Prophecies can be found in the Lair of the Feathered Serpent.
However, I have no idea what that means, thus the clue is no help to me. " ]]
end

evt.CanShowTopic[77] = function()
	local result
	if not evt.Cmp{"QBits", Value = 1546} then         -- Promoted to Cleric of the Sun.
		result = not evt.Cmp{"Awards", Value = 31}         -- "Found the lost Prophecies of the Sun and returned them to the Temple of the Sun."
	end
	return false
end

-- "Promotion to Priest of the Light"
evt.global[78] = function()
	evt.SetMessage{Str = 105}         --[[ "You seek promotion for the clerics of our faith who travel with you.?
I can promote you, but I do not place much trust or faith in strangers these days.
If you were to do something for me, such as finding the lost Prophecies of the Sun, and returning them to me, then I would be agreeable to promoting you." ]]
	evt.Add{"QBits", Value = 78}         -- "Find the Prophecies of the Sun in the Abandoned Temple  and take them to Stephen."
	evt.SetNPCTopic{NPC = 59, Index = 2, Event = 81}         -- "Stephen" : "Quest"
end

--[[ "Lair of the 
Feathered Serpent" ]]
evt.global[79] = function()
	evt.SetMessage{Str = 118}         --[[ "Lair of the Feathered Serpent?
That could possibly refer to the poisonous couatl, but they have not been seen for centuries." ]]
end

-- "Prophecies of the Sun"
evt.global[80] = function()
	evt.ForPlayer(-- ERROR: Const not found
"All")
	evt.SetMessage{Str = 119}         --[[ "The Prophecies of the Sun have never been found.
They may not event exist. The Prophecies were written by our greatest prophet.
If they are found it is our hope they will be returned to us!" ]]
end

evt.CanShowTopic[80] = function()
	local result
	if not evt.Cmp{"QBits", Value = 1546} then         -- Promoted to Cleric of the Sun.
		result = not evt.Cmp{"Awards", Value = 31}         -- "Found the lost Prophecies of the Sun and returned them to the Temple of the Sun."
	end
	return false
end

-- "Quest"
evt.CanShowTopic[81] = function()
	return evt.Cmp{"Inventory", Value = 626}         -- "Prophecies of the Sun"
end

evt.global[81] = function()
	evt.ForPlayer(-- ERROR: Const not found
"All")
	if not evt.Cmp{"Inventory", Value = 626} then         -- "Prophecies of the Sun"
		evt.SetMessage{Str = 106}         --[[ "Have you found this Lair of the Feathered Serpent and the Prophecies of the Sun?
Do not waste my time!
The world is ending and you waste time with useless conversation!
Return to me when you have found the Prophecies and have taken them to the Temple of the Sun." ]]
		return
	end
	evt.SetMessage{Str = 107}         --[[ "You have found the lost Prophecies of the Sun?
May the Light forever shine upon you and may the Prophet guide your steps.
With these we may be able to find the answer to what has befallen Jadame! " ]]
	evt.ForPlayer(-- ERROR: Const not found
0)
	if evt.Cmp{"ClassIs", Value = const.Class.MasterArcher} then
		evt.Set{"ClassIs", Value = const.Class.Sniper}
		evt.Add{"Experience", Value = 35000}
		evt.Add{"QBits", Value = 1546}         -- Promoted to Cleric of the Sun.
		evt.Subtract{"Inventory", Value = 626}         -- "Prophecies of the Sun"
	else
		evt.Add{"Experience", Value = 25000}
		evt.Add{"Awards", Value = 31}         -- "Found the lost Prophecies of the Sun and returned them to the Temple of the Sun."
	end
	evt.ForPlayer(-- ERROR: Const not found
1)
	if evt.Cmp{"ClassIs", Value = const.Class.MasterArcher} then
		evt.Set{"ClassIs", Value = const.Class.Sniper}
		evt.Add{"Experience", Value = 35000}
		evt.Add{"QBits", Value = 1546}         -- Promoted to Cleric of the Sun.
		evt.Subtract{"Inventory", Value = 626}         -- "Prophecies of the Sun"
	else
		evt.Add{"Experience", Value = 25000}
		evt.Add{"Awards", Value = 31}         -- "Found the lost Prophecies of the Sun and returned them to the Temple of the Sun."
	end
	evt.ForPlayer(-- ERROR: Const not found
2)
	if evt.Cmp{"ClassIs", Value = const.Class.MasterArcher} then
		evt.Set{"ClassIs", Value = const.Class.Sniper}
		evt.Add{"Experience", Value = 35000}
		evt.Add{"QBits", Value = 1546}         -- Promoted to Cleric of the Sun.
		evt.Subtract{"Inventory", Value = 626}         -- "Prophecies of the Sun"
	else
		evt.Add{"Experience", Value = 25000}
		evt.Add{"Awards", Value = 31}         -- "Found the lost Prophecies of the Sun and returned them to the Temple of the Sun."
	end
	evt.ForPlayer(-- ERROR: Const not found
3)
	if evt.Cmp{"ClassIs", Value = const.Class.MasterArcher} then
		evt.Set{"ClassIs", Value = const.Class.Sniper}
		evt.Add{"Experience", Value = 35000}
		evt.Add{"QBits", Value = 1546}         -- Promoted to Cleric of the Sun.
		evt.Subtract{"Inventory", Value = 626}         -- "Prophecies of the Sun"
	else
		evt.Add{"Experience", Value = 25000}
		evt.Add{"Awards", Value = 31}         -- "Found the lost Prophecies of the Sun and returned them to the Temple of the Sun."
	end
	evt.ForPlayer(-- ERROR: Const not found
4)
	if evt.Cmp{"ClassIs", Value = const.Class.MasterArcher} then
		evt.Set{"ClassIs", Value = const.Class.Sniper}
		evt.Add{"Experience", Value = 35000}
		evt.Add{"QBits", Value = 1546}         -- Promoted to Cleric of the Sun.
		evt.Subtract{"Inventory", Value = 626}         -- "Prophecies of the Sun"
	else
		evt.Add{"Experience", Value = 25000}
		evt.Add{"Awards", Value = 31}         -- "Found the lost Prophecies of the Sun and returned them to the Temple of the Sun."
	end
	evt.Subtract{"QBits", Value = 78}         -- "Find the Prophecies of the Sun in the Abandoned Temple  and take them to Stephen."
	evt.SetNPCTopic{NPC = 59, Index = 2, Event = 737}         -- "Stephen" : "Promote Clerics"
end

-- "Korbu"
evt.global[82] = function()
	evt.SetMessage{Str = 109}         --[[ "Korbu was the most powerful of the Vampire race.
Over one hundred years ago, he sought something that our kind cannot accept.
Absolution.
Somehow, Korbu began to experience guilt over the need to feed.
Or perhaps over the act of feeding itself.
He could no longer bear the thought of killing in order to survive.
Many of our elders argued with him.
He decided to find a place where he could ponder his existence.
Thus the Crypt of Korbu was constructed with slave labor in the Ravage Roaming region.
 Korbu has not been heard from since he left.
" ]]
end

-- "Quest"
evt.global[83] = function()
	evt.SetMessage{Str = 110}         --[[ "In this time of chaos, we need the minds of all our elders.
Return to us with Korbu, or his remains, if he has perished.
If he has indeed perished, you must return his Sarcophagus with him.
We will attempt to reanimate him so that we may consult his wisdom." ]]
	evt.Add{"QBits", Value = 80}         -- "Find the Sarcophagus of Korbu and Korbu's Remains and return them to Lathean in Shadowspire."
	evt.SetNPCTopic{NPC = 62, Index = 1, Event = 90}         -- "Lathean" : "Return of Korbu"
end

-- "Korbu"
evt.global[84] = function()
	evt.SetMessage{Str = 152}         --[[ "Korbu?
He was the greatest of our kind, and yet he always seemed troubled.
There are some of us that remember the times before he left. He always seemed disturbed to me." ]]
end

-- "Korbu"
evt.global[85] = function()
	evt.SetMessage{Str = 153}         --[[ "Korbu left us after making the ""Arrangement"" with the necromancers here in Shadowspire.
We aid them in any research they are working on, and assist with the defense of their guild.
In return we are allowed to feed on the local population without hindrance." ]]
end

-- "Lich"
evt.global[86] = function()
	evt.SetMessage{Str = 113}         --[[ "Ah, you seek to achieve the ultimate in the darker arts.
The necromancer’s among you seek to turn themselves into Liches, the most potent of necromancers.
Very well, I can perform this transformation for you, but you must do something for me...and get something for yourselves.
I require the Lost Book of Khel.
It contains secrets of necromancy that had been hidden since Khel’s tower sank beneath the waves.
The Lizardmen of Dagger Wound celebrated when the sea took Khel and his knowledge from us.
With the volcanic upheaval in that region, I believe the Tower of Khel can be found.
Retrieve the book from the library and bring it to me!
Now, for yourselves, you will need a Lich Jar for every necromancer that wishes to become a Lich.
Zanthora, the Mad Necromancer keeps a large supply of these jars, perhaps she will sell you one!
If not you must take them from her!" ]]
	evt.Add{"QBits", Value = 82}         -- "Find the Lost Book of Khel and return it to Vertrinus in Shadowspire."
	evt.SetNPCTopic{NPC = 61, Index = 0, Event = 89}         -- "Vetrinus Taleshire" : "Promotion to Lich"
end

-- "Lich Jars"
evt.global[87] = function()
	evt.ForPlayer(-- ERROR: Const not found
"All")
	evt.SetMessage{Str = 154}         --[[ "The Guild of Necromancers is very stingy when it comes to parting with Lich Jars.
You may be better off seeking out Zanthora, and obtaining one from her." ]]
end

evt.CanShowTopic[87] = function()
	local result
	if not evt.Cmp{"QBits", Value = 1548} then         -- Promoted to Lich.
		result = evt.Cmp{"Awards", Value = 35}         -- "Found the Lost Book of Khel."
	end
	return true
end

-- "The Lost Book of Khel"
evt.global[88] = function()
	evt.ForPlayer(-- ERROR: Const not found
"All")
	evt.SetMessage{Str = 155}         --[[ "the Lost Book of Khel is rumored to hold the secrets to the ultimate powers of the dark art of necromancy.
It may be good that no one knows where it is!" ]]
end

evt.CanShowTopic[88] = function()
	local result
	if not evt.Cmp{"QBits", Value = 1548} then         -- Promoted to Lich.
		result = evt.Cmp{"Awards", Value = 35}         -- "Found the Lost Book of Khel."
	end
	return true
end

-- "Promotion to Lich"
evt.global[89] = function()
	evt.ForPlayer(-- ERROR: Const not found
"All")
	if not evt.Cmp{"Inventory", Value = 611} then         -- "Lost Book of Kehl"
		evt.SetMessage{Str = 115}         --[[ "You do not have the Lost Book of Khel!
I cannot help you, if you do not help me!
Return here with the Book and a Lich Jar for each necromancer in your party that wishes to become a Lich!" ]]
		return
	end
	evt.ForPlayer(-- ERROR: Const not found
0)
	if not evt.Cmp{"ClassIs", Value = const.Class.Knight} then
		goto _9
	end
	if evt.Cmp{"Inventory", Value = 628} then         -- "Lich Jar"
		goto _9
	end
::_28::
	evt.SetMessage{Str = 114}         --[[ "You have the Lost Book of Khel, however you lack the Lich Jars needed to complete the transformation!
Return here when you have one for each necromancer in your party!" ]]
	do return end
::_9::
	evt.ForPlayer(-- ERROR: Const not found
1)
	if not evt.Cmp{"ClassIs", Value = const.Class.Knight} then
		goto _14
	end
	if evt.Cmp{"Inventory", Value = 628} then         -- "Lich Jar"
		goto _14
	end
	goto _28
::_14::
	evt.ForPlayer(-- ERROR: Const not found
2)
	if not evt.Cmp{"ClassIs", Value = const.Class.Knight} then
		goto _19
	end
	if evt.Cmp{"Inventory", Value = 628} then         -- "Lich Jar"
		goto _19
	end
	goto _28
::_19::
	evt.ForPlayer(-- ERROR: Const not found
3)
	if evt.Cmp{"ClassIs", Value = const.Class.Knight} then
		if evt.Cmp{"Inventory", Value = 628} then         -- "Lich Jar"
			goto _27
		end
		goto _28
	end
	evt.ForPlayer(-- ERROR: Const not found
4)
	if evt.Cmp{"ClassIs", Value = const.Class.Knight} then
		goto _27
	end
::_30::
	evt.SetMessage{Str = 116}         --[[ "You have brought everything needed to perform the transformation!
So be it!
All necromancer’s in your party will be transformed into Liches!
May the dark energies flow through them for all eternity!
The rest of you will gain what knowledge I can teach them as reward for their assistance!
Lets begin!After we have completed, good friend Lathean can handle any future promotions for your party." ]]
	evt.ForPlayer(-- ERROR: Const not found
0)
	if evt.Cmp{"ClassIs", Value = const.Class.Knight} then
		evt.Set{"ClassIs", Value = const.Class.Cavalier}
		evt.Add{"Experience", Value = 35000}
		evt.Add{"QBits", Value = 1548}         -- Promoted to Lich.
		evt.Subtract{"Inventory", Value = 628}         -- "Lich Jar"
	else
		evt.Add{"Experience", Value = 25000}
		evt.Add{"Awards", Value = 35}         -- "Found the Lost Book of Khel."
	end
	evt.ForPlayer(-- ERROR: Const not found
1)
	if evt.Cmp{"ClassIs", Value = const.Class.Knight} then
		evt.Set{"ClassIs", Value = const.Class.Cavalier}
		evt.Add{"Experience", Value = 35000}
		evt.Add{"QBits", Value = 1548}         -- Promoted to Lich.
		evt.Subtract{"Inventory", Value = 628}         -- "Lich Jar"
	else
		evt.Add{"Experience", Value = 25000}
		evt.Add{"Awards", Value = 35}         -- "Found the Lost Book of Khel."
	end
	evt.ForPlayer(-- ERROR: Const not found
2)
	if evt.Cmp{"ClassIs", Value = const.Class.Knight} then
		evt.Set{"ClassIs", Value = const.Class.Cavalier}
		evt.Add{"Experience", Value = 35000}
		evt.Add{"QBits", Value = 1548}         -- Promoted to Lich.
		evt.Subtract{"Inventory", Value = 628}         -- "Lich Jar"
	else
		evt.Add{"Experience", Value = 25000}
		evt.Add{"Awards", Value = 35}         -- "Found the Lost Book of Khel."
	end
	evt.ForPlayer(-- ERROR: Const not found
3)
	if evt.Cmp{"ClassIs", Value = const.Class.Knight} then
		evt.Set{"ClassIs", Value = const.Class.Cavalier}
		evt.Add{"Experience", Value = 35000}
		evt.Add{"QBits", Value = 1548}         -- Promoted to Lich.
		evt.Subtract{"Inventory", Value = 628}         -- "Lich Jar"
	else
		evt.Add{"Experience", Value = 25000}
		evt.Add{"Awards", Value = 35}         -- "Found the Lost Book of Khel."
	end
	evt.ForPlayer(-- ERROR: Const not found
4)
	if evt.Cmp{"ClassIs", Value = const.Class.Knight} then
		evt.Set{"ClassIs", Value = const.Class.Cavalier}
		evt.Add{"Experience", Value = 35000}
		evt.Add{"QBits", Value = 1548}         -- Promoted to Lich.
		evt.Subtract{"Inventory", Value = 628}         -- "Lich Jar"
	else
		evt.Add{"Experience", Value = 25000}
		evt.Add{"Awards", Value = 35}         -- "Found the Lost Book of Khel."
	end
	evt.ForPlayer(-- ERROR: Const not found
"All")
	evt.Subtract{"Inventory", Value = 611}         -- "Lost Book of Kehl"
	evt.Subtract{"QBits", Value = 82}         -- "Find the Lost Book of Khel and return it to Vertrinus in Shadowspire."
	evt.SetNPCTopic{NPC = 61, Index = 0, Event = 742}         -- "Vetrinus Taleshire" : "Travel with you!"
	do return end
::_27::
	if evt.Cmp{"Inventory", Value = 628} then         -- "Lich Jar"
		goto _30
	end
	goto _28
end

-- "Return of Korbu"
evt.CanShowTopic[90] = function()
	return evt.Cmp{"QBits", Value = 80}         -- "Find the Sarcophagus of Korbu and Korbu's Remains and return them to Lathean in Shadowspire."
end

evt.global[90] = function()
	evt.ForPlayer(-- ERROR: Const not found
"All")
	if not evt.Cmp{"Inventory", Value = 627} then         -- "Remains of Korbu"
		if evt.Cmp{"Inventory", Value = 612} then         -- "Sarcophagus of Korbu"
			evt.SetMessage{Str = 112}         --[[ "You return to us with the Sarcophagus of Korbu, but where are his remains? We cannot complete the act of reanimation without them!
Return to us when you have both the Sarcophagus and his remains!" ]]
		else
			evt.SetMessage{Str = 151}         --[[ "We need to consult Korbu!
You have agreed to bring us his remains and his Sarcophagus!
Do not bother us until you have these items!" ]]
		end
		return
	end
	if not evt.Cmp{"Inventory", Value = 612} then         -- "Sarcophagus of Korbu"
		evt.SetMessage{Str = 111}         --[[ "You return to us with the remains of Korbu, but where is his Sarcophagus? We cannot complete the act of reanimation without it!
Return to us when you have both the remains and the Sarcophagus!" ]]
		return
	end
	evt.SetMessage{Str = 117}         --[[ "You have brought us the Sarcophagus of Korbu and his sacred remains.
We will attempt to reanimate Korbu and seek his wisdom in these troubled times!
The vampires among you will be transformed into Nosferatu, and the others will be taught what skills we can teach them as reward for your service." ]]
	evt.ForPlayer(-- ERROR: Const not found
0)
	if evt.Cmp{"ClassIs", Value = const.Class.ArchDruid} then
		evt.Set{"ClassIs", Value = const.Class.ArchDruid3}
		evt.Add{"Experience", Value = 35000}
		evt.Add{"QBits", Value = 1547}         -- Promoted to Nosferatu.
		evt.Subtract{"Inventory", Value = 627}         -- "Remains of Korbu"
		evt.Subtract{"Inventory", Value = 612}         -- "Sarcophagus of Korbu"
	else
		evt.Add{"Experience", Value = 25000}
		evt.Add{"Awards", Value = 33}         -- "Found the Sarcophagus and Remains of Korbu."
	end
	evt.ForPlayer(-- ERROR: Const not found
1)
	if evt.Cmp{"ClassIs", Value = const.Class.ArchDruid} then
		evt.Set{"ClassIs", Value = const.Class.ArchDruid3}
		evt.Add{"Experience", Value = 35000}
		evt.Add{"QBits", Value = 1547}         -- Promoted to Nosferatu.
		evt.Subtract{"Inventory", Value = 627}         -- "Remains of Korbu"
		evt.Subtract{"Inventory", Value = 612}         -- "Sarcophagus of Korbu"
	else
		evt.Add{"Experience", Value = 25000}
		evt.Add{"Awards", Value = 33}         -- "Found the Sarcophagus and Remains of Korbu."
	end
	evt.ForPlayer(-- ERROR: Const not found
2)
	if evt.Cmp{"ClassIs", Value = const.Class.ArchDruid} then
		evt.Set{"ClassIs", Value = const.Class.ArchDruid3}
		evt.Add{"Experience", Value = 35000}
		evt.Add{"QBits", Value = 1547}         -- Promoted to Nosferatu.
		evt.Subtract{"Inventory", Value = 627}         -- "Remains of Korbu"
		evt.Subtract{"Inventory", Value = 612}         -- "Sarcophagus of Korbu"
	else
		evt.Add{"Experience", Value = 25000}
		evt.Add{"Awards", Value = 33}         -- "Found the Sarcophagus and Remains of Korbu."
	end
	evt.ForPlayer(-- ERROR: Const not found
3)
	if evt.Cmp{"ClassIs", Value = const.Class.ArchDruid} then
		evt.Set{"ClassIs", Value = const.Class.ArchDruid3}
		evt.Add{"Experience", Value = 35000}
		evt.Add{"QBits", Value = 1547}         -- Promoted to Nosferatu.
		evt.Subtract{"Inventory", Value = 627}         -- "Remains of Korbu"
		evt.Subtract{"Inventory", Value = 612}         -- "Sarcophagus of Korbu"
	else
		evt.Add{"Experience", Value = 25000}
		evt.Add{"Awards", Value = 33}         -- "Found the Sarcophagus and Remains of Korbu."
	end
	evt.ForPlayer(-- ERROR: Const not found
4)
	if evt.Cmp{"ClassIs", Value = const.Class.ArchDruid} then
		evt.Set{"ClassIs", Value = const.Class.ArchDruid3}
		evt.Add{"Experience", Value = 35000}
		evt.Add{"QBits", Value = 1547}         -- Promoted to Nosferatu.
		evt.Subtract{"Inventory", Value = 627}         -- "Remains of Korbu"
		evt.Subtract{"Inventory", Value = 612}         -- "Sarcophagus of Korbu"
	else
		evt.Add{"Experience", Value = 25000}
		evt.Add{"Awards", Value = 33}         -- "Found the Sarcophagus and Remains of Korbu."
	end
	evt.Subtract{"QBits", Value = 80}         -- "Find the Sarcophagus of Korbu and Korbu's Remains and return them to Lathean in Shadowspire."
	evt.ForPlayer(-- ERROR: Const not found
"All")
	evt.Subtract{"Inventory", Value = 627}         -- "Remains of Korbu"
	evt.Subtract{"Inventory", Value = 612}         -- "Sarcophagus of Korbu"
	evt.SetNPCTopic{NPC = 62, Index = 1, Event = 739}         -- "Lathean" : "Promote Vampires"
end

-- "Thanks for your help!"
evt.global[91] = function()
	evt.SetMessage{Str = 120}         --[[ "Thank you for finding the Prophecies of the Sun.
May the Sun always light you way and provide you with protection!" ]]
end

-- "Thanks for your help!"
evt.global[92] = function()
	evt.SetMessage{Str = 121}         --[[ "You returned Korbu to us, and we will always be in your debt!
Now leave me, so that I may consult the elders!" ]]
end

-- "Thanks for your help!"
evt.global[93] = function()
	evt.SetMessage{Str = 151}         --[[ "We need to consult Korbu!
You have agreed to bring us his remains and his Sarcophagus!
Do not bother us until you have these items!" ]]
end

-- "Alliance"
evt.CanShowTopic[94] = function()
	return evt.Cmp{"QBits", Value = 14}         -- "Form an alliance with the Necromancers' Guild in Shadowspire."
end

evt.global[94] = function()
	evt.SetMessage{Str = 156}         -- "Bastian Loudrin has been a great friend to the guild. Sadly, I must refuse his request at this time. Even as we speak, my guild is embroiled in a battle for its very survival. For you see, the Temple of the Sun has declared a holy war on us. Most of our members are away in the fields either leading armies or raising zombies to serve in them.I wish I could say otherwise, but the accursed temple holds the upper hand. If only the balance would tilt in our favor."
	evt.SetNPCTopic{NPC = 9, Index = 0, Event = 95}         -- "Sandro" : "Quest"
end

-- "Quest"
evt.global[95] = function()
	if evt.Cmp{"QBits", Value = 28} then         -- "Bring the Nightshade Brazier to the Necromancers' Guild leader, Sandro. The Brazier is in the Temple of the Sun."
		evt.SetMessage{Str = 158}         -- "I will not join you until the security of the guild is secure. Bring me the Nightshade Brazier from the Temple of the Sun in Murmurwoods. We will talk again of alliance after that is done."
		return
	end
	evt.SetMessage{Str = 157}         -- "If we had the Nightshade Brazier back in our possession, Shadowspire's defense would not be an issue. We could bring this war to the doors of the Sun Temple. We would annihilate them!Knowing its importance, the clerics keep the brazier in a secure chamber deep within their temple. Dyson Leland believes he can gain access to that chamber. Bring him to the temple, recover the brazier and return it to me. You want me in your alliance? Well, do this for me, and I will be in your debt.If you have any questions about the Nightshade Brazier ask Thant. It was he who created the thing."
	evt.Add{"QBits", Value = 28}         -- "Bring the Nightshade Brazier to the Necromancers' Guild leader, Sandro. The Brazier is in the Temple of the Sun."
	if not evt.Cmp{"QBits", Value = 89} then         -- Dyson Leland talks to you about the Necromancers. For global event 97-100.
		if not evt.Cmp{"QBits", Value = 90} then         -- Dyson Leland talks to you about the Temple of the Sun. For Global event 97-100.
			return
		end
	end
	evt.SetNPCTopic{NPC = 11, Index = 3, Event = 634}         -- "Dyson Leland" : "Roster Join Event"
end

-- "Dyson Leland"
evt.CanShowTopic[96] = function()
	return not evt.Cmp{"Players", Value = 34}
end

evt.global[96] = function()
	evt.SetMessage{Str = 159}         -- "Early on our conflict, the Sun Temple attempted to infiltrate our ranks with a spy. Such foolishness--thinking they could so easily deceive a host of dark magicians!It was child's play to unmask their agent--one ""Dyson Leland."" Since then we have turned him against his former masters, or so it would seem. Frankly, I don't entirely trust in his loyalty. Still, he has proven useful. As long as he does, we will continue to let him live."
end

-- "Necromancers"
evt.global[97] = function()
	evt.SetMessage{Str = 160}         -- "How can anyone's quest for power bring him to participate in the horrors of the Dark Path? And yet, here is a whole house of them! Oh, they will call themselves ""seekers of knowledge,"" but these magicians of death are abomination! Loathsome corruption incarnate!Only through my own fear can the foul Necromancers' Guild call itself ""my master."""
	evt.Add{"QBits", Value = 89}         -- Dyson Leland talks to you about the Necromancers. For global event 97-100.
	if not evt.Cmp{"QBits", Value = 90} then         -- Dyson Leland talks to you about the Temple of the Sun. For Global event 97-100.
		return
	end
	if not evt.Cmp{"QBits", Value = 28} then         -- "Bring the Nightshade Brazier to the Necromancers' Guild leader, Sandro. The Brazier is in the Temple of the Sun."
		if not evt.Cmp{"QBits", Value = 26} then         -- "Find the skeleton transformer in the Shadowspire Necromancers' Guild. Destroy it and return to Oskar Tyre."
			evt.SetNPCTopic{NPC = 11, Index = 3, Event = 100}         -- "Dyson Leland" : "Join"
			return
		end
	end
	evt.SetNPCTopic{NPC = 11, Index = 3, Event = 634}         -- "Dyson Leland" : "Roster Join Event"
end

-- "Sun Temple"
evt.global[98] = function()
	evt.SetMessage{Str = 161}         -- "When I was young, all I wanted to do was to join the Order of Light--to be a selfless servant of the good. As soon as I was of age, I entered the Temple of the Sun with a heart filled with the fire of purity.What a fool I was. If there is goodness in the world, I have not seen it. There is certainly none in the halls of the Sun Temple! Hiding behind the righteousness of sanctity, Order members perform the worst crimes of greed and self-indulgence. If it were not so horrid, it would pass for something like irony."
	evt.Add{"QBits", Value = 90}         -- Dyson Leland talks to you about the Temple of the Sun. For Global event 97-100.
	if not evt.Cmp{"QBits", Value = 89} then         -- Dyson Leland talks to you about the Necromancers. For global event 97-100.
		return
	end
	if not evt.Cmp{"QBits", Value = 28} then         -- "Bring the Nightshade Brazier to the Necromancers' Guild leader, Sandro. The Brazier is in the Temple of the Sun."
		if not evt.Cmp{"QBits", Value = 26} then         -- "Find the skeleton transformer in the Shadowspire Necromancers' Guild. Destroy it and return to Oskar Tyre."
			evt.SetNPCTopic{NPC = 11, Index = 3, Event = 100}         -- "Dyson Leland" : "Join"
			return
		end
	end
	evt.SetNPCTopic{NPC = 11, Index = 3, Event = 634}         -- "Dyson Leland" : "Roster Join Event"
end

-- "Yourself"
evt.global[99] = function()
	evt.SetMessage{Str = 162}         -- "A few months ago, I was called to a private audience with the Sun Temple head priest, Oskar Tyre. He sent me out on a mission of infiltration against the Necromancers' Guild. ""Become as they are,"" he said. ""Gain their trust. While you bide your time waiting to deliver a killing blow, feed us their secrets.""A too simple plan from too simple a leader! Oh, I did as he said, bathing myself in evil so I might seem evil. But it was as if the guild could see into my heart. I was unmasked as a spy. Under threat of death, I now follow their orders. "
end

-- "Join"
evt.global[100] = function()
	evt.SetMessage{Str = 163}         -- "Join with you? An interesting idea. But what can you offer me? After all I have been through I find myself consumed with a thirst for revenge. I would go with you, but am unwilling to spend my efforts lightly. Give me an opportunity to hurt one of my enemies--the cursed Temple of the Sun or the abominable Necromancers' Guild--and I will travel with you gladly."
end

-- "Thant"
evt.global[101] = function()
	evt.SetMessage{Str = 164}         -- "Now that the Nightshade Brazier covers Shadowspire in its fortifying darkness. Thant goes to lead his minions."
end

-- "Alliance"
evt.CanShowTopic[102] = function()
	return evt.Cmp{"QBits", Value = 15}         -- "Form an alliance with the Temple of the Sun in Murmurwoods."
end

evt.global[102] = function()
	evt.SetMessage{Str = 165}         -- "Certainly the elemental unrest concerns us greatly. Why one need travel only a short distance north from our temple to see a great maelstrom of unnatural duration and fury. But sadly we have other matters pressing.The sick horror that is the Necromancers' Guild must be blighted from this land! We wage holy war on the evil in Shadowspire. Our entire spirit and power goes into the campaign we wage against Sandro and his minions. Until that is done we cannot entertain participation in your alliance."
	evt.SetNPCTopic{NPC = 33, Index = 0, Event = 103}         -- "Oskar Tyre" : "Quest"
end

-- "Quest"
evt.global[103] = function()
	if evt.Cmp{"QBits", Value = 27} then         -- Skeleton Transformer Destroyed.
		evt.SetMessage{Str = 168}         -- "Excellent work! With the Skeleton Transformer destroyed, I am more than confident that the light of righteousness will cleanse Shadowspire of evil. The Necromancers' Guild is as good as no more.As I agreed, you may now consider the Temple of the Sun an ally against the elemental cataclysm. I myself will sit on your alliance council in Ravenshore. I will make my departure arrangements with all due haste."
		evt.Subtract{"QBits", Value = 26}         -- "Find the skeleton transformer in the Shadowspire Necromancers' Guild. Destroy it and return to Oskar Tyre."
		evt.Subtract{"QBits", Value = 14}         -- "Form an alliance with the Necromancers' Guild in Shadowspire."
		evt.Subtract{"QBits", Value = 15}         -- "Form an alliance with the Temple of the Sun in Murmurwoods."
		evt.Subtract{"QBits", Value = 28}         -- "Bring the Nightshade Brazier to the Necromancers' Guild leader, Sandro. The Brazier is in the Temple of the Sun."
		evt.Add{"QBits", Value = 20}         -- Allied with Temple of the Sun. Destroy the Skeleton Transformer done.
		evt.SetNPCTopic{NPC = 33, Index = 0, Event = 0}         -- "Oskar Tyre"
		evt.Add{"History9", Value = 0}
		evt.ForPlayer(-- ERROR: Const not found
"All")
		evt.Add{"Experience", Value = 50000}
		evt.ForPlayer(-- ERROR: Const not found
0)
		evt.Add{"Gold", Value = 10000}
		evt.ForPlayer(-- ERROR: Const not found
"All")
		evt.Add{"Awards", Value = 11}         -- "Formed and alliance with the Temple of the Sun."
	else
		if evt.Cmp{"QBits", Value = 26} then         -- "Find the skeleton transformer in the Shadowspire Necromancers' Guild. Destroy it and return to Oskar Tyre."
			evt.SetMessage{Str = 167}         -- "You come here again with talk of alliance? I have told you what you must do. Go to the Necromancers' Guild in Shadowspire, find Dyson Leland and help him to destroy their Skeleton Transformer!"
		else
			evt.SetMessage{Str = 166}         -- "Then again, we could spare some resources for your alliance if the war would turn in our favor. Perhaps you could be our agent of fortune?Inside the Necromancers' Guild is a device known as the ""Skeleton Transformer."" It converts living creatures into the skeletons which the dark mages use for the bulk of their reinforcements. If it were destroyed, we would quickly have the upper hand.We have an agent, Dyson Leland, placed in their guild. Find him and help him to wreck their skeleton making device. Do this and I will consider your request more favorably."
			evt.Add{"QBits", Value = 26}         -- "Find the skeleton transformer in the Shadowspire Necromancers' Guild. Destroy it and return to Oskar Tyre."
		end
	end
end

-- "Alliance"
evt.global[104] = function()
	evt.SetMessage{Str = 169}         -- "Do you take the prophecy so lightly that you shirk the role it has cast for you? These are dire times calling for dire actions from all. Go forth across the land and forge the unity represented by the alliance. Go, unless you favor the oblivion that threatens us!"
end

-- "Strange Gateways"
evt.global[105] = function()
	evt.SetMessage{Str = 170}         -- "Using Arion Hunter's boats we have managed to gather some information. I sent one to Ravage Roaming and another to the Dagger Wound Islands. It is reported that strange portal gateways have appeared in both regions. The gateway in the islands stands on the slopes of the large volcano that rose from the sea southeast of the main island. The Ravage Roaming portal is in the middle of the large lake. It is said that the water which formed the lake flooded out of the gateway."
end

-- "Ironfists"
evt.global[106] = function()
	evt.SetMessage{Str = 171}         -- "Within hours of our first meeting, a most fortuitous development occurred. We were contacted by a great sage, Xanthor, of the Ironfist courts of Enroth!Using his great magic, he projected his image into this very chamber. He and Roland and Catherine Ironfist were at sea off our shores when the cataclysm occurred. They survived the resulting storms and now would like to land in Ravenshore to aid the alliance. Unfortunately, they are blocked by the Regnan pirate fleet. We must help them to land. Xanthor claims much knowledge of what has happened here. We need his council!"
	evt.SetNPCTopic{NPC = 40, Index = 0, Event = 107}         -- "Dartin Dunewalker" : "Quest"
end

-- "Quest"
evt.global[107] = function()
	if evt.Cmp{"QBits", Value = 37} then         -- Regnan Pirate Fleet is sunk.
		evt.SetMessage{Str = 173}         -- "Your good work sinking the Regnan fleet has already had the desired results. Just yesterday morning, Catherine and Roland Ironfist arrived along with their sage, Xanthor. With them in the alliance, we are made stronger--immeasurably so.I will admit that the time of this crisis has contained some of my darkest moments. Thanks to your efforts I believe that the worst of this is over. I have hopes that we will indeed survive this."
		evt.Subtract{"QBits", Value = 36}         -- "Sink the Regnan Fleet. Return to the Ravenshore council chamber."
		evt.Add{"QBits", Value = 38}         -- Quest 36 is done.
		evt.SetNPCTopic{NPC = 40, Index = 0, Event = 109}         -- "Dartin Dunewalker" : "Xanthor"
		evt.ForPlayer(-- ERROR: Const not found
"All")
		evt.Add{"Experience", Value = 100000}
		evt.ForPlayer(-- ERROR: Const not found
0)
		evt.Add{"Gold", Value = 10000}
		evt.ForPlayer(-- ERROR: Const not found
"All")
		evt.Add{"Awards", Value = 12}         -- "Sunk the Regnan fleet allowing Roland and Catherine Ironfist to join the alliance."
	else
		if evt.Cmp{"QBits", Value = 36} then         -- "Sink the Regnan Fleet. Return to the Ravenshore council chamber."
			evt.SetMessage{Str = 174}         -- "You must sink that Regnan fleet! It is imperative that the Ironfists be allowed to land safely. Their sage Xanthor has knowledge of the crisis that we cannot do without."
		else
			evt.SetMessage{Str = 172}         -- "Our sources believe the main Regnan fleet is in a hidden port somewhere on Regna Island. If you could sink the fleet in dock you could greatly cripple their ability to patrol the seas off our shore. Unfortunately, we don't have a fleet of our own strong enough to make a landing on Regna.Brekish Onefang has gotten message to us that the Regnans have built an outpost on an atoll off the main Dagger Wound Island. He believes this outpost is resupplied by mysterious means. His scouts never see ships land there, but they are always well stocked. Perhaps you should go there and solve the mystery. Perhaps the answer will convey you to Regna?Regardless of the means, the Regnan fleet must be sunk if the Ironfists are to land in Ravenshore."
			evt.Add{"QBits", Value = 36}         -- "Sink the Regnan Fleet. Return to the Ravenshore council chamber."
			evt.Add{"History12", Value = 0}
		end
	end
end

-- "Pirates"
evt.global[108] = function()
	evt.SetMessage{Str = 175}         -- "For all their claims of empire and their airs of civilization, the Regnans are the worst scum of Jadame. Why I cannot find myself the least bit surprised that they would take advantage of the crisis to expand their pirating operations. What concerns me most is their new outpost on Dagger Wound. I am sure they mean to use it as a base of attack on the continent. Why, it even puts them in striking distance of Ravenshore!"
end

-- "Xanthor"
evt.global[109] = function()
	evt.SetMessage{Str = 176}         -- "I have only met with him briefly, but I am convinced that Xanthor is remarkably knowledgeable about the workings of the elemental planes. Apparently he learned much from the Ironfists' elemental allies during their recent campaigns against the devils of Erathia.Even now he studies the strange crystal in the town square. You may find him there, or perhaps in the nearby residence we have provided him."
	evt.SetNPCTopic{NPC = 40, Index = 0, Event = 110}         -- "Dartin Dunewalker" : "Quest"
end

-- "Quest"
evt.global[110] = function()
	if evt.Cmp{"QBits", Value = 91} then         -- "Consult the Ironfists' court sage, Xanthor about the Ravenshore crystal."
		evt.SetMessage{Str = 178}         -- "We look to Xanthor to formulate our next actions. Go to him and see how you can help."
	else
		evt.SetMessage{Str = 177}         -- "We of the council have great faith in this Xanthor. He has told me that he is formulating a plan for dealing with the elemental crisis. If anyone can find a solution to our problems, it is he.If you would help us further, be of service to this great sage. Consult with him about the crystal and see what you might do for him."
		evt.Add{"QBits", Value = 91}         -- "Consult the Ironfists' court sage, Xanthor about the Ravenshore crystal."
		evt.MoveNPC{NPC = 19, HouseId = 899}         -- "Xanthor" -> "Hostel"
		evt.MoveNPC{NPC = 64, HouseId = 0}         -- "Derrin Delver"
	end
end

-- "Ironfists' Arrival"
evt.global[111] = function()
	evt.SetMessage{Str = 179}         -- "That we have been joined by the royal court of Enroth has been nothing but good. I was worried they would be afflicted with the need for pomp which infects many other monarchs. I am gladdened to report that this is not the case with this king and queen. They disembarked and set directly to work on our problem. As key members of our alliance, you will find access to them easy. We have put them up in houses here in Ravenshore."
end

-- "Plane of Fire"
evt.global[112] = function()
	evt.SetMessage{Str = 180}         -- "From what Xanthor has told us, I'm sure all of the elemental planes are dangerous. Still, I would advise you to take particular caution when exploring the Plane of Fire. Its denizens, according to reports from the Ironsand Desert, are being particularly belligerent."
end

-- "Plane Between Planes"
evt.global[113] = function()
	evt.SetMessage{Str = 181}         -- "All I know of the Plane Between Planes is what I learned from the Alvarian loremasters. Still, if the Destroyer's base is there, proceed with the greatest caution! It is said the plane is made of the stuff of chaos from which all the other planes are formed as if from clay. While chaos has a form, it is fluid. Whatever you see there will not be as it seems. And what is there may be subject to continuous change."
end

-- "Elemental Lord Prisons"
evt.global[114] = function()
	evt.SetMessage{Str = 182}         -- "What the Alvar loremasters told me of the Plane Between Planes applies here. While I am sure the prisons of the elemental lords are prisons in every sense of the word, I am equally sure that they will not appear as one would expect."
end

-- "Merchant House"
evt.global[115] = function()
	evt.SetMessage{Str = 183}         -- "The Merchant Guild of Alvar owes you a great debt. As a small measure of repayment, we have decided to make this merchanthouse permanently available to you. Please take this gift from us as a token of our profound gratitude for your valorous deeds."
end

-- "Dragon Hunting"
evt.global[116] = function()
	evt.SetMessage{Str = 184}         -- "I know being part of your alliance is important work. Still, I do miss the hunt! I keep imagining all the good fun my men are having while I'm here pushing around papers.Hurry up with this alliance business! I want to get this mess taken care of with dispatch! Without the thrill of the hunt, my life is missing its usual spark."
end

-- "Blackwell Cooper"
evt.global[117] = function()
	evt.SetMessage{Str = 185}         -- "Judging from the tactics employed by the Regnan pirates, I suspect that Blackwell Cooper is involved. Cooper is an old…shall we say, ""associate,"" of mine. Why, if I were a gambling man, I'd bet gold that he is leading the Regnan expeditionary force on Dagger Wound."
end

-- "Xanthor"
evt.global[118] = function()
	evt.SetMessage{Str = 186}         -- "I know I hold the council's minority opinion on the subject, but really, I don't see why we have to involve some charlatan magician in this matter! Surely this crisis is solvable, like most things, with judicious application of a length of well-forged steel."
end

-- "Raising an Army"
evt.global[119] = function()
	evt.SetMessage{Str = 187}         -- "Fah! If you ask me, this idea of Xanthor's is foolhardy! I say if we're facing attack by elemental armies, we should be raising an army to meet them. Frankly, all this talk of prophecy leaves me uneasy. This council is too much under the sway of the Ironfist's pet wizard. I say we take the fight to the elemental planes and introduce the invaders to the sharp edges of our blades!"
end

-- "Plane Between Planes"
evt.global[120] = function()
	evt.SetMessage{Str = 188}         -- "I tell you, this Xanthor is sending you on a wild goose chase. ""Plane Between Planes,"" indeed! What hogwash! The worst of it is that we make no preparations for war in the event the crazy scheme fails, which I expect it will. This mad following of prophecy flies in the face of good military sense!"
end

-- "Xanthor"
evt.global[121] = function()
	evt.SetMessage{Str = 189}         -- "I have had more of my share of doubts about this Xanthor, but it is the mark of a man how readily he admits his errors. It is clear to me now that he has given nothing but good and effective advise. If he tells you to rescue the elemental lords, then that is what you must do. Go! And good luck!"
end

-- "Dragon Hunting"
evt.global[122] = function()
	evt.SetMessage{Str = 190}         -- "Good to see you again, Heroes of Jadame. A good job there, saving the world, and all. You certainly have my thanks, and I'm sure, the thanks of many.I'm sure you've got plenty of other opportunities at this point, but let me know if you want a job hunting Dragons. Probably not much of a challenge for the likes of you, but the offer stands!"
end

-- "Accommodations"
evt.global[123] = function()
	evt.SetMessage{Str = 191}         -- "Small ones, hurry with your alliance preparations! My patience with this land lacking in caves and prey grows dangerously thin. Not only must I sleep in a barn, these people do not even raise cattle. I must live off of fish! Fah!If you value my good temper, be quick!"
end

-- "Regna Island"
evt.global[124] = function()
	evt.SetMessage{Str = 192}         -- "Reaching Regna Island is no small challenge. One of my scouts has reported to me that Regnan boats lie thick on the sea. He also said he saw that the Regnans have a craft that can travel beneath the water. It is said they supply their Dagger Wound outpost with the craft. Perhaps you can use it to reach Regna. The pirates will either miss your passage or take you for one of their own."
end

-- "Quixote's Treasure"
evt.global[125] = function()
	evt.SetMessage{Str = 193}         -- "I know this is not the time to think of revenge, but I would pass onto you something I learned about my enemy, Charles Quixote. The Minotaur king, Masul, mentioned that Quixote keeps a sword of great power with him in his keep. It is called, ""Snake."" Perhaps your acquiring of it would help the alliance cause?"
end

-- "Gateways"
evt.global[126] = function()
	evt.SetMessage{Str = 194}         -- "My Dragon patrols have located two of the elemental gateways. One lies on the side of a large volcano southeast of the largest Dagger Wound Islands. The other is located in the center of the large lake in Ravage Roaming. I know not where they lead, but you will have to cross a lot of water to reach either."
end

-- "Crystal Dragons"
evt.global[127] = function()
	evt.SetMessage{Str = 195}         -- "An Erathian Dragon visited my cave shortly before you arrived there. He reported to me that a new type of Dragon, one seemingly made of crystalline rock, has been seen in Erathia. I'm not sure why I tell you this. Perhaps the giant crystal in the town square reminds me of the story. "
end

-- "The Destroyer"
evt.global[128] = function()
	evt.SetMessage{Str = 196}         -- "Interesting that the Destroyer himself sends you to undo his works. I guess I am not surprised. The workings of the greater Powers are mysterious at best."
end

-- "Great Deeds"
evt.global[129] = function()
	evt.SetMessage{Str = 197}         -- "You have done this land and Dragonkind a great service. For this, we owe you. Know that we will tolerate your presence in our caves, further, we will not hunt you as prey."
end

-- "The Light"
evt.global[130] = function()
	evt.SetMessage{Str = 198}         -- "Did you know that our temple in Murmurwoods is the first in this land of Jadame? It is our mission to bring the Light to all corners of the world--even here. We were surprised to see that our enemies, the Necromancers' Guild had preceded our arrival with their own. But no matter, they will soon be dealt with.Say, don't you think this merchant house would make a fine Sun Temple? I will bring it up with Fellmoon after the crisis is over."
end

-- "Mace of the Sun"
evt.global[131] = function()
	evt.SetMessage{Str = 199}         -- "If you're off to Regna, you might want to look for the Mace of the Sun. When my brothers and I made the crossing from Erathia, we were attacked by the Regnan fleet. All but one of our ships escaped. Sadly, the lost ship was the one carrying the mission leader, Brother Howe. He had the weapon in his possession. I saw Brother Howe slain by the pirates, but perhaps they still have the mace."
end

-- "Ironfists"
evt.global[132] = function()
	evt.SetMessage{Str = 550}         -- "I am pleased with these Ironfists and their sage, Xanthor. Though we have never worked together directly, their work in Enroth and Erathia against the Necromancers' Guild and the devils have clearly marked them as servants of The Light. I have full faith in their plans for saving us from the crisis."
end

-- "Plane of Air"
evt.global[133] = function()
	evt.SetMessage{Str = 551}         -- "The Sun Temple has had much time to study the gateway which appeared in Murmurwoods. I am positive it leads to the Plane of Air. On several occasions my brothers have seen air spirits around the gateway. Some of the braver have peered through it and have reported seeing a whirling realm of clouds."
end

-- "Source of the Crisis"
evt.global[134] = function()
	evt.SetMessage{Str = 552}         -- "As a Priest of the Light, I have my own ideas about the source of the crisis. I am positive that either the Temple of the Moon or the Necromancers' Guild is somehow involved. Great Light! What if they've banded together? What a horrid thought."
end

-- "Devils"
evt.global[135] = function()
	evt.SetMessage{Str = 553}         -- "I'm not sure you can trust the words of this so called, ""Destroyer."" Certainly he is not the Destroyer of scripture. And all this talk of Kreegans and men living on many worlds. It flies in the face of the Truth my temple has shepherded from the beginning of time!"
end

-- "Servants of the Light"
evt.global[136] = function()
	evt.SetMessage{Str = 554}         -- "It is good to have you with us, Heroes of Jadame. Know that the Temple of the Sun also considers you servants of the Light. You are always welcome among us."
end

-- "The Library"
evt.global[137] = function()
	evt.SetMessage{Str = 555}         -- "I wish my first visit to Ravenshore was made under better circumstances. This town has a lot to offer and I wish I had time to explore it more. On the bright side, this merchant house has a great library. Have you seen it?"
end

-- "Pirate Raid"
evt.CanShowTopic[138] = function()
	return not evt.Cmp{"QBits", Value = 57}         -- The Pirates invaded Ravenshore
end

evt.global[138] = function()
	evt.SetMessage{Str = 556}         -- "The Regnans have built and outpost on one of the Dagger Wound Islands. We fear they may attack Ravenshore. If this happens, we will evacuate the city. We will return once the garrison has rid Ravenshore of pirates."
end

-- "Catherine Ironfist"
evt.global[139] = function()
	evt.SetMessage{Str = 557}         -- "When I became herd leader, I never expected my reign would be so full of rich experience. Certainly I never thought I'd meet anyone like Queen Catherine! Did you know that until she abdicated her rule in Erathia, she was ruler of both it and Enroth?"
end

-- "Plane of Water"
evt.global[140] = function()
	evt.SetMessage{Str = 558}         -- "As you know, the gateway leading to the Plane of Water appeared near Balthazar Lair in Ravage Roaming. It lies in the middle of the lake created by the great flood that poured forth from it."
end

-- "Iron Rations"
evt.global[141] = function()
	if evt.Cmp{"QBits", Value = 99} then         -- Masul gave party food.
		evt.SetMessage{Str = 614}         -- "I have no more rations to give. If you need more, you'll have to find food elsewhere."
	else
		evt.SetMessage{Str = 559}         -- "You may have difficulty finding supplies in the lands beyond the crystal. When I left Balthazar Lair, I brought with me a quantity of the iron rations carried by my armies on campaign. Here, take what I have. They are light and nourishing. I hope you find them useful."
		evt.Add{"Food", Value = 20}
		evt.Add{"QBits", Value = 99}         -- Masul gave party food.
	end
end

-- "Salvation"
evt.global[142] = function()
	evt.SetMessage{Str = 560}         -- "Why if the imprisonment of the elemental lords is what started this crisis, then surely releasing them is the way to end it! They are beings of almost unimaginable power. Once freed of the Destroyer's control, they would be able to set things right again. This must be what the prophecy speaks of!"
end

-- "Keys to the City"
evt.global[143] = function()
	evt.SetMessage{Str = 561}         -- "It cannot be said enough. My herd as well as all the beings of Jadame are forever in your debt. Thanks to your good work here and in the planes, Balthazar Lair can once again know greatness. You and your comrades are welcome here any time you wish to visit. A blessing on you all!"
end

-- "Temple of the Sun"
evt.global[144] = function()
	evt.SetMessage{Str = 562}         -- "I can't help feeling that I could be doing better work elsewhere. I'm sure Thant can handle operation of the guild in my absence, but still, sitting here on my hands while we are at war with the Sun Temple tries my patience. You really must be quicker about your duties!"
end

-- "Pirate Mages"
evt.global[145] = function()
	evt.SetMessage{Str = 563}         -- "When one thinks of the Regnans, the phrase ""masters of magic"" doesn't normally come to mind. But I caution you, the Regnan pirates have held their island for many centuries. They have had much time to both acquire and study arcane knowledge. Some powerful magicians live there. If you must face them in combat, be prepared for anything."
end

-- "Wizards"
evt.global[146] = function()
	evt.SetMessage{Str = 564}         -- "It is not true that we of the Necromancers' Guild do not respect mages of other schools. That they have chosen paths leading to lesser powers is of their own concerns. This Xanthor is formidable for a wizard not of the Dark Path. As much as is possible, I find his advise, passably worthy."
end

-- "Ring of Planes"
evt.CanShowTopic[147] = function()
	return not evt.Cmp{"Inventory", Value = 519}         -- "Ring of Planes"
end

evt.global[147] = function()
	evt.SetMessage{Str = 565}         -- "I have learned that the Dark Dwarves of Alvar hold an item I have long coveted, but may be of particular use to you if you when you travel among the elemental planes. The Ring of Planes conveys upon its wearer powerful wards against damaging spells of earth, water, air, and fire."
end

-- "Nightmares"
evt.global[148] = function()
	evt.SetMessage{Str = 566}         -- "In my studies I have learned something of this Plane Between Planes. It is written that its denizens are not born in the normal fashion. I have heard that creatures can be found there which manifest the energies of the nightmare dreams of humankind. I have little more information, but I imagine such a creature would be both powerful and malevolent."
end

-- "Elemental Wars"
evt.global[149] = function()
	evt.SetMessage{Str = 567}         -- "A basic fact of magic is that Fire opposes Water, and Air opposes Earth. Within these parings, the one element has weaknesses regarding its opposite element. I expect the Destroyer exploits this principle in the construction of his prisons."
end

-- "Safety"
evt.global[150] = function()
	evt.SetMessage{Str = 568}         -- "I know I speak for the guild when I say we owe you a debt of gratitude. I discharge this debt by granting you and your companions safe passage through all lands under our control. No guild member will kidnap you for arcane experimentation, nor will any member consider you feed for his servants, living or otherwise. This guild edict will be in effect for a period of one year from today.And of course, you have my personal, thanks."
end

-- "Xanthor"
evt.global[151] = function()
	evt.SetMessage{Str = 569}         -- "The master is not here at present. He went to consult with Elgar Fellmoon at the council chamber. Perhaps you will find him there."
end

-- "The Crystal"
evt.global[152] = function()
	evt.SetMessage{Str = 570}         -- "The crystal placed by the Destroyer in the town square serves two functions. One, if we do nothing, it will destroy the world. Two, it acts as a gateway to another realm of existence--the Plane Between Planes--where the Destroyer most certainly has his base.The crystal calls forth the elemental forces into our world and draws them to it. When these forces meet here at the crystal, the world will be destroyed in cataclysm. If we are to prevent this someone will have to use the crystal as a gateway to reach the Destroyer and either convince him to end his assault, or eliminate him."
	evt.Subtract{"QBits", Value = 91}         -- "Consult the Ironfists' court sage, Xanthor about the Ravenshore crystal."
	evt.Add{"QBits", Value = 92}         -- Quest 91 done.
	evt.SetNPCTopic{NPC = 19, Index = 0, Event = 153}         -- "Xanthor" : "Quest"
	evt.SetNPCTopic{NPC = 19, Index = 1, Event = 154}         -- "Xanthor" : "Gateway"
end

-- "Quest"
evt.global[153] = function()
	if not evt.Cmp{"QBits", Value = 41} then         -- "Bring the Heart of Water from the Plane of Water to Xanthor."
		evt.SetMessage{Str = 571}         -- "Since the crystal is attuned to the elemental forces, it will only pass through those who are themselves so attuned. I believe it is possible to create a key that will simulate attunement for a small group such as yourselves. I can make the key, but require components of pure elemental forces to do so.Such components exist in only one form that I know of. On each of the four elemental planes, you will find gemstones called the ""elemental hearts."" Bring these to me and I will build the key to open the crystal gateway."
		evt.Add{"QBits", Value = 41}         -- "Bring the Heart of Water from the Plane of Water to Xanthor."
		evt.Add{"QBits", Value = 42}         -- "Bring the Heart of Air from the Plane of Air to Xanthor."
		evt.Add{"QBits", Value = 43}         -- "Bring the Heart of Earth from the Plane of Earth to Xanthor."
		evt.Add{"QBits", Value = 44}         -- "Bring the Heart of Fire from the Plane of Fire to Xanthor."
		evt.Add{"History14", Value = 0}
		evt.SetNPCTopic{NPC = 40, Index = 0, Event = 0}         -- "Dartin Dunewalker"
		evt.SetNPCTopic{NPC = 40, Index = 1, Event = 112}         -- "Dartin Dunewalker" : "Plane of Fire"
		evt.SetNPCTopic{NPC = 52, Index = 0, Event = 119}         -- "Sir Charles Quixote" : "Raising an Army"
		evt.SetNPCTopic{NPC = 53, Index = 0, Event = 126}         -- "Deftclaw Redreaver" : "Gateways"
		evt.SetNPCTopic{NPC = 54, Index = 0, Event = 133}         -- "Oskar Tyre" : "Plane of Air"
		evt.SetNPCTopic{NPC = 55, Index = 0, Event = 140}         -- "Masul" : "Plane of Water"
		evt.SetNPCTopic{NPC = 56, Index = 0, Event = 147}         -- "Sandro" : "Ring of Planes"
		return
	end
	evt.ForPlayer(-- ERROR: Const not found
"All")
	if not evt.Cmp{"Inventory", Value = 606} then         -- "Heart of Fire"
		if not evt.Cmp{"Inventory", Value = 607} then         -- "Heart of Water"
			if not evt.Cmp{"Inventory", Value = 608} then         -- "Heart of Air"
				if not evt.Cmp{"Inventory", Value = 609} then         -- "Heart of Earth"
					evt.SetMessage{Str = 572}         -- "To go through the crystal gateway and confront the Destroyer, you need the key I must build! To build this key, I need the elemental heart gemstones from the four elemental planes! Go and get these for me!"
					return
				end
			end
		end
	end
	evt.SetMessage{Str = 573}         -- "I am glad that you have had some measure of success in retrieving the elemental hearts, but what you have is not enough. I need one from each of the four elemental planes before I can build the key to the crystal gateway. Bring me the rest of the hearts so we can proceed."
end

-- "Gateway"
evt.global[154] = function()
	evt.SetMessage{Str = 574}         -- "Something about this crystal seems to put a compulsion on the denizens of the elemental planes. Why else would they make war on our plane? I have heard yours and other first hand reports. It seems almost as if these elementals are driven by a madness.And madness it is! For destroying Enroth would create a mighty planar unbalance which would certainly victimize their own planes. They might even conceivably be themselves destroyed in the cataclysm. At the very least, they risk changing the nature of their own planes. I cannot see how such change could possibly be for the better!"
end

-- "Elemental Lords"
evt.global[155] = function()
	evt.SetMessage{Str = 575}         -- "That the elemental lords are imprisoned on the Plane Between Planes explains much. I had wondered why the denizens of the Earth, Air, Water, and Fire Planes have become so hostile. Usually, they are content to keep to their own place in the order. I suppose it was necessary for the Destroyer to take the lords from their homelands. Without the lords calming presence, it would be much easier for him to compel the elementals as he has.It is important for you to free the elemental lords. They can restore order to their planes and prevent the cataclysm!"
end

-- "The Destroyer"
evt.global[156] = function()
	evt.SetMessage{Str = 576}         -- "Yes, I have heard the name, ""Escaton."" He is variously called in the legends of many cultures. I know not his nature, but it is his purpose to destroy worlds.Yes, ""worlds,"" I say. More and more evidence points to the conclusion that Enroth is not the only place in this universe where there is life. Tales from before the Silence speak of many living among the stars. Yes, it sounds impossible to think that one could live on a light in the sky, but consider that these stars may be like our sun. If this is so, then why can't these suns shine on other places like Enroth? If this was the case, then there could be a ""destroyer of worlds."" I believe that this is what we face."
end

-- "Leaving"
evt.global[157] = function()
	evt.SetMessage{Str = 577}         -- "No, I don't think I will be leaving when the Ironfists continue their journey back to Enroth. Perhaps I will join with them in some years, but for now, I find myself fascinated by these lands. Though it is destroyed, I would study the remains of the crystal gateway. Never in my knowledge has there been in this world an artifact of comparable power. Perhaps I will find some use for the crystal shards?No matter. Regardless, when the Ironfists go, they will go without me."
end

-- "Nightshade Brazier"
evt.global[158] = function()
	evt.SetMessage{Str = 578}         -- "Without false modesty I must say that the Nightshade Brazier is the greatest creation of my dark arts. When its fires are properly tended, the accursed sun is incapable of shining within its area of influence. The soothing shadow of night takes up permanent residence over a vast region. Within these boundaries, vampires and other night creatures know freedoms they would not otherwise know. We are free of the crypts with no worries of the destroying light of day!And now the Temple of the Sun has taken my prize. It must be retrieved!"
end

-- "Who Are You?"
evt.global[159] = function()
	evt.SetMessage{Str = 579}         -- "I am Escaton the Destroyer also called ""Devil's Doom,"" ""The Spider in the Web Gate"" and ""Ruin."" There are places where I am worshiped as a god. But to myself I think of myself only as a servant to my greater masters.Know too that I have brought the cataclysm to your world, which must be destroyed. It is a doom you have brought on yourselves by failing to eliminate the devil Kreegans from your realms. "
	evt.SetNPCTopic{NPC = 22, Index = 0, Event = 160}         -- "Escaton" : "Masters"
	evt.SetNPCTopic{NPC = 22, Index = 1, Event = 161}         -- "Escaton" : "Cataclysm"
	evt.SetNPCTopic{NPC = 22, Index = 2, Event = 162}         -- "Escaton" : "Kreegans"
	evt.SetNPCTopic{NPC = 22, Index = 3, Event = 163}         -- "Escaton" : "Save the World"
	evt.SetNPCTopic{NPC = 19, Index = 0, Event = 155}         -- "Xanthor" : "Elemental Lords"
	evt.SetNPCTopic{NPC = 19, Index = 1, Event = 156}         -- "Xanthor" : "The Destroyer"
	evt.SetNPCGreeting{NPC = 19, Greeting = 112}         -- "Xanthor" : "You are back? Have you need of advice? Or are you finding the task at hand too difficult?"
	evt.Add{"QBits", Value = 235}         -- Have talked to Escaton
	evt.Set{"MapVar29", Value = 4}
	evt.Set{"MapVar30", Value = 4}
	evt.Set{"MapVar31", Value = 4}
end

-- "Masters"
evt.global[160] = function()
	if not evt.Cmp{"MapVar29", Value = 4} then
		if evt.Cmp{"MapVar29", Value = 3} then
			evt.SetMessage{Str = 581}         -- "On your world they speak of a Silence which has lasted for a thousand years and more. I am old beyond that and my masters are ancient to me."
			evt.Set{"MapVar29", Value = 2}
			return
		end
		if evt.Cmp{"MapVar29", Value = 2} then
			evt.SetMessage{Str = 582}         -- "There are more worlds than yours--a myriad of them. These worlds were once held in a great web whose threads could be traversed like bridges over rivers. What you call the Silence was marked by the breaking of the web which was built by my masters."
			evt.Set{"MapVar29", Value = 1}
			return
		end
		if evt.Cmp{"MapVar29", Value = 1} then
			evt.SetMessage{Str = 583}         -- "At one time my ancient masters were caretakers of more worlds than there are apples in a bushel. Before the Kreegans--before the Silence--they were worlds of wonder. My masters were kings and queens of a golden civilization. I was made, not because I was needed, but because I could be made--a protector of that which needed no protection...a symbol of might to a mighty people.But now, and for a millennium, the Kreegan blight has eaten away the splendor of the worlds. And so have my masters fallen. They are warlords and generals, and I am their greatest soldier."
			evt.Set{"MapVar29", Value = 4}
			return
		end
	end
	evt.SetMessage{Str = 580}         -- "My masters are those who created me. They gave me form and function. I have thus proven indestructible. I destroy worlds infested by Kreegans."
	evt.Set{"MapVar29", Value = 3}
end

-- "Cataclysm"
evt.global[161] = function()
	if not evt.Cmp{"MapVar30", Value = 4} then
		if evt.Cmp{"MapVar30", Value = 3} then
			evt.SetMessage{Str = 585}         -- "The cataclysm was brought into being when I performed the ritual Convocation of Cataclysm which brought into being the crystal. It is a weapon of last resort created by my masters to defend themselves against the Kreegans.I do have other weapons. But when I became aware of the Kreegans infestation on your world, I deemed the use of ultimate force necessary. Your world has fallen so far--it seemed certain you would not be able to defend yourselves against my enemies. Though I underestimated your abilities, and the Kreegans were ultimately destroyed, I still feel that I was right to err on the side of caution."
			evt.Set{"MapVar30", Value = 2}
			return
		end
		if evt.Cmp{"MapVar30", Value = 2} then
			evt.SetMessage{Str = 586}         -- "My masters, afraid the Kreegans would learn ways to corrupt me, have made me incorruptible. I am unable to undo the Convocation of Cataclysm once it has been performed. This command of theirs is part of my very being. I am powerless but to obey."
			evt.Set{"MapVar30", Value = 1}
			return
		end
		if evt.Cmp{"MapVar30", Value = 1} then
			evt.SetMessage{Str = 587}         -- "The Convocation of Cataclysm, as powerful as it is, cannot of itself destroy a world. Each of the elemental planes is ruled by a lord. These lords can fight the compulsion placed on their lesser subjects. For this reason, I have removed the lords from their realms. They are my ""guests"" for the time being.Once the cataclysm has run its course, I will return them so that they might rebuild your realm and theirs."
			evt.Set{"MapVar30", Value = 4}
			return
		end
	end
	evt.SetMessage{Str = 584}         -- "Your world will be destroyed by the elemental forces that created it. The crystal in Jadame's central city compels those who live on the elemental planes to open their worlds onto yours. When their worlds meet at the crystal, the reaction will unleash irrepressible destruction across the lands, sky and sea. All things living will live no longer."
	evt.Set{"MapVar30", Value = 3}
end

-- "Kreegans"
evt.global[162] = function()
	if not evt.Cmp{"MapVar31", Value = 4} then
		if evt.Cmp{"MapVar31", Value = 3} then
			evt.SetMessage{Str = 589}         -- "I am aware that the king and queen of Enroth have rid your world of Kreegans. Still, your world is to be destroyed. Once I am called, I must perform the Convocation. Once the Convocation is begun, it must continue.I was called while Kreegan still lived on your world. It matters not that they were dust by the time I arrived."
			evt.Set{"MapVar31", Value = 2}
			return
		end
		if evt.Cmp{"MapVar31", Value = 2} then
			evt.SetMessage{Str = 590}         -- "If it were not for the Kreegans and the state of war they impose, my masters could rebuild the Web of Worlds and lift what you call ""The Silence."" My masters have attempted to rebuild the Web many times, but the Kreegans always destroy it. Now they have concluded that the Kreegans must be entirely eliminated or the golden civilization will never rise again. It is to fulfill this purpose that I have been created."
			evt.Set{"MapVar31", Value = 1}
			return
		end
		if evt.Cmp{"MapVar31", Value = 1} then
			evt.SetMessage{Str = 591}         -- "As far as I'm able to feel such, I am amazed that your world was able to eliminate its Kreegan infestation. They are quite a bit more…advanced than you. The king and queen of Enroth must be strategists of the highest order. Too bad that they were not able to finish their task sooner.If I could regret, I would regret having to needlessly annihilate your world."
			evt.Set{"MapVar31", Value = 4}
			return
		end
	end
	evt.SetMessage{Str = 588}         -- "In the time since the Silence, your world has lost knowledge of the Kreegan's origin. That they resemble the devils of myth has been enough for you, and indeed, ""devils"" is what most call them. The truth is they came from the beyond. Before they attacked us, my masters had no knowledge of them.The Kreegans infest our worlds and spread if they can. It would seem in an endless universe that they could expand in another direction than ours. But they have not made this choice so we must defend ourselves from them."
	evt.Set{"MapVar31", Value = 3}
end

-- "Save the World"
evt.global[163] = function()
	evt.SetMessage{Str = 592}         -- "Yes, your world does need saving! The cataclysm, if not stopped, will destroy it utterly.A quandary for you: I, as bringer of the cataclysm know how it can be ended. Further, I acknowledge that since there are no longer Kreegans on your world it need not be destroyed. But, as servant to my masters, I am compelled to let the cataclysm continue by not divulging my knowledge to you.Still I will ask you some questions. Perhaps there is something for you in the answers?"
	evt.Add{"QBits", Value = 98}         -- Escaton, heard the first message in global event 163
	evt.SetNPCTopic{NPC = 22, Index = 0, Event = 164}         -- "Escaton" : "Riddle One"
	evt.SetNPCTopic{NPC = 22, Index = 1, Event = 165}         -- "Escaton" : "Riddle Two"
	evt.SetNPCTopic{NPC = 22, Index = 2, Event = 166}         -- "Escaton" : "Riddle Three"
	evt.SetNPCTopic{NPC = 22, Index = 3, Event = 0}         -- "Escaton"
end

-- "Riddle One"
evt.global[164] = function()
	if evt.Cmp{"QBits", Value = 94} then         -- Escaton, riddle one answered correctly.
		evt.SetMessage{Str = 598}         -- "Jails, prisons and cells come in many forms. We hear of so called ""prisons of the mind."" But I wonder. The riddle seems to speak of a physical prison. What think you?"
	else
		if evt.Question{Question = 595, Answer1 = 100, Answer2 = 101} then         --[[ "Where does one serve to pay,
Is not free to leave,
But is free when one leaves?" ]]
			if not evt.Cmp{"QBits", Value = 95} then         -- Escaton, riddle two answered correctly.
				goto _7
			end
			if not evt.Cmp{"QBits", Value = 96} then         -- Escaton, riddle three answered correctly.
				goto _7
			end
			evt.SetMessage{Str = 607}         -- "I would judge that you've answered the riddles correctly. I suppose in asking them to you I have in some way helped you. As far as I and my nature are concerned, this is sufficient.As a reward for your performance, take this small bauble. I have more than one and therefore, more than I require. And see? I can give it to you because I don't know you have the knowledge to use it."
			evt.Add{"QBits", Value = 97}         -- Escaton, all riddles answered correctly.
			evt.Add{"QBits", Value = 48}         -- "Rescue Pyrannaste, Lord of Fire."
			evt.Add{"QBits", Value = 50}         -- "Rescue Gralkor the Cruel, Lord of Earth."
			evt.Add{"QBits", Value = 52}         -- "Rescue Acwalander, Lord of Water."
			evt.Add{"QBits", Value = 54}         -- "Rescue Shalwend, Lord of Air."
			evt.Subtract{"QBits", Value = 46}         -- "Find the cause of the cataclysm through the Crystal Gateway."
			evt.Add{"QBits", Value = 47}         -- Quest 46 done. Used to allow entrance to elemental lord prisons. Now player needs item 629.
			evt.Add{"Inventory", Value = 629}         -- "Ring of Keys"
			evt.Add{"QBits", Value = 220}         -- Ring of Keys - I lost it
			evt.Add{"History16", Value = 0}
			evt.Subtract{"AutonotesBits", Value = 15}         -- "Obelisk message #8: inesonmid"
			evt.Add{"AutonotesBits", Value = 13}         -- "Obelisk message #6: pearswhil"
		else
			evt.SetMessage{Str = 597}         -- "That doesn't seem right at all."
		end
	end
::_35::
	evt.SetNPCTopic{NPC = 22, Index = 0, Event = 160}         -- "Escaton" : "Masters"
	evt.SetNPCTopic{NPC = 22, Index = 1, Event = 161}         -- "Escaton" : "Cataclysm"
	evt.SetNPCTopic{NPC = 22, Index = 2, Event = 162}         -- "Escaton" : "Kreegans"
	evt.SetNPCTopic{NPC = 22, Index = 3, Event = 171}         -- "Escaton" : "Riddles"
	do return end
::_7::
	evt.SetMessage{Str = 596}         -- "Yes. Your answer seems to fit the riddle nicely. Perhaps that is the correct answer."
	evt.Add{"QBits", Value = 94}         -- Escaton, riddle one answered correctly.
	if evt.Cmp{"QBits", Value = 95} then         -- Escaton, riddle two answered correctly.
		evt.Add{"AutonotesBits", Value = 11}         -- "Obelisk message #4: amonghiss"
		evt.Subtract{"AutonotesBits", Value = 14}         -- "Obelisk message #7: ethesunsh"
	else
		if evt.Cmp{"QBits", Value = 96} then         -- Escaton, riddle three answered correctly.
			evt.Add{"AutonotesBits", Value = 12}         -- "Obelisk message #5: ubjectsap"
			evt.Subtract{"AutonotesBits", Value = 16}         -- "Obelisk message #9: summerday"
		else
			evt.Add{"AutonotesBits", Value = 10}         -- "Obelisk message #3: thornskey"
		end
	end
	goto _35
end

-- "Riddle Two"
evt.global[165] = function()
	if evt.Cmp{"QBits", Value = 95} then         -- Escaton, riddle two answered correctly.
		evt.SetMessage{Str = 602}         -- "Inside. Inside what? And what is inside? And while we're asking...why?"
	else
		if evt.Question{Question = 599, Answer1 = 102, Answer2 = 103} then         --[[ "What is there when
You enter a room,
And cannot be outside,
Though you leave the door open?" ]]
			if not evt.Cmp{"QBits", Value = 94} then         -- Escaton, riddle one answered correctly.
				goto _7
			end
			if not evt.Cmp{"QBits", Value = 96} then         -- Escaton, riddle three answered correctly.
				goto _7
			end
			evt.SetMessage{Str = 607}         -- "I would judge that you've answered the riddles correctly. I suppose in asking them to you I have in some way helped you. As far as I and my nature are concerned, this is sufficient.As a reward for your performance, take this small bauble. I have more than one and therefore, more than I require. And see? I can give it to you because I don't know you have the knowledge to use it."
			evt.Add{"QBits", Value = 97}         -- Escaton, all riddles answered correctly.
			evt.Add{"QBits", Value = 48}         -- "Rescue Pyrannaste, Lord of Fire."
			evt.Add{"QBits", Value = 50}         -- "Rescue Gralkor the Cruel, Lord of Earth."
			evt.Add{"QBits", Value = 52}         -- "Rescue Acwalander, Lord of Water."
			evt.Add{"QBits", Value = 54}         -- "Rescue Shalwend, Lord of Air."
			evt.Subtract{"QBits", Value = 46}         -- "Find the cause of the cataclysm through the Crystal Gateway."
			evt.Add{"QBits", Value = 47}         -- Quest 46 done. Used to allow entrance to elemental lord prisons. Now player needs item 629.
			evt.Add{"Inventory", Value = 629}         -- "Ring of Keys"
			evt.Add{"QBits", Value = 220}         -- Ring of Keys - I lost it
			evt.Add{"History16", Value = 0}
			evt.Subtract{"AutonotesBits", Value = 12}         -- "Obelisk message #5: ubjectsap"
			evt.Add{"AutonotesBits", Value = 13}         -- "Obelisk message #6: pearswhil"
		else
			evt.SetMessage{Str = 601}         -- "I suppose that could work…no, on second thought, it seems entirely wrong."
		end
	end
::_35::
	evt.SetNPCTopic{NPC = 22, Index = 0, Event = 160}         -- "Escaton" : "Masters"
	evt.SetNPCTopic{NPC = 22, Index = 1, Event = 161}         -- "Escaton" : "Cataclysm"
	evt.SetNPCTopic{NPC = 22, Index = 2, Event = 162}         -- "Escaton" : "Kreegans"
	evt.SetNPCTopic{NPC = 22, Index = 3, Event = 171}         -- "Escaton" : "Riddles"
	do return end
::_7::
	evt.SetMessage{Str = 600}         -- "The vagaries of language are many. Still, your answer seems to apply well to the question."
	evt.Add{"QBits", Value = 95}         -- Escaton, riddle two answered correctly.
	if evt.Cmp{"QBits", Value = 94} then         -- Escaton, riddle one answered correctly.
		evt.Add{"AutonotesBits", Value = 11}         -- "Obelisk message #4: amonghiss"
		evt.Subtract{"AutonotesBits", Value = 10}         -- "Obelisk message #3: thornskey"
	else
		if evt.Cmp{"QBits", Value = 96} then         -- Escaton, riddle three answered correctly.
			evt.Add{"AutonotesBits", Value = 15}         -- "Obelisk message #8: inesonmid"
			evt.Subtract{"AutonotesBits", Value = 16}         -- "Obelisk message #9: summerday"
		else
			evt.Add{"AutonotesBits", Value = 14}         -- "Obelisk message #7: ethesunsh"
		end
	end
	goto _35
end

-- "Riddle Three"
evt.global[166] = function()
	if evt.Cmp{"QBits", Value = 96} then         -- Escaton, riddle three answered correctly.
		evt.SetMessage{Str = 606}         -- """Egg,"" yes. or perhaps, ""eggs."" Eggs are a source of life, a seed of sorts. They are also of an unusual shape not found in many places elsewhere. Perhaps placing the answer in context will give a clue or some direction."
	else
		if evt.Question{Question = 603, Answer1 = 104, Answer2 = 105} then         --[[ "A moon colored box
meant to be opened from the inside
protects the sun colored
treasure of life.
What is it?" ]]
			if not evt.Cmp{"QBits", Value = 94} then         -- Escaton, riddle one answered correctly.
				goto _7
			end
			if not evt.Cmp{"QBits", Value = 95} then         -- Escaton, riddle two answered correctly.
				goto _7
			end
			evt.SetMessage{Str = 607}         -- "I would judge that you've answered the riddles correctly. I suppose in asking them to you I have in some way helped you. As far as I and my nature are concerned, this is sufficient.As a reward for your performance, take this small bauble. I have more than one and therefore, more than I require. And see? I can give it to you because I don't know you have the knowledge to use it."
			evt.Add{"QBits", Value = 97}         -- Escaton, all riddles answered correctly.
			evt.Add{"QBits", Value = 48}         -- "Rescue Pyrannaste, Lord of Fire."
			evt.Add{"QBits", Value = 50}         -- "Rescue Gralkor the Cruel, Lord of Earth."
			evt.Add{"QBits", Value = 52}         -- "Rescue Acwalander, Lord of Water."
			evt.Add{"QBits", Value = 54}         -- "Rescue Shalwend, Lord of Air."
			evt.Subtract{"QBits", Value = 46}         -- "Find the cause of the cataclysm through the Crystal Gateway."
			evt.Add{"QBits", Value = 47}         -- Quest 46 done. Used to allow entrance to elemental lord prisons. Now player needs item 629.
			evt.Add{"Inventory", Value = 629}         -- "Ring of Keys"
			evt.Add{"QBits", Value = 220}         -- Ring of Keys - I lost it
			evt.Add{"History16", Value = 0}
			evt.Subtract{"AutonotesBits", Value = 11}         -- "Obelisk message #4: amonghiss"
			evt.Add{"AutonotesBits", Value = 13}         -- "Obelisk message #6: pearswhil"
		else
			evt.SetMessage{Str = 605}         -- "I don't see how that could be the answer. Really I can't."
		end
	end
::_35::
	evt.SetNPCTopic{NPC = 22, Index = 0, Event = 160}         -- "Escaton" : "Masters"
	evt.SetNPCTopic{NPC = 22, Index = 1, Event = 161}         -- "Escaton" : "Cataclysm"
	evt.SetNPCTopic{NPC = 22, Index = 2, Event = 162}         -- "Escaton" : "Kreegans"
	evt.SetNPCTopic{NPC = 22, Index = 3, Event = 171}         -- "Escaton" : "Riddles"
	do return end
::_7::
	evt.SetMessage{Str = 604}         -- "What else indeed could the answer be? I'm sure if one were to apply some thought, one could think of something. Still in these matters, it is best to have confidence in one's clearest thought. I suppose your answer could be correct."
	evt.Add{"QBits", Value = 96}         -- Escaton, riddle three answered correctly.
	if evt.Cmp{"QBits", Value = 94} then         -- Escaton, riddle one answered correctly.
		evt.Add{"AutonotesBits", Value = 12}         -- "Obelisk message #5: ubjectsap"
		evt.Subtract{"AutonotesBits", Value = 10}         -- "Obelisk message #3: thornskey"
	else
		if evt.Cmp{"QBits", Value = 95} then         -- Escaton, riddle two answered correctly.
			evt.Add{"AutonotesBits", Value = 15}         -- "Obelisk message #8: inesonmid"
			evt.Subtract{"AutonotesBits", Value = 14}         -- "Obelisk message #7: ethesunsh"
		else
			evt.Add{"AutonotesBits", Value = 16}         -- "Obelisk message #9: summerday"
		end
	end
	goto _35
end

-- "Release Shalwend"
evt.global[167] = function()
	if not evt.Cmp{"QBits", Value = 51} then         -- Quest 50 done.
		goto _5
	end
	if not evt.Cmp{"QBits", Value = 53} then         -- Quest 52 done.
		goto _5
	end
	if not evt.Cmp{"QBits", Value = 49} then         -- Quest 48 done.
		goto _5
	end
	evt.SetMessage{Str = 883}         --[[ "Thank you for releasing me. Know that Shalwend, Lord of Air, holds you in his favor. I go now to restore order to my realm and to join with my fellow lords to do what I can for yours. Be warned! Our actions will destabilize the crystal gateway. Leave now for your home, lest you be trapped here forever.
Inform Xanthor of what has happened here. Farewell" ]]
	evt.Add{"QBits", Value = 56}         -- All Lords from quests 48, 50, 52, 54 rescued.
	evt.Add{"History17", Value = 0}
::_10::
	evt.SetNPCTopic{NPC = 26, Index = 0, Event = 0}         -- "Shalwend"
	evt.MoveNPC{NPC = 26, HouseId = 0}         -- "Shalwend"
	evt.ForPlayer(-- ERROR: Const not found
"All")
	evt.Add{"Experience", Value = 100000}
	evt.ForPlayer(-- ERROR: Const not found
0)
	evt.Add{"Gold", Value = 10000}
	evt.ForPlayer(-- ERROR: Const not found
"All")
	evt.Subtract{"QBits", Value = 54}         -- "Rescue Shalwend, Lord of Air."
	evt.Add{"QBits", Value = 55}         -- Quest 54 done.
	evt.Add{"Awards", Value = 14}         -- "Rescued Shalwend, Lord of Air."
	do return end
::_5::
	evt.SetMessage{Str = 608}         -- "Thank you for releasing me. I go now to restore order to my realm and to do what I can for yours. Know that Shalwend, Lord of Air, holds you in his favor. Farewell."
	goto _10
end

-- "Release Acwalander"
evt.global[168] = function()
	if not evt.Cmp{"QBits", Value = 51} then         -- Quest 50 done.
		goto _5
	end
	if not evt.Cmp{"QBits", Value = 55} then         -- Quest 54 done.
		goto _5
	end
	if not evt.Cmp{"QBits", Value = 49} then         -- Quest 48 done.
		goto _5
	end
	evt.SetMessage{Str = 884}         -- """The Destroyer"" is a fitting moniker for one who would imprison me in such a fashion. If it were not for you, I, Acwalander, Lord of Water, would have soon perished. My passing would have had an unbalancing effect across all the planes. Thank you. I go now to gather with the other lords. Together we will set things right. Be warned! Our actions will destabilize the crystal gateway. Leave now for your home, lest you be trapped here forever. Inform Xanthor of what has happened here. Farewell."
	evt.Add{"QBits", Value = 56}         -- All Lords from quests 48, 50, 52, 54 rescued.
	evt.Add{"History17", Value = 0}
::_10::
	evt.SetNPCTopic{NPC = 24, Index = 0, Event = 0}         -- "Acwalander"
	evt.MoveNPC{NPC = 24, HouseId = 0}         -- "Acwalander"
	evt.ForPlayer(-- ERROR: Const not found
"All")
	evt.Add{"Experience", Value = 100000}
	evt.ForPlayer(-- ERROR: Const not found
0)
	evt.Add{"Gold", Value = 10000}
	evt.ForPlayer(-- ERROR: Const not found
"All")
	evt.Subtract{"QBits", Value = 52}         -- "Rescue Acwalander, Lord of Water."
	evt.Add{"QBits", Value = 53}         -- Quest 52 done.
	evt.Add{"Awards", Value = 15}         -- "Rescued Acwalander, Lord of Water."
	do return end
::_5::
	evt.SetMessage{Str = 609}         -- """The Destroyer"" is a fitting moniker for one who would imprison me in such a fashion. If it were not for you, I, Acwalander, Lord of Water, would have soon perished. My passing would have had an unbalancing effect across all the planes. Thank you. I go now to set things right."
	goto _10
end

-- "Release Gralkor"
evt.global[169] = function()
	if not evt.Cmp{"QBits", Value = 55} then         -- Quest 54 done.
		goto _5
	end
	if not evt.Cmp{"QBits", Value = 53} then         -- Quest 52 done.
		goto _5
	end
	if not evt.Cmp{"QBits", Value = 49} then         -- Quest 48 done.
		goto _5
	end
	evt.SetMessage{Str = 885}         -- "I am free! Now will he who was fool enough to jail me--this Destroyer--feel my wrath. That I, the Lord of Earth, am called ""Gralkor the Cruel"" is no mistake. The suffering I have felt will be his returned in multitudes!I go now to gather with the other lords. Together we will set things right. Be warned! Our actions will destabilize the crystal gateway. Leave now for your home, lest you be trapped here forever. Inform Xanthor of what has happened here. Farewell"
	evt.Add{"QBits", Value = 56}         -- All Lords from quests 48, 50, 52, 54 rescued.
	evt.Add{"History17", Value = 0}
::_10::
	evt.SetNPCTopic{NPC = 25, Index = 0, Event = 0}         -- "Gralkor the Cruel"
	evt.MoveNPC{NPC = 25, HouseId = 0}         -- "Gralkor the Cruel"
	evt.ForPlayer(-- ERROR: Const not found
"All")
	evt.Add{"Experience", Value = 100000}
	evt.ForPlayer(-- ERROR: Const not found
0)
	evt.Add{"Gold", Value = 10000}
	evt.ForPlayer(-- ERROR: Const not found
"All")
	evt.Subtract{"QBits", Value = 50}         -- "Rescue Gralkor the Cruel, Lord of Earth."
	evt.Add{"QBits", Value = 51}         -- Quest 50 done.
	evt.Add{"Awards", Value = 16}         -- "Rescued Gralkor the Cruel, Lord of Earth."
	do return end
::_5::
	evt.SetMessage{Str = 610}         -- "I am free! Now will he who was fool enough to jail me--this Destroyer--feel my wrath. That I, the Lord of Earth, am called ""Gralkor the Cruel"" is no mistake. The suffering I have felt will be his returned in multitudes!"
	goto _10
end

-- "Release Pyrannaste"
evt.global[170] = function()
	if not evt.Cmp{"QBits", Value = 51} then         -- Quest 50 done.
		goto _5
	end
	if not evt.Cmp{"QBits", Value = 53} then         -- Quest 52 done.
		goto _5
	end
	if not evt.Cmp{"QBits", Value = 55} then         -- Quest 54 done.
		goto _5
	end
	evt.SetMessage{Str = 886}         --[[ "Free at last. My torment is over, but what of my subjects? I know the Destroyer has them compelled to a terrible task. My presence will sooth them. I must go to restore order to my realm and yours.Before I return to the Plane of Fire, I will gather with the other lords. Together we will set things right. Be warned! Our actions will destabilize the crystal gateway. Leave now for your home, lest you be trapped here forever.
Inform Xanthor of what has happened here. Farewell" ]]
	evt.Add{"QBits", Value = 56}         -- All Lords from quests 48, 50, 52, 54 rescued.
	evt.Add{"History17", Value = 0}
::_10::
	evt.SetNPCTopic{NPC = 23, Index = 0, Event = 0}         -- "Pyrannaste"
	evt.MoveNPC{NPC = 23, HouseId = 0}         -- "Pyrannaste"
	evt.ForPlayer(-- ERROR: Const not found
"All")
	evt.Add{"Experience", Value = 100000}
	evt.ForPlayer(-- ERROR: Const not found
0)
	evt.Add{"Gold", Value = 10000}
	evt.ForPlayer(-- ERROR: Const not found
"All")
	evt.Subtract{"QBits", Value = 48}         -- "Rescue Pyrannaste, Lord of Fire."
	evt.Add{"QBits", Value = 49}         -- Quest 48 done.
	evt.Add{"Awards", Value = 17}         -- "Rescued Pyrannaste, Lord of Fire."
	do return end
::_5::
	evt.SetMessage{Str = 611}         -- "Free at last. My torment is over, but what of my subjects? I know the Destroyer has them compelled to a terrible task. My presence will sooth them. I must go. I must…farewell…"
	goto _10
end

-- "Riddles"
evt.global[171] = function()
	if evt.Cmp{"QBits", Value = 97} then         -- Escaton, all riddles answered correctly.
		evt.SetMessage{Str = 594}         -- "My masters have made me a holder, and not a giver, of knowledge. Still perhaps you have given yourself knowledge through my questions? I have given you all the questions I will, so you must look at what you have. Perhaps you should question the answers.A ""prison"" implies a prisoner. Who? ""Inside?"" Inside of what? And ""egg."" What kind of egg? A bird's egg? Perhaps something like an egg?"
	else
		evt.SetMessage{Str = 593}         -- "Though I must destroy your world, what I need do I have already done. Until the cataclysm has culminated, there is nothing to stop me from indulging you with my conversation. This cannot continue forever. Nothing does.Sometimes questions create more questions. Sometimes they provide answers. I wonder what my questions will provide you?"
		evt.SetNPCTopic{NPC = 22, Index = 0, Event = 164}         -- "Escaton" : "Riddle One"
		evt.SetNPCTopic{NPC = 22, Index = 1, Event = 165}         -- "Escaton" : "Riddle Two"
		evt.SetNPCTopic{NPC = 22, Index = 2, Event = 166}         -- "Escaton" : "Riddle Three"
		evt.SetNPCTopic{NPC = 22, Index = 3, Event = 0}         -- "Escaton"
	end
end

-- "Raiders"
evt.global[172] = function()
	evt.SetMessage{Str = 613}         -- "There are many predators who would take advantage of the lair in this vulnerable time. I've already driven off looters…and worse. One of Zog's patrols stopped by soon after the flood. I fought them off, but some escaped. I am sure they will be back in greater numbers."
	evt.SetNPCTopic{NPC = 57, Index = 2, Event = 173}         -- "Thanys" : "Join"
end

-- "Join"
evt.global[173] = function()
	evt.SetMessage{Str = 612}         -- "No! Someone must remain here to guard the lair against the barbarian raiders. Come back after you've helped my herd. I may consider joining you then."
end

-- "Quest"
evt.global[174] = function()
	evt.SetMessage{Str = 619}         --[[ "Yellow Fever is a very crippling disease that pops up every few years.
Usually we arrange for medicine from the mainland, but now that the bridges are destroyed, no one can make it to the docks!" ]]
	evt.SetNPCTopic{NPC = 65, Index = 0, Event = 175}         -- "Aislen" : "Quest"
end

-- "Quest"
evt.CanShowTopic[175] = function()
	return not evt.Cmp{"QBits", Value = 108}         -- Yellow Fever epidemic cured!
end

evt.global[175] = function()
	evt.SetMessage{Str = 620}         --[[ "Here, take these scrolls of Cure Disease.
Maybe we can at least prevent an epidemic!
The six huts on the outer islands are infected.
If the teleporters between the islands are repaired, you can take these scrolls to the huts.
Unfortunately you will have to find three more scrolls in your travels." ]]
	evt.Add{"QBits", Value = 101}         -- "Deliver Cure Disease Scrolls to the six huts on the outer Dagger Wound Islands.  Return to Aislen on Dagger Wound Island."
	evt.SetNPCTopic{NPC = 65, Index = 0, Event = 176}         -- "Aislen" : "Have you stopped the epidemic?"
	evt.Add{"Inventory", Value = 373}         -- "Cure Disease"
	evt.Add{"Inventory", Value = 373}         -- "Cure Disease"
	evt.Add{"Inventory", Value = 373}         -- "Cure Disease"
end

-- "Have you stopped the epidemic?"
evt.CanShowTopic[176] = function()
	return evt.Cmp{"QBits", Value = 108}         -- Yellow Fever epidemic cured!
end

evt.global[176] = function()
	evt.SetMessage{Str = 621}         --[[ "The Yellow Fever epidemic is over!
Thank you for your help!" ]]
	evt.Subtract{"QBits", Value = 101}         -- "Deliver Cure Disease Scrolls to the six huts on the outer Dagger Wound Islands.  Return to Aislen on Dagger Wound Island."
	evt.Add{"Gold", Value = 1500}
	evt.ForPlayer(-- ERROR: Const not found
"All")
	evt.Add{"Awards", Value = 18}         -- "Stopped the Yellow Fever Epidemic on Dagger Wound Island"
	evt.SetNPCTopic{NPC = 65, Index = 0, Event = 661}         -- "Aislen" : "Pirate Raids"
end

-- "Quest"
evt.CanShowTopic[177] = function()
	return not evt.Cmp{"QBits", Value = 110}         -- Poison removed from water supply!
end

evt.global[177] = function()
	evt.SetMessage{Str = 622}         --[[ "I hear that Yellow Fever is once again spreading through the people.
Usually the water supply here on the main island is the primary source of the disease.
We used to get an Anointed Herb Potion from the mainland when the disease popped up.
Without access to the dock however, we cannot get this needed cure.
If you find a way to the mainland, perhaps the smugglers of Ravenshore have the cure.
If you can procure the Anointed Potion, return to me with it!" ]]
	evt.Add{"QBits", Value = 109}         -- "Find and return an Anointed Potion to Languid in the Dagger Wound Islands."
	evt.SetNPCTopic{NPC = 66, Index = 0, Event = 178}         -- "Languid" : "Do you have the antidote?"
end

-- "Do you have the antidote?"
evt.global[178] = function()
	evt.ForPlayer(-- ERROR: Const not found
"All")
	if evt.Cmp{"Inventory", Value = 616} then         -- "Anointed Herb Potion"
		evt.SetMessage{Str = 623}         --[[ "Thank you!
I will go introduce this to the water supply!" ]]
		evt.Subtract{"Inventory", Value = 616}         -- "Anointed Herb Potion"
		evt.ForPlayer(-- ERROR: Const not found
"All")
		evt.Add{"Experience", Value = 7500}
		evt.ForPlayer(-- ERROR: Const not found
0)
		evt.Add{"Gold", Value = 2000}
		evt.ForPlayer(-- ERROR: Const not found
"All")
		evt.Subtract{"QBits", Value = 109}         -- "Find and return an Anointed Potion to Languid in the Dagger Wound Islands."
		evt.Subtract{"QBits", Value = 245}         -- Annointed Herb Potion - I lost it!
		evt.Add{"QBits", Value = 110}         -- Poison removed from water supply!
		evt.Add{"QBits", Value = 1552}         -- Brought the Annointed Herb Potion to Languid on the Dagger Wound Islands.
		evt.SetNPCTopic{NPC = 66, Index = 0, Event = 0}         -- "Languid"
	else
		evt.SetMessage{Str = 745}         -- "Without the Anointed Herb Potion we cannot remove the poison from our water supply!"
	end
end

-- "Potion of Pure Speed"
evt.CanShowTopic[179] = function()
	return not evt.Cmp{"QBits", Value = 113}         -- "Bring Thistle on the Dagger Wound Islands the basic ingredients for a potion of Pure Speed."
end

evt.global[179] = function()
	evt.SetMessage{Str = 624}         --[[ "Perhaps you can bring me the basic ingredients for a Potion of Pure speed?
With them I can make this incredible potion and finish my studies in alchemy!
I will reward you well for your assistance!" ]]
	evt.Add{"QBits", Value = 113}         -- "Bring Thistle on the Dagger Wound Islands the basic ingredients for a potion of Pure Speed."
	evt.SetNPCTopic{NPC = 68, Index = 0, Event = 0}         -- "Thistle"
end

-- "Ingredients"
evt.global[180] = function()
	evt.SetMessage{Str = 747}         --[[ "Black Potions are made of a complex blending of many of the three basic alchemical reagents. Red reagents include Widowsweep Berries, Wolf's Eye, and Phials of Gog Blood.
Some blue reagents are Phoenix Feather, Phima Root, Meteor Fragment and Will O' Wisps Heart.
And some yellow reagents are Datura, Dragon Turtle Fang, Poppy Pods and Thornbark." ]]
end

-- "Do you have the Ingredients?"
evt.CanShowTopic[181] = function()
	return evt.Cmp{"QBits", Value = 113}         -- "Bring Thistle on the Dagger Wound Islands the basic ingredients for a potion of Pure Speed."
end

evt.global[181] = function()
	if not evt.CheckItemsCount{MinItemIndex = 200, MaxItemIndex = 204, Count = 4} then         -- "Widowsweep Berries"..."Phoenix Feather"
		evt.SetMessage{Str = 684}         --[[ "You are missing all or some of the needed ingredients.
Return when you have them all." ]]
	else
		if not evt.CheckItemsCount{MinItemIndex = 205, MaxItemIndex = 209, Count = 2} then         -- "Phima Root"..."Dragon Turtle Fang"
			evt.SetMessage{Str = 684}         --[[ "You are missing all or some of the needed ingredients.
Return when you have them all." ]]
		else
			if evt.CheckItemsCount{MinItemIndex = 210, MaxItemIndex = 214, Count = 1} then         -- "Poppy Pod"..."Unicorn Horn"
				evt.SetMessage{Str = 626}         --[[ "The ingredients!
Thank you!
Take this as a reward!" ]]
				evt.RemoveItems{MinItemIndex = 200, MaxItemIndex = 204, Count = 4}         -- "Widowsweep Berries"..."Phoenix Feather"
				evt.RemoveItems{MinItemIndex = 205, MaxItemIndex = 209, Count = 2}         -- "Phima Root"..."Dragon Turtle Fang"
				evt.RemoveItems{MinItemIndex = 210, MaxItemIndex = 214, Count = 1}         -- "Poppy Pod"..."Unicorn Horn"
				evt.Subtract{"QBits", Value = 113}         -- "Bring Thistle on the Dagger Wound Islands the basic ingredients for a potion of Pure Speed."
				evt.Add{"QBits", Value = 114}         -- returned ingredients for a potion of Pure Speed
				evt.Add{"Inventory", Value = 265}         -- "Pure Speed"
				evt.ForPlayer(-- ERROR: Const not found
"All")
				evt.Add{"Experience", Value = 1000}
				evt.SetNPCTopic{NPC = 68, Index = 2, Event = 0}         -- "Thistle"
			else
				evt.SetMessage{Str = 684}         --[[ "You are missing all or some of the needed ingredients.
Return when you have them all." ]]
			end
		end
	end
end

-- "Quest"
evt.CanShowTopic[182] = function()
	return not evt.Cmp{"QBits", Value = 112}         -- Found Idol of the Snake
end

evt.global[182] = function()
	evt.SetMessage{Str = 627}         --[[ "I believe I may know how to stop the destructive force of the mountain of fire!
I have found an ancient spell that should give me the power to send the mountain of fire back into the sea! To complete the spell I need an ancient relic called the Idol of the Snake.
With this item of power I should be able to complete the spell." ]]
	evt.Add{"QBits", Value = 111}         -- "Bring Hiss on the Dagger Wound Islands the Idol of the Snake from the Abandoned Temple."
	evt.SetNPCTopic{NPC = 69, Index = 0, Event = 183}         -- "Hiss" : "Do you have the Idol?"
end

-- "Do you have the Idol?"
evt.global[183] = function()
	evt.ForPlayer(-- ERROR: Const not found
"All")
	if evt.Cmp{"Inventory", Value = 630} then         -- "Idol of the Snake"
		evt.SetMessage{Str = 628}         --[[ "Thank you for returning with the Idol.
Upon further study I discovered that the entire spell was useless.
Still, this is not your fault and you deserve some reward for returning to me!" ]]
		evt.ForPlayer(-- ERROR: Const not found
"All")
		evt.Subtract{"Inventory", Value = 630}         -- "Idol of the Snake"
		evt.Add{"Experience", Value = 7500}
		evt.ForPlayer(-- ERROR: Const not found
0)
		evt.Add{"Gold", Value = 2000}
		evt.ForPlayer(-- ERROR: Const not found
"All")
		evt.Subtract{"QBits", Value = 111}         -- "Bring Hiss on the Dagger Wound Islands the Idol of the Snake from the Abandoned Temple."
		evt.Add{"QBits", Value = 112}         -- Found Idol of the Snake
		evt.Add{"QBits", Value = 1549}         -- Recovered Idol of the Snake for Hiss of Blood Drop village.
		evt.SetNPCTopic{NPC = 69, Index = 0, Event = 0}         -- "Hiss"
	else
		evt.SetMessage{Str = 746}         --[[ "Where is the Idol?
Do not waste my time unless you have it!" ]]
	end
end

-- "Quest"
evt.global[184] = function()
	evt.SetMessage{Str = 629}         --[[ "The packs of Dire Wolves that roam this region are a threat to travelers and commerce.
The Merchants of Alvar have instructed me to hire competent people to hunt down these wolves and to ""thin the pack"" in their words.
You look like skilled adventurers!
I will reward you well if you can eliminate the entire pack and those in their lair." ]]
	evt.Add{"QBits", Value = 139}         -- "Kill all Dire Wolves in Ravenshore. Return to Maddigan in Ravenshore."
	evt.SetNPCTopic{NPC = 71, Index = 0, Event = 186}         -- "Maddigan the Tracker" : "Finally!"
end

-- "Dire Wolf Pelts"
evt.global[185] = function()
	evt.SetMessage{Str = 630}         -- "I pay 250 gold for every intact Dire Wolf Pelt that you return to me."
	evt.ForPlayer(-- ERROR: Const not found
"All")
	if evt.Cmp{"Inventory", Value = 633} then         -- "Dire Wolf Pelt"
		evt.ForPlayer(-- ERROR: Const not found
0)
		evt.Add{"Gold", Value = 250}
		evt.ForPlayer(-- ERROR: Const not found
"All")
		evt.Subtract{"Inventory", Value = 633}         -- "Dire Wolf Pelt"
	else
		evt.SetMessage{Str = 754}         -- "You have no more pelts, return when you have more!"
	end
end

-- "Finally!"
evt.CanShowTopic[186] = function()
	return evt.Cmp{"QBits", Value = 140}         -- Killed all Dire Wolves in Ravenshore
end

evt.global[186] = function()
	evt.SetMessage{Str = 753}         --[[ "You have killed all of the dire wolves in the region!
Travelers are once again safe. However, I now find myself in need of a new business!" ]]
	evt.Add{"Gold", Value = 2500}
	evt.ForPlayer(-- ERROR: Const not found
"All")
	evt.Add{"Experience", Value = 7500}
	evt.Subtract{"QBits", Value = 139}         -- "Kill all Dire Wolves in Ravenshore. Return to Maddigan in Ravenshore."
	evt.Add{"QBits", Value = 1553}         -- Killed all of the Dire Wolves in the Ravenshore area.
	evt.SetNPCTopic{NPC = 71, Index = 0, Event = 0}         -- "Maddigan the Tracker"
end

-- "Quest"
evt.global[187] = function()
	if evt.Cmp{"QBits", Value = 120} then         -- Rescued Smuggler Leader's Familly 
		evt.SetMessage{Str = 755}         --[[ "My family returned and told me of how you rescued them.
Tell the Merchants of Alvar, that they no longer need rely upon our ""bargain.""
I will keep my word to them and to you, my boats will always be at your service!" ]]
		evt.Subtract{"QBits", Value = 120}         -- Rescued Smuggler Leader's Familly 
		evt.ForPlayer(-- ERROR: Const not found
"All")
		evt.Add{"Experience", Value = 15000}
		evt.Add{"QBits", Value = 1551}         -- Rescued Irabelle Hunter from the Ogre Fortress in Alvar.
		evt.ForPlayer(-- ERROR: Const not found
0)
		evt.Add{"Gold", Value = 10000}
		evt.SetNPCTopic{NPC = 4, Index = 2, Event = 0}         -- "Arion Hunter"
	else
		evt.SetMessage{Str = 632}         --[[ "The Merchants of Alvar took my family into what they termed ""protective custody"" and use this as the means to secure my services. However as the caravan with my family was returning to Alvar, they were attacked by Ogres and bandits.
The Ogre Zog, took my family from them!
He took them to his fortress in the Alvar region.
Now, I am to spy on the Merchants of Alvar for him.
As long as I do so, my family lives.
If I stop, they die.
Can you rescue them for me?" ]]
		evt.Add{"QBits", Value = 119}         -- "Rescue Arion Hunter's daughter from Ogre Fortress in Alvar."
	end
end

-- "Quest"
evt.CanShowTopic[188] = function()
	return not evt.Cmp{"QBits", Value = 118}         -- Delivered false report to Stanley
end

evt.global[188] = function()
	evt.SetMessage{Str = 633}         --[[ "I send periodic reports of the activities of the Merchants of Alvar to the Dread Pirate Stanley in the tavern, The Pirate's Rest on the Island of Regna. Now that the Merchants have ""bargained"" for my assistance, we must deliver a false set of reports to keep Stanley from being suspicious.
Take this report to him in Harecksburg on the island of Regna!" ]]
	evt.Add{"QBits", Value = 117}         -- "Deliver fake report to the Dread Pirate Stanley in the Pirate's Rest Tavern on the Island of Regna."
	evt.Add{"QBits", Value = 282}         -- False Report - I lost it!
	evt.Add{"Inventory", Value = 602}         -- "False Report"
	evt.SetNPCTopic{NPC = 4, Index = 1, Event = 189}         -- "Arion Hunter" : "Report has been delivered?"
end

-- "Report has been delivered?"
evt.CanShowTopic[189] = function()
	return evt.Cmp{"QBits", Value = 118}         -- Delivered false report to Stanley
end

evt.global[189] = function()
	evt.SetMessage{Str = 634}         --[[ "You delivered the report to Stanley?
This is will at least buy us sometime before he becomes suspicious of the activities here in Ravenshore and those of the Merchants in Alvar." ]]
	evt.ForPlayer(-- ERROR: Const not found
"All")
	evt.Add{"Experience", Value = 10000}
	evt.SetNPCTopic{NPC = 4, Index = 1, Event = 299}         -- "Arion Hunter" : "Fate of Jadame"
end

-- "Anointed Herb Potion"
evt.CanShowTopic[190] = function()
	return evt.Cmp{"QBits", Value = 109}         -- "Find and return an Anointed Potion to Languid in the Dagger Wound Islands."
end

evt.global[190] = function()
	evt.SetMessage{Str = 635}         --[[ "I hear that you are looking for an Anointed Herb potion to purify the water supply.
The Smugglers of Jadame deal with all kind of strange goods.
If anyone would know about or have this anointed herb potion, it would be them!" ]]
end

-- "Naga Hides"
evt.global[191] = function()
	evt.SetMessage{Str = 636}         -- "The Dark Elves of Alvar pay well for leather made from Naga Hides. Once treated and tanned, the Naga Hides can last almost longer than a Dark Elf's lifetime! "
end

-- "500 Gold!"
evt.global[192] = function()
	evt.SetMessage{Str = 637}         -- "I will pay you 500 gold for each Naga Hide you bring."
	evt.ForPlayer(-- ERROR: Const not found
"All")
	if evt.Cmp{"Inventory", Value = 632} then         -- "Naga Hide"
		evt.Subtract{"Inventory", Value = 632}         -- "Naga Hide"
		evt.ForPlayer(-- ERROR: Const not found
0)
		evt.Add{"Gold", Value = 500}
	else
		evt.SetMessage{Str = 756}         --[[ "You do not have any Naga Hides!
You waste my time!" ]]
	end
end

-- "Quest"
evt.CanShowTopic[193] = function()
	return not evt.Cmp{"QBits", Value = 128}         -- Recovered the the Shield, Eclipse for Lathius
end

evt.global[193] = function()
	evt.SetMessage{Str = 638}         --[[ "Many decades ago, the legendary Priest of the Sun, Camien Thryce, led a crusade against the Necromancers' Guild in Shadowspire.
The Guild was able to defeat Thryce's forces with the aid of the Vampires that also dwell in the Shadowspire region.
Camien Thryce carried with him the clerical artifact called Eclipse with him into battle.
The shield was lost when Thryce was struck down by a Nosferatu in the final battle." ]]
	evt.Add{"QBits", Value = 127}         -- "Recover the shield, Eclipse, for Lathius in Ravenshore."
	evt.SetNPCTopic{NPC = 73, Index = 0, Event = 194}         -- "Lathius" : "Eclipse"
end

-- "Eclipse"
evt.global[194] = function()
	evt.ForPlayer(-- ERROR: Const not found
"All")
	if evt.Cmp{"Inventory", Value = 516} then         -- "Eclipse"
		evt.SetMessage{Str = 639}         --[[ "You have recovered the shield, Eclipse?
The Temple is grateful for you help in recovering this potent artifact.
Please, continue to carry the shield with our blessing." ]]
		evt.ForPlayer(-- ERROR: Const not found
"All")
		evt.Add{"Experience", Value = 25000}
		evt.ForPlayer(-- ERROR: Const not found
0)
		evt.Add{"Gold", Value = 2000}
		evt.ForPlayer(-- ERROR: Const not found
"All")
		evt.Subtract{"QBits", Value = 127}         -- "Recover the shield, Eclipse, for Lathius in Ravenshore."
		evt.Subtract{"QBits", Value = 283}         -- Eclipse - I lost it!
		evt.Add{"QBits", Value = 128}         -- Recovered the the Shield, Eclipse for Lathius
		evt.Add{"QBits", Value = 1550}         -- Found the shield Eclipse.
		evt.SetNPCTopic{NPC = 73, Index = 0, Event = 703}         -- "Lathius" : "Use Eclipse well!"
	else
		evt.SetMessage{Str = 757}         --[[ "Where is Eclipse?
Return to me when you have found the shield!" ]]
	end
end

-- "Delicacy"
evt.global[195] = function()
	evt.SetMessage{Str = 766}         --[[ "Royal Wasp Jelly is a delicacy!
The upper caste of Merchants enjoys this tasty treat with almost every meal!" ]]
end

-- "1000 Gold!"
evt.global[196] = function()
	evt.SetMessage{Str = 767}         -- "I pay 1000 gold for Royal Wasp Jelly!"
end

-- "Royal Wasp Jelly"
evt.global[197] = function()
	evt.SetMessage{Str = 0}
	evt.ForPlayer(-- ERROR: Const not found
"All")
	if evt.Cmp{"Inventory", Value = 635} then         -- "Royal Wasp Jelly"
		evt.ForPlayer(-- ERROR: Const not found
0)
		evt.Add{"Gold", Value = 1000}
		evt.ForPlayer(-- ERROR: Const not found
"All")
		evt.Subtract{"Inventory", Value = 635}         -- "Royal Wasp Jelly"
	else
		evt.SetMessage{Str = 769}         -- "Return when you have Wasp Jelly and then I will pay you!"
	end
end

-- "Quest"
evt.global[198] = function()
	if evt.Cmp{"QBits", Value = 130} then         -- Killed all Ogres in Alvar canyon area and in Ogre Fortress
		evt.SetMessage{Str = 645}         --[[ "Excellent!
Now that the Ogres are cleared from the roads and no longer inhabit the fortress, the roads to Ravenshore, Ironsand and Murmurwoods are safe again!
Please take this 5000 gold as reward!" ]]
		evt.ForPlayer(-- ERROR: Const not found
0)
		evt.Add{"Gold", Value = 5000}
		evt.ForPlayer(-- ERROR: Const not found
"All")
		evt.Add{"Experience", Value = 10000}
		evt.Add{"AutonotesBits", Value = 500}         -- "Killed all of the Ogres in the Alvar region."
		evt.Subtract{"QBits", Value = 129}         -- "Kill all Ogres in the Alvar canyon area and in Ogre Fortress and return to Keldon in Alvar."
		evt.SetNPCTopic{NPC = 76, Index = 0, Event = 200}         -- "Keldon" : "It's safe to travel again!"
	else
		if evt.Cmp{"QBits", Value = 129} then         -- "Kill all Ogres in the Alvar canyon area and in Ogre Fortress and return to Keldon in Alvar."
			evt.SetMessage{Str = 644}         --[[ "You have not defeated all of the Ogres!
The roads will not be safe until they are destroyed!" ]]
		else
			evt.SetMessage{Str = 643}         --[[ "The forces of the Ogre Mage, Zog moved into this area right around the time that the bright flash traveled across the night sky.
They harass and even kill travelers who seek to reach the city of Alvar. It would be of great service to Alvar if you were to eliminate all of the Ogres that harass the roads to Alvar and the Ogres in the fortress near the city of Alvar.
Return to me when you have killed all of the ogres in this region, and I will reward you." ]]
			evt.Add{"QBits", Value = 129}         -- "Kill all Ogres in the Alvar canyon area and in Ogre Fortress and return to Keldon in Alvar."
		end
	end
end

-- "Bounty for Ogre Ears"
evt.global[199] = function()
	evt.SetMessage{Str = 758}         --[[ "I pay 500 gold for Ogre Ears.
The Merchant Guild of Alvar supports me in paying this bounty to anyone who can kill and ogre." ]]
	evt.ForPlayer(-- ERROR: Const not found
"All")
	if evt.Cmp{"Inventory", Value = 653} then         -- "Ogre Ear"
		evt.ForPlayer(-- ERROR: Const not found
0)
		evt.Add{"Gold", Value = 500}
		evt.ForPlayer(-- ERROR: Const not found
"All")
		evt.Subtract{"Inventory", Value = 653}         -- "Ogre Ear"
	else
		evt.SetMessage{Str = 759}         -- "Return to me with Ogre ears if you wish to be paid!"
	end
end

-- "It's safe to travel again!"
evt.global[200] = function()
	evt.SetMessage{Str = 937}         --[[ "Excellent!
Now that the Ogres are cleared from the roads and no longer inhabit the fortress, the roads to Ravenshore, Ironsand and Murmurwoods are safe again!
" ]]
end

-- "Potion of Pure Luck"
evt.CanShowTopic[201] = function()
	return not evt.Cmp{"QBits", Value = 115}         -- "Bring Rihansi in Alvar the basic ingredients for a potion of Pure Luck."
end

evt.global[201] = function()
	evt.SetMessage{Str = 646}         --[[ "A Potion of Pure Luck would be of great assistance to any merchant.
One could stumble upon any number of great deals if his Luck was at its highest!
Bring me the basic ingredients for a Potion of Pure Luck and I will reward you well!" ]]
	evt.Add{"QBits", Value = 115}         -- "Bring Rihansi in Alvar the basic ingredients for a potion of Pure Luck."
	evt.SetNPCTopic{NPC = 74, Index = 0, Event = 0}         -- "Rihansi"
end

-- "Ingredients"
evt.global[202] = function()
	evt.SetMessage{Str = 747}         --[[ "Black Potions are made of a complex blending of many of the three basic alchemical reagents. Red reagents include Widowsweep Berries, Wolf's Eye, and Phials of Gog Blood.
Some blue reagents are Phoenix Feather, Phima Root, Meteor Fragment and Will O' Wisps Heart.
And some yellow reagents are Datura, Dragon Turtle Fang, Poppy Pods and Thornbark." ]]
end

-- "Do you have the Ingredients?"
evt.CanShowTopic[203] = function()
	return evt.Cmp{"QBits", Value = 115}         -- "Bring Rihansi in Alvar the basic ingredients for a potion of Pure Luck."
end

evt.global[203] = function()
	if not evt.CheckItemsCount{MinItemIndex = 200, MaxItemIndex = 204, Count = 2} then         -- "Widowsweep Berries"..."Phoenix Feather"
		evt.SetMessage{Str = 684}         --[[ "You are missing all or some of the needed ingredients.
Return when you have them all." ]]
	else
		if not evt.CheckItemsCount{MinItemIndex = 205, MaxItemIndex = 209, Count = 3} then         -- "Phima Root"..."Dragon Turtle Fang"
			evt.SetMessage{Str = 684}         --[[ "You are missing all or some of the needed ingredients.
Return when you have them all." ]]
		else
			if evt.CheckItemsCount{MinItemIndex = 210, MaxItemIndex = 214, Count = 3} then         -- "Poppy Pod"..."Unicorn Horn"
				evt.SetMessage{Str = 648}         --[[ "Excellent!
With this I can brew another Potion of Pure Luck.
Take this potion as your reward!" ]]
				evt.RemoveItems{MinItemIndex = 200, MaxItemIndex = 204, Count = 2}         -- "Widowsweep Berries"..."Phoenix Feather"
				evt.RemoveItems{MinItemIndex = 205, MaxItemIndex = 209, Count = 3}         -- "Phima Root"..."Dragon Turtle Fang"
				evt.RemoveItems{MinItemIndex = 210, MaxItemIndex = 214, Count = 3}         -- "Poppy Pod"..."Unicorn Horn"
				evt.Subtract{"QBits", Value = 115}         -- "Bring Rihansi in Alvar the basic ingredients for a potion of Pure Luck."
				evt.Add{"QBits", Value = 116}         -- returned ingredients for a potion of Pure Luck
				evt.Add{"Inventory", Value = 264}         -- "Pure Luck"
				evt.ForPlayer(-- ERROR: Const not found
"All")
				evt.Add{"Experience", Value = 5000}
				evt.SetNPCTopic{NPC = 74, Index = 2, Event = 0}         -- "Rihansi"
			else
				evt.SetMessage{Str = 684}         --[[ "You are missing all or some of the needed ingredients.
Return when you have them all." ]]
			end
		end
	end
end

-- "Wasp Stingers"
evt.global[204] = function()
	evt.SetMessage{Str = 649}         --[[ "Wasp stingers!
From cold remedies to herbal teas, a little bit of ground wasp stinger goes a long way!
Don't trust those who sell that weak ground wyvern horn!
Only wasp stinger will do if you want the best!
I'll pay you for every stinger you bring me!" ]]
end

-- "500 Gold!"
evt.global[205] = function()
	evt.SetMessage{Str = 650}         -- "I pay 500 gold for every wasp stinger you bring me!"
	evt.ForPlayer(-- ERROR: Const not found
"All")
	if evt.Cmp{"Inventory", Value = 654} then         -- "Wasp Stingers"
		evt.ForPlayer(-- ERROR: Const not found
0)
		evt.Add{"Gold", Value = 500}
		evt.ForPlayer(-- ERROR: Const not found
"All")
		evt.Subtract{"Inventory", Value = 654}         -- "Wasp Stingers"
	else
		evt.SetMessage{Str = 760}         --[[ "I only pay for Wasp Stingers!
Nothing more, nothing less!" ]]
	end
end

-- "Survival!"
evt.global[206] = function()
	evt.SetMessage{Str = 651}         --[[ "Trolls have a natural fear of fire!
Many of us perished when the Gate of Fire opened and spilled out the lake of fire! Without appropriate protection, there was nothing we could do." ]]
end

-- "Quest"
evt.CanShowTopic[207] = function()
	return not evt.Cmp{"QBits", Value = 149}         -- Southern houses of Rust all have Potions of Fire Resistance.
end

evt.global[207] = function()
	evt.SetMessage{Str = 652}         --[[ "The survivors in this region need Potions of Fire Resistance!
With them we can survive until a place is found for us to move to!
Take these potions!
Unfortunately they are all I have!
Deliver them to the six southernmost houses that remain standing in the village of Rust!" ]]
	evt.Add{"QBits", Value = 142}         -- "Deliver Fire Resistance Potions to the six southernmost houses of Rust.  Return to Hobert in Rust."
	evt.Add{"Inventory", Value = 256}         -- "Fire Resistance"
	evt.Add{"Inventory", Value = 256}         -- "Fire Resistance"
	evt.Add{"Inventory", Value = 256}         -- "Fire Resistance"
	evt.SetNPCTopic{NPC = 84, Index = 1, Event = 208}         -- "Pole" : "Not enough potions?"
end

-- "Not enough potions?"
evt.global[208] = function()
	if evt.Cmp{"QBits", Value = 149} then         -- Southern houses of Rust all have Potions of Fire Resistance.
		evt.SetMessage{Str = 764}         --[[ "Thanks for providing Potions of Fire Resistance to the southernmost houses here in Rust.
Perhaps we can survive until a new home can be found for us!" ]]
		evt.ForPlayer(-- ERROR: Const not found
0)
		evt.Add{"Gold", Value = 1500}
		evt.ForPlayer(-- ERROR: Const not found
"All")
		evt.Add{"AutonotesBits", Value = 499}         -- "Brought Potions of Fire Resistance to the southern houses of Rust."
		evt.Subtract{"QBits", Value = 142}         -- "Deliver Fire Resistance Potions to the six southernmost houses of Rust.  Return to Hobert in Rust."
		evt.SetNPCTopic{NPC = 84, Index = 1, Event = 209}         --[[ "Pole" : "The village can hold 
its own." ]]
	else
		evt.SetMessage{Str = 653}         --[[ "You have not delivered Potions of Fire Resistance to all of the houses!
If the lake of fire grows in size everyone will perish!" ]]
	end
end

--[[ "The village can hold 
its own." ]]
evt.global[209] = function()
	evt.SetMessage{Str = 654}         --[[ "You have at least pushed our demise away for a time, but a new home needs to be found for us!
Thank you for delivering the Potions of Fire Resistance!" ]]
end

-- "Potion of Pure Endurance"
evt.CanShowTopic[210] = function()
	return not evt.Cmp{"QBits", Value = 121}         -- "Bring Talion in the Ironsand Desert the basic ingredients for a potion of Pure Endurance."
end

evt.global[210] = function()
	evt.SetMessage{Str = 655}         --[[ "Endurance.
That ability which keeps a warrior on his feet, or lets him down gently as he slides into unconsciousness.
A Potion of Pure Endurance can boost a person's ability to take damage to a legendary strength!
Bring me the basic ingredients of a Potion of Pure Endurance and I will reward you well." ]]
	evt.Add{"QBits", Value = 121}         -- "Bring Talion in the Ironsand Desert the basic ingredients for a potion of Pure Endurance."
	evt.SetNPCTopic{NPC = 78, Index = 0, Event = 212}         -- "Talion" : "Do you have the Ingredients?"
end

-- "Ingredients"
evt.global[211] = function()
	evt.SetMessage{Str = 747}         --[[ "Black Potions are made of a complex blending of many of the three basic alchemical reagents. Red reagents include Widowsweep Berries, Wolf's Eye, and Phials of Gog Blood.
Some blue reagents are Phoenix Feather, Phima Root, Meteor Fragment and Will O' Wisps Heart.
And some yellow reagents are Datura, Dragon Turtle Fang, Poppy Pods and Thornbark." ]]
end

-- "Do you have the Ingredients?"
evt.CanShowTopic[212] = function()
	return evt.Cmp{"QBits", Value = 121}         -- "Bring Talion in the Ironsand Desert the basic ingredients for a potion of Pure Endurance."
end

evt.global[212] = function()
	if not evt.CheckItemsCount{MinItemIndex = 200, MaxItemIndex = 204, Count = 2} then         -- "Widowsweep Berries"..."Phoenix Feather"
		evt.SetMessage{Str = 684}         --[[ "You are missing all or some of the needed ingredients.
Return when you have them all." ]]
	else
		if not evt.CheckItemsCount{MinItemIndex = 205, MaxItemIndex = 209, Count = 4} then         -- "Phima Root"..."Dragon Turtle Fang"
			evt.SetMessage{Str = 684}         --[[ "You are missing all or some of the needed ingredients.
Return when you have them all." ]]
		else
			if evt.CheckItemsCount{MinItemIndex = 210, MaxItemIndex = 214, Count = 1} then         -- "Poppy Pod"..."Unicorn Horn"
				evt.SetMessage{Str = 648}         --[[ "Excellent!
With this I can brew another Potion of Pure Luck.
Take this potion as your reward!" ]]
				evt.RemoveItems{MinItemIndex = 200, MaxItemIndex = 204, Count = 2}         -- "Widowsweep Berries"..."Phoenix Feather"
				evt.RemoveItems{MinItemIndex = 205, MaxItemIndex = 209, Count = 4}         -- "Phima Root"..."Dragon Turtle Fang"
				evt.RemoveItems{MinItemIndex = 210, MaxItemIndex = 214, Count = 1}         -- "Poppy Pod"..."Unicorn Horn"
				evt.Subtract{"QBits", Value = 121}         -- "Bring Talion in the Ironsand Desert the basic ingredients for a potion of Pure Endurance."
				evt.Add{"QBits", Value = 122}         -- returned ingredients for a potion of Pure Endurance
				evt.Add{"Inventory", Value = 267}         -- "Pure Endurance"
				evt.ForPlayer(-- ERROR: Const not found
"All")
				evt.Add{"Experience", Value = 5000}
				evt.SetNPCTopic{NPC = 78, Index = 2, Event = 0}         -- "Talion"
			else
				evt.SetMessage{Str = 684}         --[[ "You are missing all or some of the needed ingredients.
Return when you have them all." ]]
			end
		end
	end
end

-- "Quest"
evt.CanShowTopic[213] = function()
	return not evt.Cmp{"QBits", Value = 22}         -- Allied with Dragons. Return Dragon Egg to Dragons done.
end

evt.global[213] = function()
	evt.SetMessage{Str = 658}         --[[ "The Dragonbane Flower has many medicinal uses.
It also has some uses that are less than medicinal.
From this flower we can distill a poison that is deadly to Dragons.
With it we should be able to make quick work of the Dragon vermin that infest this region.
Find this flower and return to me with it.
You will not be disappointed by my reward." ]]
	evt.Add{"QBits", Value = 150}         -- "Find a Dragonbane Flower for Calindril in Garrote Gorge."
	evt.SetNPCTopic{NPC = 87, Index = 0, Event = 214}         -- "Calindril" : "Poison!"
end

-- "Poison!"
evt.global[214] = function()
	evt.ForPlayer(-- ERROR: Const not found
"All")
	if evt.Cmp{"Inventory", Value = 636} then         -- "Dragonbane Flower"
		evt.Add{"QBits", Value = 151}         -- Found Dragonbane for Dragon Hunters
		evt.Subtract{"QBits", Value = 150}         -- "Find a Dragonbane Flower for Calindril in Garrote Gorge."
		evt.Subtract{"Inventory", Value = 636}         -- "Dragonbane Flower"
		evt.ForPlayer(-- ERROR: Const not found
0)
		evt.Add{"Gold", Value = 1500}
		evt.ForPlayer(-- ERROR: Const not found
"All")
		evt.Add{"Experience", Value = 10000}
		evt.Add{"AutonotesBits", Value = 501}         -- "Found the Dragonbane flower for Calindril in the Garrote Gorge Dragon Hunter's Fort."
		evt.SetMessage{Str = 771}         --[[ "The Dragons of Garrote Gorge are susceptible to a poison that can be distilled from the rare dragonbane flower.
The flower also is the only means of an antidote for the Dragons." ]]
		evt.SetNPCTopic{NPC = 87, Index = 0, Event = 215}         -- "Calindril" : "Thanks for your help!"
	else
		evt.SetMessage{Str = 659}         --[[ "I asked for the Dragonbane Flower and you return empty handed.
Why waste my time?" ]]
	end
end

-- "Thanks for your help!"
evt.global[215] = function()
	evt.SetMessage{Str = 660}         --[[ "Yes, this is indeed the Dragonbane Flower.
Once we have distilled the poison, we will wipe the Dragon population out!" ]]
end

-- "Quest"
evt.CanShowTopic[216] = function()
	return not evt.Cmp{"QBits", Value = 21}         -- Allied with Charles Quioxte's Dragon Hunters. Return Dragon Egg to Quixote done.
end

evt.global[216] = function()
	evt.SetMessage{Str = 661}         --[[ "The Dragonbane Flower has many medicinal uses.
It also has some uses that are less than medicinal.
From this flower a poison is made that is deadly to dragons, but the poison's antidote is also found in its petals. Find this flower and return to me with it.
You will not be disappointed by my reward." ]]
	evt.Add{"QBits", Value = 152}         -- "Find a Dragonbane Flower for the Balion Tearwing in the Garrote Gorge Dragon Caves."
	evt.SetNPCTopic{NPC = 89, Index = 0, Event = 217}         -- "Balion Tearwing" : "Poison!"
end

-- "Poison!"
evt.global[217] = function()
	evt.ForPlayer(-- ERROR: Const not found
"All")
	if evt.Cmp{"Inventory", Value = 636} then         -- "Dragonbane Flower"
		evt.Add{"QBits", Value = 153}         -- Found Dragonbane for Dragons
		evt.Subtract{"QBits", Value = 152}         -- "Find a Dragonbane Flower for the Balion Tearwing in the Garrote Gorge Dragon Caves."
		evt.Subtract{"Inventory", Value = 636}         -- "Dragonbane Flower"
		evt.ForPlayer(-- ERROR: Const not found
0)
		evt.Add{"Gold", Value = 1500}
		evt.ForPlayer(-- ERROR: Const not found
"All")
		evt.Add{"Experience", Value = 10000}
		evt.Add{"AutonotesBits", Value = 502}         -- "Found the Dragonbane flower for Balion Tearwing in Garrote Gorge."
		evt.SetMessage{Str = 771}         --[[ "The Dragons of Garrote Gorge are susceptible to a poison that can be distilled from the rare dragonbane flower.
The flower also is the only means of an antidote for the Dragons." ]]
		evt.SetNPCTopic{NPC = 89, Index = 0, Event = 218}         -- "Balion Tearwing" : "Thanks for your help!"
	else
		evt.SetMessage{Str = 662}         --[[ "I asked for the Dragonbane Flower and you return empty handed.
Why waste my time?" ]]
	end
end

-- "Thanks for your help!"
evt.global[218] = function()
	evt.SetMessage{Str = 663}         --[[ "Yes, this is indeed the Dragonbane Flower.
Once the petals are ingested we will be protected from the poison that the Dragon Hunter's would use against us.
" ]]
end

-- "Quest"
evt.CanShowTopic[219] = function()
	return not evt.Cmp{"QBits", Value = 22}         -- Allied with Dragons. Return Dragon Egg to Dragons done.
end

evt.global[219] = function()
	if evt.Cmp{"QBits", Value = 155} then         -- Killed all Dragons in Garrote Gorge Area
		evt.Subtract{"QBits", Value = 154}         -- "Kill all the Dragons in the Garrote Gorge wilderness area. Return to Avalon in Garrote Gorge."
		evt.SetMessage{Str = 772}         --[[ "With all of the Dragons in the wilderness defeated, we can move on the Dragon Cave and eliminate the Dragons once and for all!
Thanks again for your help in defeating them." ]]
		evt.Add{"Gold", Value = 2500}
		evt.ForPlayer(-- ERROR: Const not found
"All")
		evt.Add{"Experience", Value = 20000}
		evt.Add{"AutonotesBits", Value = 503}         -- "Killed all of the Dragons in the Garrote Gorge area for Avalon in the Garrote Gorge Dragon Hunter's Fort."
		evt.SetNPCTopic{NPC = 90, Index = 0, Event = 220}         -- "Avalon" : "At last!"
	else
		if evt.Cmp{"QBits", Value = 154} then         -- "Kill all the Dragons in the Garrote Gorge wilderness area. Return to Avalon in Garrote Gorge."
			evt.SetMessage{Str = 532}         --[[ "You have not slain all of the vermin.
I have reports here that tell of Dragons still in the region.
Return when you have slain them all!" ]]
		else
			evt.SetMessage{Str = 664}         --[[ "You seek to gain the favor of Charles Quixote?
Help us in his crusade against the Dragons of Garrote Gorge. If all of the Dragons in the region and in the Dragon Cave are slain, Charles Quixote will be sure to hear of your name! Return to me when they are all dead!
I will reward you well." ]]
			evt.Add{"QBits", Value = 154}         -- "Kill all the Dragons in the Garrote Gorge wilderness area. Return to Avalon in Garrote Gorge."
		end
	end
end

-- "At last!"
evt.global[220] = function()
	evt.SetMessage{Str = 665}         --[[ "You have slain the vermin!
Here is the reward that I promised!
I will also personally mention your assistance to Charles Quixote!" ]]
end

-- "Quest"
evt.CanShowTopic[221] = function()
	return not evt.Cmp{"QBits", Value = 21}         -- Allied with Charles Quioxte's Dragon Hunters. Return Dragon Egg to Quixote done.
end

evt.global[221] = function()
	if evt.Cmp{"QBits", Value = 158} then         -- Killed all Dragon Hunters in Garrote Gorge wilderness area
		evt.SetMessage{Str = 773}         --[[ "With all of the Dragon hunters in the wilderness defeated, we can move on their camp and eliminate them once and for all!
Thanks again for your help in defeating them." ]]
		evt.Add{"Gold", Value = 2500}
		evt.ForPlayer(-- ERROR: Const not found
"All")
		evt.Add{"Experience", Value = 20000}
		evt.Add{"AutonotesBits", Value = 504}         -- "Killed all of the Dragon Hunters in the Garrote Gorge are for Jerin Flame-eye in the Dragon Cave of Garrote Gorge."
		evt.Subtract{"QBits", Value = 157}         -- "Kill all the Dragon Hunter's in the Garrote Gorge wilderness area. Return to Jerin Flame-eye in the Garrote Gorge Dragon Caves."
		evt.SetNPCTopic{NPC = 91, Index = 0, Event = 222}         -- "Jerin Flame-eye" : "Land is ours yet again!"
	else
		if evt.Cmp{"QBits", Value = 157} then         -- "Kill all the Dragon Hunter's in the Garrote Gorge wilderness area. Return to Jerin Flame-eye in the Garrote Gorge Dragon Caves."
			evt.SetMessage{Str = 533}         --[[ "You have not slain all of the Dragon hunters.
A Flight returned just moments ago and reported seeing them out on the plains.
Return when you have slain them all!" ]]
		else
			evt.SetMessage{Str = 666}         --[[ "You seek the favor of Deftclaw Redreaver?
Don't we all?
If you were to kill all of the Dragon hunters in the Garrote Gorge wilderness, I would be certain to mention you to him.
I would also be in the position to offer you a generous reward!" ]]
			evt.Add{"QBits", Value = 157}         -- "Kill all the Dragon Hunter's in the Garrote Gorge wilderness area. Return to Jerin Flame-eye in the Garrote Gorge Dragon Caves."
		end
	end
end

-- "Land is ours yet again!"
evt.global[222] = function()
	evt.SetMessage{Str = 667}         --[[ "The infernal dragon hunters of Charles Quixote are dead? Fantastic!
We can once again enjoy the peace of Garrote Gorge without fear.
Here is your promised reward!
I will go speak with Deftclaw Redreaver of your bravery this instant!" ]]
end

-- "Quest"
evt.global[223] = function()
	evt.SetMessage{Str = 668}         --[[ "The Drum of Victory needs to be recovered if we are to ever defeat the Dragons in this region.
If you were to recover the Drum I would reward you well!" ]]
	evt.Add{"QBits", Value = 160}         -- "Find the Legendary Drum of Victory. Return it to Zelim in Garrote Gorge."
	evt.SetNPCTopic{NPC = 92, Index = 0, Event = 225}         -- "Zelim" : "Where is the drum?"
end

-- "Drum of Victory History"
evt.global[224] = function()
	evt.SetMessage{Str = 669}         --[[ "The Drum of Victory was brought here by Charles Quixote.
Its deafening sound drives terror into the heart of any Dragon who hears it.
Unfortunately is was lost in a battle against the Nagas when Charles Quixote was trying to establish his keep, here in Garrote Gorge." ]]
end

-- "Where is the drum?"
evt.global[225] = function()
	evt.ForPlayer(-- ERROR: Const not found
"All")
	if evt.Cmp{"Inventory", Value = 615} then         -- "Drum of Victory"
		evt.SetMessage{Str = 670}         --[[ "You have returned with the Drum of Victory!
Charles will be grateful for its return!
Here is your promised reward." ]]
		evt.ForPlayer(-- ERROR: Const not found
0)
		evt.Add{"Gold", Value = 1500}
		evt.ForPlayer(-- ERROR: Const not found
"All")
		evt.Subtract{"QBits", Value = 160}         -- "Find the Legendary Drum of Victory. Return it to Zelim in Garrote Gorge."
		evt.Subtract{"QBits", Value = 246}         -- Drum of Victory - I lost it!
		evt.Subtract{"Inventory", Value = 615}         -- "Drum of Victory"
		evt.Add{"Experience", Value = 20000}
		evt.SetNPCTopic{NPC = 92, Index = 0, Event = 0}         -- "Zelim"
	else
		evt.SetMessage{Str = 774}         --[[ "Return when you have the Drum of Victory.
You waste your time and mine otherwise!" ]]
	end
end

-- "Quest"
evt.global[226] = function()
	evt.SetMessage{Str = 671}         --[[ "For years the Guild of Necromancers has searched for the Bone of Doom.
The powerful artifact would be of great use to them if recovered.
If you were to find this item and bring it to me, you will be rewarded beyond your wildest dreams." ]]
	evt.Add{"QBits", Value = 166}         -- "Find the Bone of Doom for Tantilion of Shadowspire."
	evt.SetNPCTopic{NPC = 93, Index = 0, Event = 228}         -- "Tantilion" : "Great!"
end

-- "Bone History"
evt.global[227] = function()
	evt.SetMessage{Str = 672}         --[[ "In times almost forgotten a powerful Necromancer named Zacharia almost dominated all of Jadame.
His mastery of the dark arts of necromancy and the elemental magics were combined with an unnaturally strong afinity for Dark energy. His legions of undead helped him enslave all peoples, including the Dark Elves of Alvar.
A plan was made by the Temple of the Sun to defeat Zacharia.
Utilizing the combined might of all of the Clerics in the Temple they forged the sword named Solkrist.
The Patriarch of the Temple led the legions of the Sun against the forces of Zacharia.
The battle raged for years after which the forces of the Temple of the Sun found themselves at the base of the dreaded Shadowspire.
There the Patriarch battled Zarcharia in single combat. At the end of the battle both the Patriarch and Zacharia lay dead.
The Patriarch had cut the left arm from Zacharia's body just as the Necromancer's last spell stopped the Patriarch's heart.
The power of the sword Solkrist instantly slew the Necromancer.
Solkrist disappeared forever in the mayhem after the fight, as did the arm of Zacharia.
The bone from this arm was so instilled with such Dark Magic that it was called the Bone of Doom." ]]
end

-- "Great!"
evt.global[228] = function()
	evt.ForPlayer(-- ERROR: Const not found
"All")
	if evt.Cmp{"Inventory", Value = 637} then         -- "Bone of Doom"
		evt.SetMessage{Str = 673}         --[[ "Ah, the Bone of Doom!
The legend of Zacharia will continue!
Here is your reward!" ]]
		evt.Add{"Gold", Value = 1500}
		evt.Subtract{"QBits", Value = 166}         -- "Find the Bone of Doom for Tantilion of Shadowspire."
		evt.Subtract{"QBits", Value = 247}         -- Bone of Doom - I lost it!
		evt.ForPlayer(-- ERROR: Const not found
"All")
		evt.Subtract{"Inventory", Value = 637}         -- "Bone of Doom"
		evt.Add{"Experience", Value = 7500}
		evt.ForPlayer(-- ERROR: Const not found
0)
		evt.Add{"Gold", Value = 7500}
		evt.SetNPCTopic{NPC = 93, Index = 0, Event = 0}         -- "Tantilion"
	else
		evt.SetMessage{Str = 775}         -- "I ask for the Bone, and you return with nothing. Be gone!"
	end
end

-- "Quest"
evt.global[229] = function()
	evt.SetMessage{Str = 674}         --[[ "Some say that Iseldir's Puzzle Box is cursed and that use of it will make the owner go slowly mad.
This can't be true!
All of my studies have provided me with enough proof to determine that the box is the ultimate game in Jadame--not that ridiculous card game, Arcomage.
The last reported owner of Iseldir's Puzzle Box was Zanthora, who is also known as the Mad Necromancer of Shadowspire." ]]
	evt.Add{"QBits", Value = 162}         -- "Find Iseldir's Puzzle Box for Benefice of Shadowspire."
	evt.SetNPCTopic{NPC = 94, Index = 0, Event = 231}         -- "Benefice" : "Hours of Enjoyment!"
end

-- "Puzzle History"
evt.global[230] = function()
	evt.SetMessage{Str = 675}         --[[ "I ask you to recover the Puzzle Box and you return with nothing.
So you reward is nothing.
Return with the box!" ]]
end

-- "Hours of Enjoyment!"
evt.global[231] = function()
	evt.ForPlayer(-- ERROR: Const not found
"All")
	if evt.Cmp{"Inventory", Value = 613} then         -- "Puzzle Box"
		evt.SetMessage{Str = 676}         --[[ "The Puzzle Box is mine!
Hours of mindless enjoyment at my finger tips!
Here, take you reward for it is nothing compared to the box!" ]]
		evt.Add{"Gold", Value = 1500}
		evt.Subtract{"QBits", Value = 162}         -- "Find Iseldir's Puzzle Box for Benefice of Shadowspire."
		evt.Subtract{"QBits", Value = 249}         -- Puzzle Box - I lost it!
		evt.ForPlayer(-- ERROR: Const not found
"All")
		evt.Subtract{"Inventory", Value = 613}         -- "Puzzle Box"
		evt.Add{"Experience", Value = 15000}
		evt.SetNPCTopic{NPC = 94, Index = 0, Event = 0}         -- "Benefice"
	else
		evt.SetMessage{Str = 776}         -- "I need not see you again until you have the Puzzle Box!"
	end
end

-- "Potion of Pure Intellect"
evt.CanShowTopic[232] = function()
	return not evt.Cmp{"QBits", Value = 123}         -- "Bring Kelvin in Shadowspire the basic ingredients for a potion of Pure Intellect."
end

evt.global[232] = function()
	evt.SetMessage{Str = 677}         --[[ "A Necromancer's greatest ability is his Intellect!
Without sufficient Intellect, a Necromancer can find himself without spell points when he needs them most! If you bring me the basic ingredients of a Potion of Pure Intellect, I will reward you with the potion that I create!" ]]
	evt.Add{"QBits", Value = 123}         -- "Bring Kelvin in Shadowspire the basic ingredients for a potion of Pure Intellect."
	evt.SetNPCTopic{NPC = 83, Index = 0, Event = 0}         -- "Kelvin"
end

-- "War between the Guild and Temple"
evt.global[233] = function()
	evt.SetMessage{Str = 880}         --[[ "Centuries ago the largest battle to date between the Guild of Necromancers and the Temple of the Sun was fought on this spot!
So much magical energy was released that the very ground was scorched and is black to this very day!" ]]
end

-- "Do you have the Ingredients?"
evt.CanShowTopic[234] = function()
	return evt.Cmp{"QBits", Value = 123}         -- "Bring Kelvin in Shadowspire the basic ingredients for a potion of Pure Intellect."
end

evt.global[234] = function()
	if not evt.CheckItemsCount{MinItemIndex = 200, MaxItemIndex = 204, Count = 1} then         -- "Widowsweep Berries"..."Phoenix Feather"
		evt.SetMessage{Str = 684}         --[[ "You are missing all or some of the needed ingredients.
Return when you have them all." ]]
	else
		if not evt.CheckItemsCount{MinItemIndex = 205, MaxItemIndex = 209, Count = 2} then         -- "Phima Root"..."Dragon Turtle Fang"
			evt.SetMessage{Str = 684}         --[[ "You are missing all or some of the needed ingredients.
Return when you have them all." ]]
		else
			if evt.CheckItemsCount{MinItemIndex = 210, MaxItemIndex = 214, Count = 4} then         -- "Poppy Pod"..."Unicorn Horn"
				evt.SetMessage{Str = 679}         --[[ "You have returned with the ingredients, holding up you end of the bargain.
Here is your Potion of Pure Intellect." ]]
				evt.RemoveItems{MinItemIndex = 200, MaxItemIndex = 204, Count = 1}         -- "Widowsweep Berries"..."Phoenix Feather"
				evt.RemoveItems{MinItemIndex = 205, MaxItemIndex = 209, Count = 2}         -- "Phima Root"..."Dragon Turtle Fang"
				evt.RemoveItems{MinItemIndex = 210, MaxItemIndex = 214, Count = 4}         -- "Poppy Pod"..."Unicorn Horn"
				evt.Subtract{"QBits", Value = 123}         -- "Bring Kelvin in Shadowspire the basic ingredients for a potion of Pure Intellect."
				evt.Add{"QBits", Value = 124}         -- returned ingredients for a potion of Pure Intellect
				evt.Add{"Inventory", Value = 266}         -- "Pure Intellect"
				evt.ForPlayer(-- ERROR: Const not found
"All")
				evt.Add{"Experience", Value = 5000}
				evt.SetNPCTopic{NPC = 83, Index = 2, Event = 0}         -- "Kelvin"
			else
				evt.SetMessage{Str = 684}         --[[ "You are missing all or some of the needed ingredients.
Return when you have them all." ]]
			end
		end
	end
end

-- "Quest"
evt.global[235] = function()
	evt.SetMessage{Str = 680}         --[[ "We seek to put to rest the soul of the Nosferatu called Korbu.
We have heard rumors that the vampires of Shadowspire seek to resurrect this ancient evil.
There is a Vial of Grave Dirt kept hidden in the Vampire Crypt in the region of Shadowspire that is instrumental in bringing Korbu back to life.
Find us this vial and return it to us.
We will always be in your debt and we will reward you well." ]]
	evt.Add{"QBits", Value = 164}         -- "Find a Vial of Grave Dirt. Return it to Halien in Shadowspire."
	evt.SetNPCTopic{NPC = 95, Index = 0, Event = 237}         -- "Hallien" : "Do you have the vial?"
end

-- "Vial of Grave Dirt"
evt.global[236] = function()
	evt.SetMessage{Str = 681}         --[[ "Korbu scattered vials of the dirt from his original grave to safe guard himself.
This way he could always gain access to the dirt and move his crypt if he needed to." ]]
end

-- "Do you have the vial?"
evt.global[237] = function()
	evt.ForPlayer(-- ERROR: Const not found
"All")
	if evt.Cmp{"Inventory", Value = 614} then         -- "Vial of Grave Earth"
		evt.SetMessage{Str = 682}         --[[ "Ah, once we perform the Rites of Purification upon this dirt, Korbu will rest eternally.
We are in your debt and here is your reward as promised!" ]]
		evt.ForPlayer(-- ERROR: Const not found
0)
		evt.Add{"Gold", Value = 1500}
		evt.ForPlayer(-- ERROR: Const not found
"All")
		evt.Subtract{"Inventory", Value = 614}         -- "Vial of Grave Earth"
		evt.Subtract{"QBits", Value = 164}         -- "Find a Vial of Grave Dirt. Return it to Halien in Shadowspire."
		evt.Subtract{"QBits", Value = 248}         -- Vial of Grave Dirt - I lost it!
		evt.Add{"Experience", Value = 22000}
		evt.SetNPCTopic{NPC = 95, Index = 0, Event = 0}         -- "Hallien"
	else
		evt.SetMessage{Str = 931}         --[[ "Where is the Vial of Grave Dirt?
Do not bother me until you have it!" ]]
	end
end

-- "Potion of Pure Personality"
evt.CanShowTopic[238] = function()
	return not evt.Cmp{"QBits", Value = 125}         -- "Bring Castigeir in Murmurwoods the basic ingredients for a potion of Pure Personality."
end

evt.global[238] = function()
	evt.SetMessage{Str = 683}         --[[ "Personality--the cleric's truest strength.
If you were to provide me with the basic ingredients of a Potion of Pure Personality, I would be more than happy to brew one for you!
Bring me the ingredients!" ]]
	evt.Add{"QBits", Value = 125}         -- "Bring Castigeir in Murmurwoods the basic ingredients for a potion of Pure Personality."
	evt.SetNPCTopic{NPC = 88, Index = 0, Event = 0}         -- "Castigeir"
end

-- "Ingredients"
evt.global[239] = function()
	evt.SetMessage{Str = 747}         --[[ "Black Potions are made of a complex blending of many of the three basic alchemical reagents. Red reagents include Widowsweep Berries, Wolf's Eye, and Phials of Gog Blood.
Some blue reagents are Phoenix Feather, Phima Root, Meteor Fragment and Will O' Wisps Heart.
And some yellow reagents are Datura, Dragon Turtle Fang, Poppy Pods and Thornbark." ]]
end

-- "Thanks for the Ingredients"
evt.CanShowTopic[240] = function()
	return evt.Cmp{"QBits", Value = 125}         -- "Bring Castigeir in Murmurwoods the basic ingredients for a potion of Pure Personality."
end

evt.global[240] = function()
	if not evt.CheckItemsCount{MinItemIndex = 200, MaxItemIndex = 204, Count = 1} then         -- "Widowsweep Berries"..."Phoenix Feather"
		evt.SetMessage{Str = 684}         --[[ "You are missing all or some of the needed ingredients.
Return when you have them all." ]]
	else
		if not evt.CheckItemsCount{MinItemIndex = 205, MaxItemIndex = 209, Count = 4} then         -- "Phima Root"..."Dragon Turtle Fang"
			evt.SetMessage{Str = 684}         --[[ "You are missing all or some of the needed ingredients.
Return when you have them all." ]]
		else
			if evt.CheckItemsCount{MinItemIndex = 210, MaxItemIndex = 214, Count = 2} then         -- "Poppy Pod"..."Unicorn Horn"
				evt.SetMessage{Str = 685}         --[[ "Ah, you learned the recipe or are very lucky!
Here is your potion!" ]]
				evt.RemoveItems{MinItemIndex = 200, MaxItemIndex = 204, Count = 1}         -- "Widowsweep Berries"..."Phoenix Feather"
				evt.RemoveItems{MinItemIndex = 205, MaxItemIndex = 209, Count = 4}         -- "Phima Root"..."Dragon Turtle Fang"
				evt.RemoveItems{MinItemIndex = 210, MaxItemIndex = 214, Count = 2}         -- "Poppy Pod"..."Unicorn Horn"
				evt.Subtract{"QBits", Value = 125}         -- "Bring Castigeir in Murmurwoods the basic ingredients for a potion of Pure Personality."
				evt.Add{"QBits", Value = 126}         -- returned ingredients for a potion of Pure Personallity
				evt.Add{"Inventory", Value = 268}         -- "Pure Personality"
				evt.ForPlayer(-- ERROR: Const not found
"All")
				evt.Add{"Experience", Value = 5000}
				evt.SetNPCTopic{NPC = 88, Index = 2, Event = 0}         -- "Castigeir"
			else
				evt.SetMessage{Str = 684}         --[[ "You are missing all or some of the needed ingredients.
Return when you have them all." ]]
			end
		end
	end
end

-- "Ancient Wyverns"
evt.global[241] = function()
	evt.SetMessage{Str = 686}         --[[ "Wyverns are one of the toughest creatures that roam the continent of Jadame.
The Ancient Wyvern can even slay the mightiest adventurer with one blow.
The horn of the Ancient Wyvern is said to have many medicinal any magical properties.
There are many people who pay well for ground wyvern horn." ]]
end

-- "Bounty for Horn of the Wyvern"
evt.global[242] = function()
	evt.SetMessage{Str = 687}         --[[ "I will buy Wyvern horns from you for 1500 gold!
I grind these horns up and sell them throughout Jadame.
Someday I hope to be able to ship them over sea to Enroth and Erathia.
That of course depends on whether the Pirates of Regna are still a problem to shipping or not!" ]]
	evt.SetNPCTopic{NPC = 85, Index = 1, Event = 243}         -- "Xevius" : "1500 gold!"
end

-- "1500 gold!"
evt.global[243] = function()
	evt.SetMessage{Str = 688}         -- "1500 gold!"
	evt.ForPlayer(-- ERROR: Const not found
"All")
	if evt.Cmp{"Inventory", Value = 640} then         -- "Wyvern Horn"
		evt.ForPlayer(-- ERROR: Const not found
0)
		evt.Add{"Gold", Value = 500}
		evt.ForPlayer(-- ERROR: Const not found
"All")
		evt.Subtract{"Inventory", Value = 640}         -- "Wyvern Horn"
	else
		evt.SetMessage{Str = 765}         -- "Return when you have more Wyvern Horns and I will pay you more!"
	end
end

-- "Potion of Pure Accuracy"
evt.CanShowTopic[244] = function()
	return not evt.Cmp{"QBits", Value = 133}         -- returned ingredients for a potion of Pure Accuracy
end

evt.global[244] = function()
	evt.SetMessage{Str = 689}         --[[ "Accuracy can determine who lives and who dies in battle.
If you cannot hit your opponent you will surely perish!
If you bring me the ingredients of a Potion of Pure Accuracy, I will brew that potion for you." ]]
	evt.Add{"QBits", Value = 133}         -- returned ingredients for a potion of Pure Accuracy
	evt.SetNPCTopic{NPC = 77, Index = 0, Event = 0}         -- "Galvinus"
end

-- "Ingredients"
evt.global[245] = function()
	evt.SetMessage{Str = 747}         --[[ "Black Potions are made of a complex blending of many of the three basic alchemical reagents. Red reagents include Widowsweep Berries, Wolf's Eye, and Phials of Gog Blood.
Some blue reagents are Phoenix Feather, Phima Root, Meteor Fragment and Will O' Wisps Heart.
And some yellow reagents are Datura, Dragon Turtle Fang, Poppy Pods and Thornbark." ]]
end

-- "Do you have the Ingredients?"
evt.CanShowTopic[246] = function()
	return evt.Cmp{"QBits", Value = 133}         -- returned ingredients for a potion of Pure Accuracy
end

evt.global[246] = function()
	if not evt.CheckItemsCount{MinItemIndex = 200, MaxItemIndex = 204, Count = 2} then         -- "Widowsweep Berries"..."Phoenix Feather"
		evt.SetMessage{Str = 684}         --[[ "You are missing all or some of the needed ingredients.
Return when you have them all." ]]
	else
		if not evt.CheckItemsCount{MinItemIndex = 205, MaxItemIndex = 209, Count = 1} then         -- "Phima Root"..."Dragon Turtle Fang"
			evt.SetMessage{Str = 684}         --[[ "You are missing all or some of the needed ingredients.
Return when you have them all." ]]
		else
			if evt.CheckItemsCount{MinItemIndex = 210, MaxItemIndex = 214, Count = 4} then         -- "Poppy Pod"..."Unicorn Horn"
				evt.SetMessage{Str = 691}         -- "Ah, the right ingredients always do the trick! Here is your potion."
				evt.RemoveItems{MinItemIndex = 200, MaxItemIndex = 204, Count = 2}         -- "Widowsweep Berries"..."Phoenix Feather"
				evt.RemoveItems{MinItemIndex = 205, MaxItemIndex = 209, Count = 1}         -- "Phima Root"..."Dragon Turtle Fang"
				evt.RemoveItems{MinItemIndex = 210, MaxItemIndex = 214, Count = 4}         -- "Poppy Pod"..."Unicorn Horn"
				evt.Subtract{"QBits", Value = 133}         -- returned ingredients for a potion of Pure Accuracy
				evt.Add{"QBits", Value = 134}         -- Gave Gem of Restoration to Blazen Stormlance
				evt.Add{"Inventory", Value = 269}         -- "Pure Accuracy"
				evt.ForPlayer(-- ERROR: Const not found
"All")
				evt.Add{"Experience", Value = 5000}
				evt.SetNPCTopic{NPC = 77, Index = 2, Event = 0}         -- "Galvinus"
			else
				evt.SetMessage{Str = 684}         --[[ "You are missing all or some of the needed ingredients.
Return when you have them all." ]]
			end
		end
	end
end

-- "Dread Pirate Stanley's Treasure"
evt.global[247] = function()
	evt.SetMessage{Str = 692}         --[[ "The legendary Pirate Stanley is rumored to have stolen hundreds and thousands of gold pieces from the Merchants of Alvar.
No one has ever found where he has hidden his treasure.
Some say it isn't even hidden on the Island of Regna." ]]
end

-- "Riches"
evt.global[248] = function()
	evt.SetMessage{Str = 693}         --[[ "Years and years ago, I remember hearing that Stanley journeyed to Ravage Roaming to speak with the Ogre Mage Zog about a curse that had fallen upon him.
Apparently his memory was fading, and he was certain that an evil mage was responsible." ]]
end

-- "Quest"
evt.global[249] = function()
	if evt.Cmp{"QBits", Value = 168} then         -- Found the treasure of the Dread Pirate Stanley!
		evt.Add{"Experience", Value = 15500}
		evt.SetMessage{Str = 694}         --[[ "He who finds the treasure of the Dread Pirate Stanley will be a rich person!
Will that person be you?" ]]
		evt.Subtract{"QBits", Value = 236}         -- "Find the treasure of the Dread Pirate Stanley."
		evt.SetNPCTopic{NPC = 96, Index = 0, Event = 0}         -- "One-Eye"
	else
		evt.SetMessage{Str = 690}         --[[ "You have not found the treasure of the Dread Pirate Stanley!
" ]]
		evt.Add{"QBits", Value = 236}         -- "Find the treasure of the Dread Pirate Stanley."
	end
end

-- "Buy Tobersk Fruit for 200 gold"
evt.CanShowTopic[250] = function()
	local result
	if not evt.Cmp{"QBits", Value = 252} then         -- Bought Item brandy
		result = not evt.Cmp{"QBits", Value = 259}         -- Can't keep buying fruit
	end
	return true
end

evt.global[250] = function()
	evt.SetMessage{Str = 695}         --[[ "Tobersk fruit is native only to the Dagger Wound Island region.
Here the mild winters and humid summers provide the perfect conditions for the Tobersk fruit to achieve the correct levels of sugar and juice.
The pulp masters in Ravenshore pay good money for the tobersk fruit." ]]
	evt.Subtract{"QBits", Value = 251}         -- Bought Item pulp
	if evt.Cmp{"Gold", Value = 200} then
		evt.Subtract{"Gold", Value = 200}
		evt.Add{"Inventory", Value = 643}         -- "Tobersk Fruit"
		evt.Add{"QBits", Value = 250}         -- Bought Item fruit
		evt.Add{"QBits", Value = 259}         -- Can't keep buying fruit
	else
		evt.SetMessage{Str = 740}         -- "You don't have enough gold!"
	end
end

-- "Sell Tobersk Brandy"
evt.global[251] = function()
	evt.ForPlayer(-- ERROR: Const not found
"All")
	if evt.Cmp{"Inventory", Value = 645} then         -- "Tobersk Brandy"
		evt.SetMessage{Str = 696}         --[[ "Tobersk brandy is favorite drink of the Lizardmen of Dagger Wound Island.
Some call it an acquired taste.
How ever you look at it, it equals pure profit!" ]]
		evt.Subtract{"Inventory", Value = 645}         -- "Tobersk Brandy"
		evt.Subtract{"QBits", Value = 261}         -- Can't keep buying brandy
		evt.ForPlayer(-- ERROR: Const not found
"Current")
		if evt.Cmp{"DayOfWeekIs", Value = 0} then
			evt.Add{"Gold", Value = 557}
		else
			if evt.Cmp{"DayOfWeekIs", Value = 1} then
				evt.Add{"Gold", Value = 589}
			else
				if evt.Cmp{"DayOfWeekIs", Value = 2} then
					evt.Add{"Gold", Value = 511}
				else
					if evt.Cmp{"DayOfWeekIs", Value = 3} then
						evt.Add{"Gold", Value = 577}
					else
						if evt.Cmp{"DayOfWeekIs", Value = 4} then
							evt.Add{"Gold", Value = 513}
						else
							if evt.Cmp{"DayOfWeekIs", Value = 5} then
								evt.Add{"Gold", Value = 544}
							else
								if evt.Cmp{"DayOfWeekIs", Value = 6} then
									evt.Add{"Gold", Value = 511}
								end
							end
						end
					end
				end
			end
		end
	end
end

-- "Buy Tobersk Pulp for 300 gold"
evt.CanShowTopic[252] = function()
	local result
	if not evt.Cmp{"QBits", Value = 250} then         -- Bought Item fruit
		result = not evt.Cmp{"QBits", Value = 260}         -- Can't keep buying pulp
	end
	return true
end

evt.global[252] = function()
	evt.SetMessage{Str = 697}         --[[ "Tobersk fruit is processed in Ravenshore into tobersk pulp.
Its from this pulp that the master brewers in Alvar distill tobersk brandy." ]]
	evt.Subtract{"QBits", Value = 250}         -- Bought Item fruit
	if evt.Cmp{"Gold", Value = 300} then
		evt.Subtract{"Gold", Value = 300}
		evt.Add{"Inventory", Value = 644}         -- "Tobersk Pulp"
		evt.Add{"QBits", Value = 251}         -- Bought Item pulp
		evt.Add{"QBits", Value = 260}         -- Can't keep buying pulp
	else
		evt.SetMessage{Str = 740}         -- "You don't have enough gold!"
	end
end

-- "Sell Tobersk Fruit"
evt.global[253] = function()
	evt.ForPlayer(-- ERROR: Const not found
"All")
	if evt.Cmp{"Inventory", Value = 643} then         -- "Tobersk Fruit"
		evt.SetMessage{Str = 698}         --[[ "Here the mild winters and humid summers provide the perfect conditions for the tobersk fruit to achieve the correct levels of sugar and juice.
Here you can purchase tobersk fruit so our pulp masters can labor over the fruit, processing it into tobersk pulp." ]]
		evt.Subtract{"Inventory", Value = 643}         -- "Tobersk Fruit"
		evt.Subtract{"QBits", Value = 259}         -- Can't keep buying fruit
		evt.ForPlayer(-- ERROR: Const not found
"Current")
		if evt.Cmp{"DayOfWeekIs", Value = 0} then
			evt.Add{"Gold", Value = 261}
		else
			if evt.Cmp{"DayOfWeekIs", Value = 1} then
				evt.Add{"Gold", Value = 286}
			else
				if evt.Cmp{"DayOfWeekIs", Value = 2} then
					evt.Add{"Gold", Value = 237}
				else
					if evt.Cmp{"DayOfWeekIs", Value = 3} then
						evt.Add{"Gold", Value = 255}
					else
						if evt.Cmp{"DayOfWeekIs", Value = 4} then
							evt.Add{"Gold", Value = 294}
						else
							if evt.Cmp{"DayOfWeekIs", Value = 5} then
								evt.Add{"Gold", Value = 273}
							else
								if evt.Cmp{"DayOfWeekIs", Value = 6} then
									evt.Add{"Gold", Value = 244}
								end
							end
						end
					end
				end
			end
		end
	end
end

-- "Buy Tobersk Brandy 500 gold"
evt.CanShowTopic[254] = function()
	local result
	if not evt.Cmp{"QBits", Value = 251} then         -- Bought Item pulp
		result = not evt.Cmp{"QBits", Value = 261}         -- Can't keep buying brandy
	end
	return true
end

evt.global[254] = function()
	evt.SetMessage{Str = 699}         --[[ "Tobersk brandy is a favorite drink among the Lizardmen of Dagger Wound Island.
Some call it an acquired taste.
How ever you look at it, it equals pure profit!
Be gentle with the bottles as you travel back to the islands." ]]
	evt.Subtract{"QBits", Value = 251}         -- Bought Item pulp
	if evt.Cmp{"Gold", Value = 500} then
		evt.Subtract{"Gold", Value = 500}
		evt.Add{"Inventory", Value = 645}         -- "Tobersk Brandy"
		evt.Add{"QBits", Value = 252}         -- Bought Item brandy
		evt.Add{"QBits", Value = 261}         -- Can't keep buying brandy
	else
		evt.SetMessage{Str = 125}         -- "You don't have enough gold!"
	end
end

-- "Sell Tobersk Pulp"
evt.global[255] = function()
	evt.ForPlayer(-- ERROR: Const not found
"All")
	if evt.Cmp{"Inventory", Value = 644} then         -- "Tobersk Pulp"
		evt.SetMessage{Str = 700}         -- "Tobersk pulp is combined with the waters of the Alvar River and is distilled over time until the brew masters declare it ready for consumption. "
		evt.Subtract{"Inventory", Value = 644}         -- "Tobersk Pulp"
		evt.Subtract{"QBits", Value = 260}         -- Can't keep buying pulp
		evt.ForPlayer(-- ERROR: Const not found
"Current")
		if evt.Cmp{"DayOfWeekIs", Value = 0} then
			evt.Add{"Gold", Value = 394}
		else
			if evt.Cmp{"DayOfWeekIs", Value = 1} then
				evt.Add{"Gold", Value = 341}
			else
				if evt.Cmp{"DayOfWeekIs", Value = 2} then
					evt.Add{"Gold", Value = 351}
				else
					if evt.Cmp{"DayOfWeekIs", Value = 3} then
						evt.Add{"Gold", Value = 337}
					else
						if evt.Cmp{"DayOfWeekIs", Value = 4} then
							evt.Add{"Gold", Value = 373}
						else
							if evt.Cmp{"DayOfWeekIs", Value = 5} then
								evt.Add{"Gold", Value = 355}
							else
								if evt.Cmp{"DayOfWeekIs", Value = 6} then
									evt.Add{"Gold", Value = 386}
								end
							end
						end
					end
				end
			end
		end
	end
end

-- "Buy Heartwood of Jadame for 1000 gold"
evt.CanShowTopic[256] = function()
	local result
	if not evt.Cmp{"QBits", Value = 255} then         -- Bought Sunfish
		result = not evt.Cmp{"QBits", Value = 262}         -- Can't keep buying heartwood
	end
	return true
end

evt.global[256] = function()
	evt.SetMessage{Str = 701}         --[[ "The Heartwood of Jadame is used by the vampires of the Shadowspire region in the construction of their coffins.
The Heartwood's durability provides the coffin's owner with many years of rest during the daylight hours." ]]
	evt.Subtract{"QBits", Value = 255}         -- Bought Sunfish
	if evt.Cmp{"Gold", Value = 1000} then
		evt.Subtract{"Gold", Value = 1000}
		evt.Add{"Inventory", Value = 646}         -- "Heartwood of Jadame"
		evt.Add{"QBits", Value = 253}         -- Bought heartwood
		evt.Add{"QBits", Value = 262}         -- Can't keep buying heartwood
	else
		evt.SetMessage{Str = 740}         -- "You don't have enough gold!"
	end
end

-- "Sell Dried Sunfish"
evt.global[257] = function()
	evt.ForPlayer(-- ERROR: Const not found
"All")
	if evt.Cmp{"Inventory", Value = 648} then         -- "Dried Sunfish"
		evt.SetMessage{Str = 702}         --[[ "Dried sunfish is a delicacy enjoyed by the High Clerics of the Temple of the Sun.
They pay good money for deliveries of this flaky, somewhat salty fish." ]]
		evt.Subtract{"Inventory", Value = 648}         -- "Dried Sunfish"
		evt.Subtract{"QBits", Value = 264}         -- Can't keep buying sinfish
		evt.ForPlayer(-- ERROR: Const not found
"Current")
		if evt.Cmp{"DayOfWeekIs", Value = 0} then
			evt.Add{"Gold", Value = 2234}
		else
			if evt.Cmp{"DayOfWeekIs", Value = 1} then
				evt.Add{"Gold", Value = 2267}
			else
				if evt.Cmp{"DayOfWeekIs", Value = 2} then
					evt.Add{"Gold", Value = 2250}
				else
					if evt.Cmp{"DayOfWeekIs", Value = 3} then
						evt.Add{"Gold", Value = 2291}
					else
						if evt.Cmp{"DayOfWeekIs", Value = 4} then
							evt.Add{"Gold", Value = 2244}
						else
							if evt.Cmp{"DayOfWeekIs", Value = 5} then
								evt.Add{"Gold", Value = 2285}
							else
								if evt.Cmp{"DayOfWeekIs", Value = 6} then
									evt.Add{"Gold", Value = 2273}
								end
							end
						end
					end
				end
			end
		end
	end
end

-- "Buy Pirate Amulets for 1500 gold"
evt.CanShowTopic[258] = function()
	local result
	if not evt.Cmp{"QBits", Value = 253} then         -- Bought heartwood
		result = not evt.Cmp{"QBits", Value = 263}         -- Can't keep buying amulets
	end
	return true
end

evt.global[258] = function()
	evt.SetMessage{Str = 703}         --[[ "The Pirates of Regna like flamboyant jewelry!
Amulets that fail to take enchantments cast by the Necromancers of Shadowspire fill this need quite well.
The Pirates pay some of their ""hard earned"" bounty to get these amulets." ]]
	evt.Subtract{"QBits", Value = 253}         -- Bought heartwood
	if evt.Cmp{"Gold", Value = 1500} then
		evt.Subtract{"Gold", Value = 1500}
		evt.Add{"Inventory", Value = 647}         -- "Flawed Amulets"
		evt.Add{"QBits", Value = 254}         -- Bought amulets
		evt.Add{"QBits", Value = 263}         -- Can't keep buying amulets
	else
		evt.SetMessage{Str = 740}         -- "You don't have enough gold!"
	end
end

-- "Sell Heartwood of Jadame"
evt.global[259] = function()
	evt.ForPlayer(-- ERROR: Const not found
"All")
	if evt.Cmp{"Inventory", Value = 646} then         -- "Heartwood of Jadame"
		evt.SetMessage{Str = 704}         --[[ "The Heartwood of Jadame is used by the Vampires of the Shadowspire region in the construction of their coffins.
The Heartwood's durability provides the coffin's owner with many years of rest during the daylight hours." ]]
		evt.Subtract{"Inventory", Value = 646}         -- "Heartwood of Jadame"
		evt.Subtract{"QBits", Value = 262}         -- Can't keep buying heartwood
		evt.ForPlayer(-- ERROR: Const not found
"Current")
		if evt.Cmp{"DayOfWeekIs", Value = 0} then
			evt.Add{"Gold", Value = 1761}
		else
			if evt.Cmp{"DayOfWeekIs", Value = 1} then
				evt.Add{"Gold", Value = 1786}
			else
				if evt.Cmp{"DayOfWeekIs", Value = 2} then
					evt.Add{"Gold", Value = 1637}
				else
					if evt.Cmp{"DayOfWeekIs", Value = 3} then
						evt.Add{"Gold", Value = 1655}
					else
						if evt.Cmp{"DayOfWeekIs", Value = 4} then
							evt.Add{"Gold", Value = 1794}
						else
							if evt.Cmp{"DayOfWeekIs", Value = 5} then
								evt.Add{"Gold", Value = 1773}
							else
								if evt.Cmp{"DayOfWeekIs", Value = 6} then
									evt.Add{"Gold", Value = 1744}
								end
							end
						end
					end
				end
			end
		end
	end
end

-- "Buy Dried Sunfish for 2000 gold"
evt.CanShowTopic[260] = function()
	local result
	if not evt.Cmp{"QBits", Value = 254} then         -- Bought amulets
		result = not evt.Cmp{"QBits", Value = 264}         -- Can't keep buying sinfish
	end
	return true
end

evt.global[260] = function()
	evt.SetMessage{Str = 705}         --[[ "Dried Sunfish is a delicacy enjoyed by the High Clerics of the Temple of the Sun.
They pay good money for deliveries of this flaky, somewhat salty fish." ]]
	evt.Subtract{"QBits", Value = 254}         -- Bought amulets
	if evt.Cmp{"Gold", Value = 2000} then
		evt.Subtract{"Gold", Value = 2000}
		evt.Add{"Inventory", Value = 648}         -- "Dried Sunfish"
		evt.Add{"QBits", Value = 255}         -- Bought Sunfish
		evt.Add{"QBits", Value = 264}         -- Can't keep buying sinfish
	else
		evt.SetMessage{Str = 740}         -- "You don't have enough gold!"
	end
end

-- "Sell Pirate Amulets"
evt.global[261] = function()
	evt.ForPlayer(-- ERROR: Const not found
"All")
	if evt.Cmp{"Inventory", Value = 647} then         -- "Flawed Amulets"
		evt.SetMessage{Str = 706}         --[[ "The Pirates of Regna like flamboyant jewelry!
Amulets that fail to take enchantments cast by the Necromancers of Shadowspire fill this need quite well.
The Pirates pay some of their ""hard earned"" bounty to get these amulets." ]]
		evt.Subtract{"Inventory", Value = 647}         -- "Flawed Amulets"
		evt.Subtract{"QBits", Value = 263}         -- Can't keep buying amulets
		evt.ForPlayer(-- ERROR: Const not found
"Current")
		if evt.Cmp{"DayOfWeekIs", Value = 0} then
			evt.Add{"Gold", Value = 1994}
		else
			if evt.Cmp{"DayOfWeekIs", Value = 1} then
				evt.Add{"Gold", Value = 2041}
			else
				if evt.Cmp{"DayOfWeekIs", Value = 2} then
					evt.Add{"Gold", Value = 2051}
				else
					if evt.Cmp{"DayOfWeekIs", Value = 3} then
						evt.Add{"Gold", Value = 2037}
					else
						if evt.Cmp{"DayOfWeekIs", Value = 4} then
							evt.Add{"Gold", Value = 1973}
						else
							if evt.Cmp{"DayOfWeekIs", Value = 5} then
								evt.Add{"Gold", Value = 1955}
							else
								if evt.Cmp{"DayOfWeekIs", Value = 6} then
									evt.Add{"Gold", Value = 2086}
								end
							end
						end
					end
				end
			end
		end
	end
end

-- "Buy Silver Dust of the Sea for 5000 gold"
evt.CanShowTopic[262] = function()
	local result
	if not evt.Cmp{"QBits", Value = 258} then         -- Bought Item Ground Wyvern Horn
		result = not evt.Cmp{"QBits", Value = 265}         -- Can't keep buying Silver Dust of the Sea
	end
	return true
end

evt.global[262] = function()
	evt.SetMessage{Str = 707}         --[[ "Purchase Silver Dust of the Sea made by the Necromancers of Shadowspire. It is used by the smugglers of Ravenshore to hide their boats.
It provides the boats with a limited form of invisibility." ]]
	evt.Subtract{"QBits", Value = 267}         -- Can't keep buying Ground Wyvern horn
	if evt.Cmp{"Gold", Value = 5000} then
		evt.Subtract{"Gold", Value = 5000}
		evt.Add{"Inventory", Value = 649}         -- "Silver Dust of the Sea"
		evt.Add{"QBits", Value = 253}         -- Bought heartwood
		evt.Add{"QBits", Value = 262}         -- Can't keep buying heartwood
	else
		evt.SetMessage{Str = 740}         -- "You don't have enough gold!"
	end
end

-- "Sell Ground Wyvern Horn"
evt.global[263] = function()
	evt.ForPlayer(-- ERROR: Const not found
"All")
	if evt.Cmp{"Inventory", Value = 651} then         -- "Ground Wyvern Horn"
		evt.SetMessage{Str = 708}         --[[ "Ground Wyvern Horn is reported to be one of the most potent reagents used by the necromancers of Shadowspire.
Unlike the reagents used by alchemists, this reagent is only used by the highest ranking members of the Necromancers' Guild." ]]
		evt.Subtract{"Inventory", Value = 651}         -- "Ground Wyvern Horn"
		evt.Subtract{"QBits", Value = 267}         -- Can't keep buying Ground Wyvern horn
		evt.ForPlayer(-- ERROR: Const not found
"Current")
		if evt.Cmp{"DayOfWeekIs", Value = 0} then
			evt.Add{"Gold", Value = 8234}
		else
			if evt.Cmp{"DayOfWeekIs", Value = 1} then
				evt.Add{"Gold", Value = 8267}
			else
				if evt.Cmp{"DayOfWeekIs", Value = 2} then
					evt.Add{"Gold", Value = 8250}
				else
					if evt.Cmp{"DayOfWeekIs", Value = 3} then
						evt.Add{"Gold", Value = 8291}
					else
						if evt.Cmp{"DayOfWeekIs", Value = 4} then
							evt.Add{"Gold", Value = 8244}
						else
							if evt.Cmp{"DayOfWeekIs", Value = 5} then
								evt.Add{"Gold", Value = 8285}
							else
								if evt.Cmp{"DayOfWeekIs", Value = 6} then
									evt.Add{"Gold", Value = 8273}
								end
							end
						end
					end
				end
			end
		end
	end
end

-- "Buy Forged Credit Vouchers for 6500 gold"
evt.CanShowTopic[264] = function()
	local result
	if not evt.Cmp{"QBits", Value = 256} then         -- Bought Item Silver Dust of the Sea
		result = not evt.Cmp{"QBits", Value = 266}         -- Can't keep buying Forged Credit Vouchers
	end
	return true
end

evt.global[264] = function()
	evt.SetMessage{Str = 709}         -- "These Forged Credit Vouchers are used by agents of the Ogre Mage Zog to acquire gold from the Merchants of Alvar."
	evt.Subtract{"QBits", Value = 265}         -- Can't keep buying Silver Dust of the Sea
	if evt.Cmp{"Gold", Value = 6500} then
		evt.Subtract{"Gold", Value = 6500}
		evt.Add{"Inventory", Value = 650}         -- "Forged Vouchers"
		evt.Add{"QBits", Value = 257}         -- Bought Item Forged Credit Vouchers
		evt.Add{"QBits", Value = 266}         -- Can't keep buying Forged Credit Vouchers
	else
		evt.SetMessage{Str = 740}         -- "You don't have enough gold!"
	end
end

-- "Sell Silver Dust of the Sea"
evt.global[265] = function()
	evt.ForPlayer(-- ERROR: Const not found
"All")
	if evt.Cmp{"Inventory", Value = 649} then         -- "Silver Dust of the Sea"
		evt.SetMessage{Str = 710}         --[[ "Purchase Silver Dust of the Sea made by the necromancers of Shadowspire. It is used by the Smuggler's of Ravenshore to hide their boats.
It provides the boats with a limited form of invisibility." ]]
		evt.Subtract{"Inventory", Value = 649}         -- "Silver Dust of the Sea"
		evt.Subtract{"QBits", Value = 265}         -- Can't keep buying Silver Dust of the Sea
		evt.ForPlayer(-- ERROR: Const not found
"Current")
		if evt.Cmp{"DayOfWeekIs", Value = 0} then
			evt.Add{"Gold", Value = 6261}
		else
			if evt.Cmp{"DayOfWeekIs", Value = 1} then
				evt.Add{"Gold", Value = 6286}
			else
				if evt.Cmp{"DayOfWeekIs", Value = 2} then
					evt.Add{"Gold", Value = 6237}
				else
					if evt.Cmp{"DayOfWeekIs", Value = 3} then
						evt.Add{"Gold", Value = 6255}
					else
						if evt.Cmp{"DayOfWeekIs", Value = 4} then
							evt.Add{"Gold", Value = 6294}
						else
							if evt.Cmp{"DayOfWeekIs", Value = 5} then
								evt.Add{"Gold", Value = 6273}
							else
								if evt.Cmp{"DayOfWeekIs", Value = 6} then
									evt.Add{"Gold", Value = 6244}
								end
							end
						end
					end
				end
			end
		end
	end
end

-- "Buy Ground Wyvern Horn for 7500 gold"
evt.CanShowTopic[266] = function()
	local result
	if not evt.Cmp{"QBits", Value = 257} then         -- Bought Item Forged Credit Vouchers
		result = not evt.Cmp{"QBits", Value = 267}         -- Can't keep buying Ground Wyvern horn
	end
	return true
end

evt.global[266] = function()
	evt.SetMessage{Str = 711}         --[[ "Ground Wyvern Horn is reported to be one of the most potent reagents used by the necromancers of Shadowspire.
Unlike the reagents used by alchemists, this reagents is only used by the highest members of the Necromancers' Guild." ]]
	evt.Subtract{"QBits", Value = 266}         -- Can't keep buying Forged Credit Vouchers
	if evt.Cmp{"Gold", Value = 7500} then
		evt.Subtract{"Gold", Value = 7500}
		evt.Add{"Inventory", Value = 651}         -- "Ground Wyvern Horn"
		evt.Add{"QBits", Value = 258}         -- Bought Item Ground Wyvern Horn
		evt.Add{"QBits", Value = 267}         -- Can't keep buying Ground Wyvern horn
	else
		evt.SetMessage{Str = 740}         -- "You don't have enough gold!"
	end
end

-- "Sell Forged Credit Vouchers"
evt.global[267] = function()
	evt.ForPlayer(-- ERROR: Const not found
"All")
	if evt.Cmp{"Inventory", Value = 650} then         -- "Forged Vouchers"
		evt.SetMessage{Str = 712}         -- "These Forged Credit Vouchers are used by agents of the Ogre Mage Zog to acquire gold from the Merchants of Alvar."
		evt.Subtract{"Inventory", Value = 650}         -- "Forged Vouchers"
		evt.Subtract{"QBits", Value = 266}         -- Can't keep buying Forged Credit Vouchers
		evt.ForPlayer(-- ERROR: Const not found
"Current")
		if evt.Cmp{"DayOfWeekIs", Value = 0} then
			evt.Add{"Gold", Value = 7294}
		else
			if evt.Cmp{"DayOfWeekIs", Value = 1} then
				evt.Add{"Gold", Value = 7241}
			else
				if evt.Cmp{"DayOfWeekIs", Value = 2} then
					evt.Add{"Gold", Value = 7251}
				else
					if evt.Cmp{"DayOfWeekIs", Value = 3} then
						evt.Add{"Gold", Value = 7237}
					else
						if evt.Cmp{"DayOfWeekIs", Value = 4} then
							evt.Add{"Gold", Value = 7273}
						else
							if evt.Cmp{"DayOfWeekIs", Value = 5} then
								evt.Add{"Gold", Value = 7255}
							else
								if evt.Cmp{"DayOfWeekIs", Value = 6} then
									evt.Add{"Gold", Value = 7286}
								end
							end
						end
					end
				end
			end
		end
	end
end

-- "Empty Barrel"
evt.global[268] = function()
	evt.StatusText{Str = 713}         -- "Empty Barrel"
end

-- "Red Barrel"
evt.global[269] = function()
	evt.StatusText{Str = 714}         -- "+2 Might permanent"
	evt.Add{"BaseMight", Value = 2}
	evt.Set{"AutonotesBits", Value = 17}         -- "Red liquid grants Might."
	evt.ChangeEvent{NewEvent = 268}         -- "Empty Barrel"
end

-- "Yellow Barrel"
evt.global[270] = function()
	evt.StatusText{Str = 715}         -- "+2 Accuracy permanent"
	evt.Add{"BaseAccuracy", Value = 2}
	evt.Set{"AutonotesBits", Value = 21}         -- "Yellow liquid grants Accuracy."
	evt.ChangeEvent{NewEvent = 268}         -- "Empty Barrel"
end

-- "Blue Barrel"
evt.global[271] = function()
	evt.StatusText{Str = 716}         -- "+2 Personality permanent"
	evt.Add{"BasePersonality", Value = 2}
	evt.Set{"AutonotesBits", Value = 19}         -- "Blue liquid grants Personality."
	evt.ChangeEvent{NewEvent = 268}         -- "Empty Barrel"
end

-- "Orange Barrel"
evt.global[272] = function()
	evt.StatusText{Str = 717}         -- "+2 Intellect permanent"
	evt.Add{"BaseIntellect", Value = 2}
	evt.Set{"AutonotesBits", Value = 18}         -- "Orange liquid grants Intellect."
	evt.ChangeEvent{NewEvent = 268}         -- "Empty Barrel"
end

-- "Green Barrel"
evt.global[273] = function()
	evt.StatusText{Str = 718}         -- "+2 Endurance permanent"
	evt.Add{"BaseEndurance", Value = 2}
	evt.Set{"AutonotesBits", Value = 20}         -- "Green liquid grants Endurance."
	evt.ChangeEvent{NewEvent = 268}         -- "Empty Barrel"
end

-- "Purple Barrel"
evt.global[274] = function()
	evt.StatusText{Str = 719}         -- "+2 Speed permanent"
	evt.Add{"BaseSpeed", Value = 2}
	evt.Set{"AutonotesBits", Value = 22}         -- "Purple liquid grants Speed."
	evt.ChangeEvent{NewEvent = 268}         -- "Empty Barrel"
end

-- "White Barrel"
evt.global[275] = function()
	evt.StatusText{Str = 720}         -- "+2 Luck permanent"
	evt.Add{"BaseLuck", Value = 2}
	evt.Set{"AutonotesBits", Value = 23}         -- "White liquid grants Luck."
	evt.ChangeEvent{NewEvent = 268}         -- "Empty Barrel"
end

-- "Empty Cauldron"
evt.global[276] = function()
	evt.StatusText{Str = 721}         -- "Empty Cauldron"
end

-- "Steaming Cauldron"
evt.global[277] = function()
	evt.StatusText{Str = 722}         -- "+2 Fire Resistance permanent"
	evt.Add{"FireResistance", Value = 2}
	evt.Set{"AutonotesBits", Value = 24}         -- "Steaming liquid grants Fire Resistance."
	evt.ChangeEvent{NewEvent = 276}         -- "Empty Cauldron"
end

-- "Frosty Cauldron"
evt.global[278] = function()
	evt.StatusText{Str = 723}         -- "+2 Water Resistance permanent"
	evt.Add{"WaterResistance", Value = 2}
	evt.Set{"AutonotesBits", Value = 25}         -- "Frosty liquid grants Water Resistance."
	evt.ChangeEvent{NewEvent = 276}         -- "Empty Cauldron"
end

-- "Shocking Cauldron"
evt.global[279] = function()
	evt.StatusText{Str = 724}         -- "+2 Air Resistance permanent"
	evt.Add{"AirResistance", Value = 2}
	evt.Set{"AutonotesBits", Value = 26}         -- "Shocking liquid grants Air Resistance."
	evt.ChangeEvent{NewEvent = 276}         -- "Empty Cauldron"
end

-- "Dirty Cauldron"
evt.global[280] = function()
	evt.StatusText{Str = 725}         -- "+2 Earth Resistance permanent"
	evt.Add{"EarthResistance", Value = 2}
	evt.Set{"AutonotesBits", Value = 27}         -- "Dirty liquid grants Earth Resistance."
	evt.ChangeEvent{NewEvent = 276}         -- "Empty Cauldron"
end

-- "Trash Heap"
evt.global[281] = function()
	local i
	i = Game.Rand() % 3
	if i == 1 then
		if not evt.Cmp{"RepairSkill", Value = 1} then
			evt.Set{"DiseasedGreen", Value = 0}
			evt.StatusText{Str = 726}         -- "Diseased!"
		end
		goto _4
	elseif i == 2 then
		if not evt.Cmp{"RepairSkill", Value = 1} then
			evt.Set{"DiseasedGreen", Value = 0}
			evt.StatusText{Str = 727}         -- "Nothing Here"
		end
		goto _9
	end
	if not evt.Cmp{"RepairSkill", Value = 1} then
		evt.Set{"DiseasedYellow", Value = 0}
		evt.StatusText{Str = 728}         -- "Poisoned!"
	end
	evt.GiveItem{Strength = 3, Type = const.ItemType.Armor_, Id = 0}
::_15::
	evt.ChangeEvent{NewEvent = 284}         -- "Trash Heap"
	do return end
::_4::
	evt.GiveItem{Strength = 1, Type = const.ItemType.Armor_, Id = 0}
	goto _15
::_9::
	evt.GiveItem{Strength = 2, Type = const.ItemType.Armor_, Id = 0}
	goto _15
end

-- "Trash Heap"
evt.global[282] = function()
	local i
	i = Game.Rand() % 3
	if i == 1 then
		if not evt.Cmp{"RepairSkill", Value = 1} then
			evt.Set{"DiseasedGreen", Value = 0}
			evt.StatusText{Str = 726}         -- "Diseased!"
		end
		goto _4
	elseif i == 2 then
		if not evt.Cmp{"RepairSkill", Value = 1} then
			evt.Set{"DiseasedGreen", Value = 0}
			evt.StatusText{Str = 727}         -- "Nothing Here"
		end
		goto _9
	end
	if not evt.Cmp{"RepairSkill", Value = 1} then
		evt.Set{"DiseasedYellow", Value = 0}
		evt.StatusText{Str = 728}         -- "Poisoned!"
	end
	evt.GiveItem{Strength = 3, Type = const.ItemType.Weapon_, Id = 0}
::_15::
	evt.ChangeEvent{NewEvent = 284}         -- "Trash Heap"
	do return end
::_4::
	evt.GiveItem{Strength = 1, Type = const.ItemType.Weapon_, Id = 0}
	goto _15
::_9::
	evt.GiveItem{Strength = 2, Type = const.ItemType.Weapon_, Id = 0}
	goto _15
end

-- "Trash Heap"
evt.global[283] = function()
	local i
	i = Game.Rand() % 3
	if i == 1 then
		if not evt.Cmp{"RepairSkill", Value = 1} then
			evt.Set{"DiseasedGreen", Value = 0}
			evt.StatusText{Str = 726}         -- "Diseased!"
		end
		goto _4
	elseif i == 2 then
		if not evt.Cmp{"RepairSkill", Value = 1} then
			evt.Set{"DiseasedGreen", Value = 0}
			evt.StatusText{Str = 727}         -- "Nothing Here"
		end
		goto _9
	end
	if not evt.Cmp{"RepairSkill", Value = 1} then
		evt.Set{"DiseasedYellow", Value = 0}
		evt.StatusText{Str = 728}         -- "Poisoned!"
	end
	evt.GiveItem{Strength = 3, Type = const.ItemType.Misc, Id = 0}
::_15::
	evt.ChangeEvent{NewEvent = 284}         -- "Trash Heap"
	do return end
::_4::
	evt.GiveItem{Strength = 1, Type = const.ItemType.Misc, Id = 0}
	goto _15
::_9::
	evt.GiveItem{Strength = 2, Type = const.ItemType.Misc, Id = 0}
	goto _15
end

-- "Trash Heap"
evt.global[284] = function()
	local i
	i = Game.Rand() % 2
	if i == 1 then
		if not evt.Cmp{"RepairSkill", Value = 1} then
			evt.Set{"DiseasedGreen", Value = 0}
			evt.StatusText{Str = 726}         -- "Diseased!"
			return
		end
	end
	evt.StatusText{Str = 727}         -- "Nothing Here"
end

-- "Camp Fire"
evt.global[285] = function()
	local i
	i = Game.Rand() % 3
	if i == 1 then
		evt.Add{"Food", Value = 3}
		evt.ChangeEvent{NewEvent = 0}
	elseif i == 2 then
		evt.Add{"Food", Value = 2}
		evt.ChangeEvent{NewEvent = 0}
	else
		evt.Add{"Food", Value = 1}
		evt.ChangeEvent{NewEvent = 0}
	end
end

-- "Camp Fire"
evt.global[286] = function()
	local i
	i = Game.Rand() % 3
	if i == 1 then
		evt.Add{"Food", Value = 4}
		evt.ChangeEvent{NewEvent = 0}
	elseif i == 2 then
		evt.Add{"Food", Value = 3}
		evt.ChangeEvent{NewEvent = 0}
	else
		evt.Add{"Food", Value = 2}
		evt.ChangeEvent{NewEvent = 0}
	end
end

-- "Food Bowl"
evt.global[287] = function()
	evt.Add{"Inventory", Value = 655}         -- "Green Apple"
	evt.ChangeEvent{NewEvent = 0}
end

-- "Empty Cask"
evt.global[288] = function()
	evt.StatusText{Str = 739}         -- "Empty Cask"
end

-- "Cask"
evt.global[289] = function()
	local i
	i = Game.Rand() % 6
	if i >= 3 and i <= 5 then
		i = Game.Rand() % 6
		if i >= 3 and i <= 5 then
			evt.Set{"PoisonedGreen", Value = 0}
			evt.StatusText{Str = 728}         -- "Poisoned!"
		else
			evt.Set{"Drunk", Value = 0}
			evt.StatusText{Str = 738}         -- "Drunk!"
		end
	else
		i = Game.Rand() % 6
		if i == 1 or i == 2 then
			evt.Add{"Inventory", Value = 202}         -- "Phial of Gog Blood"
		elseif i == 3 or i == 4 then
			evt.Add{"Inventory", Value = 210}         -- "Poppy Pod"
		elseif i == 5 then
			evt.Add{"Inventory", Value = 212}         -- "Sulfur"
		else
			evt.Add{"Inventory", Value = 218}         -- "Mercury"
		end
	end
	evt.ChangeEvent{NewEvent = 288}         -- "Empty Cask"
end

-- "Yellow Fever"
evt.CanShowTopic[290] = function()
	return evt.Cmp{"QBits", Value = 101}         -- "Deliver Cure Disease Scrolls to the six huts on the outer Dagger Wound Islands.  Return to Aislen on Dagger Wound Island."
end

evt.global[290] = function()
	if evt.Cmp{"QBits", Value = 108} then         -- Yellow Fever epidemic cured!
		evt.SetMessage{Str = 621}         --[[ "The Yellow Fever epidemic is over!
Thank you for your help!" ]]
		return
	end
	if evt.Cmp{"QBits", Value = 102} then         -- Delivered cure to hut 1
		evt.SetMessage{Str = 743}         -- "Thanks for the cure! Be sure to deliver scrolls to those who still suffer from the Yellow Fever."
		return
	end
	evt.ForPlayer(-- ERROR: Const not found
"All")
	if not evt.Cmp{"Inventory", Value = 373} then         -- "Cure Disease"
		evt.SetMessage{Str = 742}         -- "I am very sick, without a Cure Disease scroll I will surely perish from Yellow Fever!."
		return
	end
	evt.Subtract{"Inventory", Value = 373}         -- "Cure Disease"
	evt.Add{"QBits", Value = 102}         -- Delivered cure to hut 1
	evt.ForPlayer(-- ERROR: Const not found
"All")
	evt.Add{"Experience", Value = 250}
	if evt.Cmp{"QBits", Value = 102} then         -- Delivered cure to hut 1
		if evt.Cmp{"QBits", Value = 103} then         -- Delivered cure to hut 2
			if evt.Cmp{"QBits", Value = 104} then         -- Delivered cure to hut 3
				if evt.Cmp{"QBits", Value = 105} then         -- Delivered cure to hut 4
					if evt.Cmp{"QBits", Value = 106} then         -- Delivered cure to hut 5
						if evt.Cmp{"QBits", Value = 107} then         -- Delivered cure to hut 6
							evt.ForPlayer(-- ERROR: Const not found
"All")
							evt.Add{"Experience", Value = 1500}
							evt.SetMessage{Str = 621}         --[[ "The Yellow Fever epidemic is over!
Thank you for your help!" ]]
							evt.Add{"QBits", Value = 108}         -- Yellow Fever epidemic cured!
							return
						end
					end
				end
			end
		end
	end
	evt.SetMessage{Str = 741}         --[[ "Thanks for the cure, but others in the area are still sick!
Be sure to deliver the cure to them as well!" ]]
end

-- "Yellow Fever"
evt.CanShowTopic[291] = function()
	return evt.Cmp{"QBits", Value = 101}         -- "Deliver Cure Disease Scrolls to the six huts on the outer Dagger Wound Islands.  Return to Aislen on Dagger Wound Island."
end

evt.global[291] = function()
	if evt.Cmp{"QBits", Value = 108} then         -- Yellow Fever epidemic cured!
		evt.SetMessage{Str = 621}         --[[ "The Yellow Fever epidemic is over!
Thank you for your help!" ]]
		return
	end
	if evt.Cmp{"QBits", Value = 103} then         -- Delivered cure to hut 2
		evt.SetMessage{Str = 743}         -- "Thanks for the cure! Be sure to deliver scrolls to those who still suffer from the Yellow Fever."
		return
	end
	evt.ForPlayer(-- ERROR: Const not found
"All")
	if not evt.Cmp{"Inventory", Value = 373} then         -- "Cure Disease"
		evt.SetMessage{Str = 742}         -- "I am very sick, without a Cure Disease scroll I will surely perish from Yellow Fever!."
		return
	end
	evt.Subtract{"Inventory", Value = 373}         -- "Cure Disease"
	evt.Add{"QBits", Value = 103}         -- Delivered cure to hut 2
	evt.ForPlayer(-- ERROR: Const not found
"All")
	evt.Add{"Experience", Value = 250}
	if evt.Cmp{"QBits", Value = 103} then         -- Delivered cure to hut 2
		if evt.Cmp{"QBits", Value = 102} then         -- Delivered cure to hut 1
			if evt.Cmp{"QBits", Value = 104} then         -- Delivered cure to hut 3
				if evt.Cmp{"QBits", Value = 105} then         -- Delivered cure to hut 4
					if evt.Cmp{"QBits", Value = 106} then         -- Delivered cure to hut 5
						if evt.Cmp{"QBits", Value = 107} then         -- Delivered cure to hut 6
							evt.ForPlayer(-- ERROR: Const not found
"All")
							evt.Add{"Experience", Value = 1500}
							evt.SetMessage{Str = 621}         --[[ "The Yellow Fever epidemic is over!
Thank you for your help!" ]]
							evt.Add{"QBits", Value = 108}         -- Yellow Fever epidemic cured!
							return
						end
					end
				end
			end
		end
	end
	evt.SetMessage{Str = 741}         --[[ "Thanks for the cure, but others in the area are still sick!
Be sure to deliver the cure to them as well!" ]]
end

-- "Yellow Fever"
evt.CanShowTopic[292] = function()
	return evt.Cmp{"QBits", Value = 101}         -- "Deliver Cure Disease Scrolls to the six huts on the outer Dagger Wound Islands.  Return to Aislen on Dagger Wound Island."
end

evt.global[292] = function()
	if evt.Cmp{"QBits", Value = 108} then         -- Yellow Fever epidemic cured!
		evt.SetMessage{Str = 621}         --[[ "The Yellow Fever epidemic is over!
Thank you for your help!" ]]
		return
	end
	if evt.Cmp{"QBits", Value = 104} then         -- Delivered cure to hut 3
		evt.SetMessage{Str = 743}         -- "Thanks for the cure! Be sure to deliver scrolls to those who still suffer from the Yellow Fever."
		return
	end
	evt.ForPlayer(-- ERROR: Const not found
"All")
	if not evt.Cmp{"Inventory", Value = 373} then         -- "Cure Disease"
		evt.SetMessage{Str = 742}         -- "I am very sick, without a Cure Disease scroll I will surely perish from Yellow Fever!."
		return
	end
	evt.Subtract{"Inventory", Value = 373}         -- "Cure Disease"
	evt.Add{"QBits", Value = 104}         -- Delivered cure to hut 3
	evt.ForPlayer(-- ERROR: Const not found
"All")
	evt.Add{"Experience", Value = 250}
	if evt.Cmp{"QBits", Value = 104} then         -- Delivered cure to hut 3
		if evt.Cmp{"QBits", Value = 102} then         -- Delivered cure to hut 1
			if evt.Cmp{"QBits", Value = 103} then         -- Delivered cure to hut 2
				if evt.Cmp{"QBits", Value = 105} then         -- Delivered cure to hut 4
					if evt.Cmp{"QBits", Value = 106} then         -- Delivered cure to hut 5
						if evt.Cmp{"QBits", Value = 107} then         -- Delivered cure to hut 6
							evt.ForPlayer(-- ERROR: Const not found
"All")
							evt.Add{"Experience", Value = 1500}
							evt.SetMessage{Str = 621}         --[[ "The Yellow Fever epidemic is over!
Thank you for your help!" ]]
							evt.Add{"QBits", Value = 108}         -- Yellow Fever epidemic cured!
							return
						end
					end
				end
			end
		end
	end
	evt.SetMessage{Str = 741}         --[[ "Thanks for the cure, but others in the area are still sick!
Be sure to deliver the cure to them as well!" ]]
end

-- "Yellow Fever"
evt.CanShowTopic[293] = function()
	return evt.Cmp{"QBits", Value = 101}         -- "Deliver Cure Disease Scrolls to the six huts on the outer Dagger Wound Islands.  Return to Aislen on Dagger Wound Island."
end

evt.global[293] = function()
	if evt.Cmp{"QBits", Value = 108} then         -- Yellow Fever epidemic cured!
		evt.SetMessage{Str = 621}         --[[ "The Yellow Fever epidemic is over!
Thank you for your help!" ]]
		return
	end
	if evt.Cmp{"QBits", Value = 105} then         -- Delivered cure to hut 4
		evt.SetMessage{Str = 743}         -- "Thanks for the cure! Be sure to deliver scrolls to those who still suffer from the Yellow Fever."
		return
	end
	evt.ForPlayer(-- ERROR: Const not found
"All")
	if not evt.Cmp{"Inventory", Value = 373} then         -- "Cure Disease"
		evt.SetMessage{Str = 742}         -- "I am very sick, without a Cure Disease scroll I will surely perish from Yellow Fever!."
		return
	end
	evt.Subtract{"Inventory", Value = 373}         -- "Cure Disease"
	evt.Add{"QBits", Value = 105}         -- Delivered cure to hut 4
	evt.ForPlayer(-- ERROR: Const not found
"All")
	evt.Add{"Experience", Value = 250}
	if evt.Cmp{"QBits", Value = 105} then         -- Delivered cure to hut 4
		if evt.Cmp{"QBits", Value = 102} then         -- Delivered cure to hut 1
			if evt.Cmp{"QBits", Value = 103} then         -- Delivered cure to hut 2
				if evt.Cmp{"QBits", Value = 104} then         -- Delivered cure to hut 3
					if evt.Cmp{"QBits", Value = 106} then         -- Delivered cure to hut 5
						if evt.Cmp{"QBits", Value = 107} then         -- Delivered cure to hut 6
							evt.ForPlayer(-- ERROR: Const not found
"All")
							evt.Add{"Experience", Value = 1500}
							evt.SetMessage{Str = 621}         --[[ "The Yellow Fever epidemic is over!
Thank you for your help!" ]]
							evt.Add{"QBits", Value = 108}         -- Yellow Fever epidemic cured!
							return
						end
					end
				end
			end
		end
	end
	evt.SetMessage{Str = 741}         --[[ "Thanks for the cure, but others in the area are still sick!
Be sure to deliver the cure to them as well!" ]]
end

-- "Yellow Fever"
evt.CanShowTopic[294] = function()
	return evt.Cmp{"QBits", Value = 101}         -- "Deliver Cure Disease Scrolls to the six huts on the outer Dagger Wound Islands.  Return to Aislen on Dagger Wound Island."
end

evt.global[294] = function()
	if evt.Cmp{"QBits", Value = 108} then         -- Yellow Fever epidemic cured!
		evt.SetMessage{Str = 621}         --[[ "The Yellow Fever epidemic is over!
Thank you for your help!" ]]
		return
	end
	if evt.Cmp{"QBits", Value = 106} then         -- Delivered cure to hut 5
		evt.SetMessage{Str = 743}         -- "Thanks for the cure! Be sure to deliver scrolls to those who still suffer from the Yellow Fever."
		return
	end
	evt.ForPlayer(-- ERROR: Const not found
"All")
	if not evt.Cmp{"Inventory", Value = 373} then         -- "Cure Disease"
		evt.SetMessage{Str = 742}         -- "I am very sick, without a Cure Disease scroll I will surely perish from Yellow Fever!."
		return
	end
	evt.Subtract{"Inventory", Value = 373}         -- "Cure Disease"
	evt.Add{"QBits", Value = 106}         -- Delivered cure to hut 5
	evt.ForPlayer(-- ERROR: Const not found
"All")
	evt.Add{"Experience", Value = 250}
	if evt.Cmp{"QBits", Value = 106} then         -- Delivered cure to hut 5
		if evt.Cmp{"QBits", Value = 102} then         -- Delivered cure to hut 1
			if evt.Cmp{"QBits", Value = 103} then         -- Delivered cure to hut 2
				if evt.Cmp{"QBits", Value = 104} then         -- Delivered cure to hut 3
					if evt.Cmp{"QBits", Value = 105} then         -- Delivered cure to hut 4
						if evt.Cmp{"QBits", Value = 107} then         -- Delivered cure to hut 6
							evt.ForPlayer(-- ERROR: Const not found
"All")
							evt.Add{"Experience", Value = 1500}
							evt.SetMessage{Str = 621}         --[[ "The Yellow Fever epidemic is over!
Thank you for your help!" ]]
							evt.Add{"QBits", Value = 108}         -- Yellow Fever epidemic cured!
							return
						end
					end
				end
			end
		end
	end
	evt.SetMessage{Str = 741}         --[[ "Thanks for the cure, but others in the area are still sick!
Be sure to deliver the cure to them as well!" ]]
end

-- "Yellow Fever"
evt.CanShowTopic[295] = function()
	return evt.Cmp{"QBits", Value = 101}         -- "Deliver Cure Disease Scrolls to the six huts on the outer Dagger Wound Islands.  Return to Aislen on Dagger Wound Island."
end

evt.global[295] = function()
	if evt.Cmp{"QBits", Value = 108} then         -- Yellow Fever epidemic cured!
		evt.SetMessage{Str = 621}         --[[ "The Yellow Fever epidemic is over!
Thank you for your help!" ]]
		return
	end
	if evt.Cmp{"QBits", Value = 107} then         -- Delivered cure to hut 6
		evt.SetMessage{Str = 743}         -- "Thanks for the cure! Be sure to deliver scrolls to those who still suffer from the Yellow Fever."
		return
	end
	evt.ForPlayer(-- ERROR: Const not found
"All")
	if not evt.Cmp{"Inventory", Value = 373} then         -- "Cure Disease"
		evt.SetMessage{Str = 742}         -- "I am very sick, without a Cure Disease scroll I will surely perish from Yellow Fever!."
		return
	end
	evt.Subtract{"Inventory", Value = 373}         -- "Cure Disease"
	evt.Add{"QBits", Value = 107}         -- Delivered cure to hut 6
	evt.ForPlayer(-- ERROR: Const not found
"All")
	evt.Add{"Experience", Value = 250}
	if evt.Cmp{"QBits", Value = 107} then         -- Delivered cure to hut 6
		if evt.Cmp{"QBits", Value = 102} then         -- Delivered cure to hut 1
			if evt.Cmp{"QBits", Value = 103} then         -- Delivered cure to hut 2
				if evt.Cmp{"QBits", Value = 104} then         -- Delivered cure to hut 3
					if evt.Cmp{"QBits", Value = 105} then         -- Delivered cure to hut 4
						if evt.Cmp{"QBits", Value = 106} then         -- Delivered cure to hut 5
							evt.ForPlayer(-- ERROR: Const not found
"All")
							evt.Add{"Experience", Value = 1500}
							evt.SetMessage{Str = 621}         --[[ "The Yellow Fever epidemic is over!
Thank you for your help!" ]]
							evt.Add{"QBits", Value = 108}         -- Yellow Fever epidemic cured!
							return
						end
					end
				end
			end
		end
	end
	evt.SetMessage{Str = 741}         --[[ "Thanks for the cure, but others in the area are still sick!
Be sure to deliver the cure to them as well!" ]]
end

-- "Rothnax"
evt.global[296] = function()
	evt.SetMessage{Str = 751}         --[[ "My brother Rohtnax lives!
And you have repaired the Portals of Stone?
I must return home to him, so that we can plan our family's survival!" ]]
	evt.Add{"QBits", Value = 138}         -- Found Isthric the Tongue
	evt.MoveNPC{NPC = 70, HouseId = 776}         -- "Isthric the Tongue" -> "Rohtnax's House"
	evt.SetNPCTopic{NPC = 70, Index = 0, Event = 297}         -- "Isthric the Tongue" : "Thank you again!"
end

-- "Thank you again!"
evt.CanShowTopic[297] = function()
	return evt.Cmp{"QBits", Value = 134}         -- Gave Gem of Restoration to Blazen Stormlance
end

-- "Report!"
evt.CanShowTopic[298] = function()
	local result
	if not evt.Cmp{"QBits", Value = 117} then         -- "Deliver fake report to the Dread Pirate Stanley in the Pirate's Rest Tavern on the Island of Regna."
		result = false
	else
		return evt.Cmp{"Inventory", Value = 602}         -- "False Report"
	end
end

evt.global[298] = function()
	evt.SetMessage{Str = 777}         --[[ "You're new aren't you?
Tell Arion Hunter that I expect more of his rabble than the likes of you!
Give me the reports and leave my sight!
You make me sick!" ]]
	evt.Subtract{"QBits", Value = 117}         -- "Deliver fake report to the Dread Pirate Stanley in the Pirate's Rest Tavern on the Island of Regna."
	evt.ForPlayer(-- ERROR: Const not found
"All")
	evt.Subtract{"Inventory", Value = 602}         -- "False Report"
	evt.Add{"QBits", Value = 1554}         -- Delivered False Report to the Dread Pirate Stanley for Arion Hunter.
	evt.Subtract{"QBits", Value = 282}         -- False Report - I lost it!
	evt.Add{"Experience", Value = 20000}
	evt.ForPlayer(-- ERROR: Const not found
0)
	evt.Add{"Gold", Value = 15000}
	evt.SetNPCTopic{NPC = 108, Index = 0, Event = 0}         -- "Dread Pirate Stanley"
	evt.MoveNPC{NPC = 108, HouseId = 0}         -- "Dread Pirate Stanley"
end

-- "Fate of Jadame"
evt.global[299] = function()
	if evt.Cmp{"QBits", Value = 57} then         -- The Pirates invaded Ravenshore
		evt.SetMessage{Str = 791}         --[[ "Jadame owes you a great debt!
You have saved the entire world from total destruction!" ]]
	else
		evt.SetMessage{Str = 790}         --[[ "Who knows the fate of Jadame now.
Perhaps you will find a way to save us from destruction?" ]]
	end
end

-- "Puddle Thain"
evt.global[417] = function()
	evt.SetMessage{Str = 417}         --[[ "Puddle Thain, is a most promising student.
If you seek Expert instruction in the uses of the Staff, you can find him in the city of Ravenshore." ]]
	evt.Set{"AutonotesBits", Value = 89}         -- "You may receive Expert Staff instruction from Puddle Thain in the city of Ravenshore."
end

-- "Celia Stone"
evt.global[418] = function()
	evt.SetMessage{Str = 418}         --[[ "Celia Stone, Master of the Staff, dwells in Troll village of Rust in the Ironsand Desert.
She can instruct you to Mastery of the Staff is that is what you desire." ]]
	evt.Set{"AutonotesBits", Value = 90}         -- "Master Staff is taught by Celia Stone located in the village of Rust. Rust is in the Ironsand Desert."
end

-- "Tristen Stillwater"
evt.global[419] = function()
	evt.SetMessage{Str = 419}         --[[ "Grand Master Tristen Stillwater, instructs all students of the Staff.
Only he can help you in attaining Grand Mastery of this fine weapon.
Seek him out in the city of Twilight at the base of the Shadowspire." ]]
	evt.Set{"AutonotesBits", Value = 91}         -- "The Grand Master of Staff, Tristen Stillwater is located in the Shadowspire city of Twilight."
end

-- "Aerie Luodrin"
evt.global[420] = function()
	evt.SetMessage{Str = 420}         --[[ "Aerie Luodrin currently dwells in Ravenshore.
She is a most dedicated student of the uses of the Sword and can instruct you to and Expert skill level with the weapon." ]]
	evt.Set{"AutonotesBits", Value = 92}         -- "You may receive Expert Sword training from Aerie Luodrin in the city of Ravenshore."
end

-- "Jaycin Cardron"
evt.global[421] = function()
	evt.SetMessage{Str = 421}         --[[ "Unfortunately Jaycin Cardron, Master of the Sword, felt that his skills would be more, shall we say, ""profitable taught"" to the Dragon Hunter's of Garrote Gorge.
If you seek Master skill level with the Sword, you will have to go to him at the Garrote Gorge Dragon Hunter Camp." ]]
	evt.Set{"AutonotesBits", Value = 93}         -- "Master Sword is taught by Jaycin Cardron. You can find her in the Garrote Gorge Dragon Hunter's Camp."
end

-- "Miyon Dragontracker"
evt.global[422] = function()
	evt.SetMessage{Str = 422}         --[[ "Miyon Dragontracker, Grand Master of the Sword, has joined the knight, Charles Quixote in his quest to exterminate the Dragons of Garrote Gorge.
You can find Miyon at the Dragon Hunter's Fort." ]]
	evt.Set{"AutonotesBits", Value = 94}         -- "The Grand Master of Sword, Miyon Dragontracker can be found on the island of Regna."
end

-- "Lori Vespers"
evt.global[423] = function()
	evt.SetMessage{Str = 423}         --[[ "The Expert instructor of the Dagger, Lori Vespers, lives in the Dark Elf city of Alvar.
Seek her out there." ]]
	evt.Set{"AutonotesBits", Value = 95}         -- "The Expert Dagger instructor, Lori Vespers, lives in the Dark Elf city of Alvar."
end

-- "Jobber"
evt.global[424] = function()
	evt.SetMessage{Str = 424}         --[[ "Master Jobber can instruct students of the Dagger to Mastery.
He lives in the city of Ravenshore." ]]
	evt.Set{"AutonotesBits", Value = 96}         -- "Master Jobber teaches Master Dagger.  He lives in the city of Ravenshore."
end

-- "Karla Nirses"
evt.global[425] = function()
	evt.SetMessage{Str = 425}         --[[ "Karla Nirses, the Grand Master of the Dagger trains all Regnan Pirates in the uses of the Dagger.
She dwells with them on the Island of Regna as they pay her well." ]]
	evt.Set{"AutonotesBits", Value = 97}         -- "Karla Nirses, the Grand Master Dagger teacher, can be found on Regna Island."
end

-- "Herald Foestryke"
evt.global[426] = function()
	evt.SetMessage{Str = 426}         --[[ "Herald Foestryke, one of Charles Quixote's finest knights, is the Expert teacher of the skills of the Axe.
He can be found at the Dragon Hunter's Camp in Garrote Gorge." ]]
	evt.Set{"AutonotesBits", Value = 98}         -- "Herald Foestryke teaches Expert Axe in the Dragon Hunter's Camp located in Garrote Gorge."
end

-- "Jasp Hunter "
evt.global[427] = function()
	evt.SetMessage{Str = 427}         --[[ "Jasp Hunter is the Master instructor of the axe.
He can teach you the skills that will lead to Mastery of the axe.
His home is in the seaside city of Ravenshore." ]]
	evt.Set{"AutonotesBits", Value = 99}         -- "Jasp Hunter is the Master Axe instructor. His home is in the seaside city of Ravenshore."
end

-- "Garic Senjac"
evt.global[428] = function()
	evt.SetMessage{Str = 428}         --[[ "Grand Master Garic Senjac, is the Grand Master teacher of the ways of the Axe.
His home is in Balthazar Lair in the Ravage Roaming region." ]]
	evt.Set{"AutonotesBits", Value = 100}         -- "Grand Master Garic Senjac, the Grand Master Axe teacher makes his home in Balthazar Lair located in Ravage Roaming."
end

-- "Matric Townsaver"
evt.global[429] = function()
	evt.SetMessage{Str = 429}         --[[ "Matric Townsaver defended the city of Ravenshore against many Regnan Pirate raids.
His skill and instruction of the uses of the spear allowed the townsfolk to push the Pirates back. He can instruct you to Expert skill level with the spear." ]]
	evt.Set{"AutonotesBits", Value = 101}         -- "Matric Townsaver teaches Expert Spear from his home in Ravenshore."
end

-- "Ashandra Withersmythe"
evt.global[430] = function()
	evt.SetMessage{Str = 430}         --[[ "Ashandra Withersmythe is the Master teacher of the Spear.
Her instruction of the ways of the Spear will lead you to Mastery of the weapon.
She lives in the merchant city of Alvar." ]]
	evt.Set{"AutonotesBits", Value = 102}         -- "Ashandra Withersmythe is the Master teacher of the Spear. She lives in the merchant city of Alvar."
end

-- "Yarrow"
evt.global[431] = function()
	evt.SetMessage{Str = 431}         --[[ "Yarrow is the Grand Master of the Spear.
Her keen eye and stalking ability have aided her in attaining this level of skill.
She uses the Spear to stalk the poisonous couatl of the jungles of the Dagger Wound Islands." ]]
	evt.Set{"AutonotesBits", Value = 103}         -- "Yarrow is the Grand Master of the Spear.  You can find her on the Dagger Wound Islands."
end

-- "Shivan Keeneye"
evt.global[432] = function()
	evt.SetMessage{Str = 432}         --[[ "Shivan Keeneye is an Expert shot with the Bow.
Her teachings can lead you to an Expert skill level with this ranged weapon.
She lives in the village of Blood Drop on the Dagger Wound Islands." ]]
	evt.Set{"AutonotesBits", Value = 104}         -- "Shivan Keeneye, the Expert Bow teacher lives in the village of Blood Drop on the Dagger Wound Islands."
end

-- "Oberic Nosewort"
evt.global[433] = function()
	evt.SetMessage{Str = 433}         --[[ "Master Oberic Nosewort teaches students of the bow in his home in Ravenshore.
If you seek Mastery of this weapon you must seek him out there." ]]
	evt.Set{"AutonotesBits", Value = 105}         -- "Master Bow teacher Oberic Nosewort lives in Ravenshore city"
end

-- "Solis"
evt.global[434] = function()
	evt.SetMessage{Str = 434}         --[[ "Solis, Grand Master of the Bow, lives in the Dark Elf city of Alvar.
She can teach you Grand Mastery of the Bow." ]]
	evt.Set{"AutonotesBits", Value = 106}         -- "Solis, Grand Master of the Bow, lives in the Dark Elf city of Alvar."
end

-- "Lisha Sourbrow"
evt.global[435] = function()
	evt.SetMessage{Str = 435}         -- "Lisha Sourbrow teaches Expert uses of the Mace from her home in Ravenshore."
	evt.Set{"AutonotesBits", Value = 107}         -- "Lisha Sourbrow teaches Expert Mace from her home in Ravenshore."
end

-- "Robert Morningstar"
evt.global[436] = function()
	evt.SetMessage{Str = 436}         -- "Robert Morningstar, teaches Mastery of the Mace to the knights in Garrote Gorge."
	evt.Set{"AutonotesBits", Value = 108}         -- "Master Mace teacher, Robert Morningstar, trains the knights of the Garrote Gorge Dragon Hunter's Camp."
end

-- "Brother Hearthsworn"
evt.global[437] = function()
	evt.SetMessage{Str = 437}         --[[ "Brother Hearthsworn, the Grand Master of the Mace, retired to the peace of the Ironsand Desert, seeking tranquility among the dunes of that region.
His home is in the village of Rust." ]]
	evt.Set{"AutonotesBits", Value = 109}         -- "Brother Hearthsworn, the Grand Master Mace teacher, can be found in the village of Rust located in the Ironsand Desert."
end

-- "Qillain Moore"
evt.global[438] = function()
	evt.SetMessage{Str = 438}         -- "Qillain Moore used to serve the knight, Charles Quixote, but disagreed with his crusade to slay all the Dragons in the Garrote Gorge area. Moore still teaches Expert uses of the Shield from his home in the city of Alvar."
	evt.Set{"AutonotesBits", Value = 113}         -- "Expert Shield teacher, Qillain Moore, lives in the the city of Alvar."
end

-- "Sheldon Nightwood"
evt.global[439] = function()
	evt.SetMessage{Str = 439}         --[[ "Sheldon Nightwood lives in the city of Twilight, beneath the Necromancers' Guild on the Shadowspire.
She can teach you Mastery of the Shield." ]]
	evt.Set{"AutonotesBits", Value = 114}         -- "Master Shield teacher, Sheldon Nightwood lives in the Shadowspire city of Twilight."
end

-- "Peryn Reaverston"
evt.global[440] = function()
	evt.SetMessage{Str = 440}         --[[ "The knight, Peryn Reaverston, holds the title of Grand Master of the Shield.
He is currently in service to Charles Quixote and teaches knights in the proper uses of the shield.
Search him out in the Dragon Hunter's Camp in Garrote Gorge." ]]
	evt.Set{"AutonotesBits", Value = 115}         -- "Peryn Reaverston, Grand Master Shield instructor, lives in the Dragon Hunter's Camp in Garrote Gorge."
end

-- "Thadin"
evt.global[441] = function()
	evt.SetMessage{Str = 441}         --[[ "The Lizardman Thadin is the Expert instructor of the use of Leather armor.
His instruction will give you an Expert skill level with this armor.
You can find him on the Island of Dagger Wound." ]]
	evt.Set{"AutonotesBits", Value = 116}         -- "Thadin is the Expert Leather instructor. You can find him on the Island of Dagger Wound."
end

-- "Shamus Hollyfield"
evt.global[442] = function()
	evt.SetMessage{Str = 442}         --[[ "Master Shamus Hollyfield dwells in the Minotaur city, Balthazar Lair, which is located in the Ravage Roaming region.
He can teach you Mastery of Leather armor." ]]
	evt.Set{"AutonotesBits", Value = 117}         -- "Master Leather instructor Shamus Hollyfield dwells in the Minotaur city, Balthazar Lair, which is located in the Ravage Roaming region."
end

-- "Medwari Elmsmire"
evt.global[443] = function()
	evt.SetMessage{Str = 443}         --[[ "Medwari Elmsmire makes the finest Leather armor in the realm.
She also holds the title of Grand Master of Leather Armor and can instruct you at her home in the village of Rust in the Ironsand Desert." ]]
	evt.Set{"AutonotesBits", Value = 118}         -- "Medwari Elmsmire, the Grand Master of Leather makes her home in the village of Rust in the Ironsand Desert."
end

-- "Tobren Forgewright "
evt.global[444] = function()
	evt.SetMessage{Str = 444}         --[[ "Tobren Forgewright assisted the city of Ravenshore in the First Pirate War.
Her forge glowed for four weeks straight as she made chain armor for the defenders of Ravenshore.
She still teaches Expert use of the armor from her home in the seaside port of Ravenshore." ]]
	evt.Set{"AutonotesBits", Value = 119}         -- "Tobren Forgewright the Expert Chain teacher lives in the seaside port of Ravenshore."
end

-- "Halian Eversmyle"
evt.global[445] = function()
	evt.SetMessage{Str = 445}         --[[ "Halian Eversmyle learned all the skills he could from the Grand Master of Chain armor and then fled to the city of Alvar where he teaches Mastery of this armor to the Merchants of Alvar.
He will instruct you to Mastery as well." ]]
	evt.Set{"AutonotesBits", Value = 120}         -- "Master Chain instructor, Halian Eversmyle, can be found in the city of Alvar."
end

-- "Seline Burnkindle"
evt.global[446] = function()
	evt.SetMessage{Str = 446}         --[[ "Grand Master Seline Burnkindle teaches ways of using chain armor to its greatest advantage.
She lives among the Pirates of Regna." ]]
	evt.Set{"AutonotesBits", Value = 121}         -- "Grand Master of Chain, Seline Burnkindle, teaches from her home on the island of Renga."
end

-- "Bone"
evt.global[447] = function()
	evt.SetMessage{Str = 447}         -- "Bone teaches the Expert skills of Plate armor from his hut on Dagger Wound Island."
	evt.Set{"AutonotesBits", Value = 122}         -- "Bone teaches Expert Plate armor use from his hut on the Dagger Wound Islands."
end

-- "Botham"
evt.global[448] = function()
	evt.SetMessage{Str = 448}         --[[ "Master Botham was one of the finest warriors in the First Pirate War.
Ravenshore owes him a debt of gratitude.
Botham and his fellow swordsman led the charge against the first wave of Regnans.
Their Plate armor deflected all but the most serious blows.
He still teaches Mastery of Plate armor from his home." ]]
	evt.Set{"AutonotesBits", Value = 123}         -- "The Master Plate instructor, Botham, lives in the city of Ravenshore. "
end

-- "Seth Ironfist"
evt.global[449] = function()
	evt.SetMessage{Str = 449}         --[[ "Seth Ironfist, Grand Master of Plate Armor, is the true force behind Charles Quixote's crusade against the Dragons of Garrote Gorge.
Without his instruction in the use of Plate armor, Quixote's knights would be mere fodder before the wrath Redreaver's Dragons." ]]
	evt.Set{"AutonotesBits", Value = 124}         -- "Seth Ironfist, Grand Master of Plate Armor teaches in the Dragon Hunter's Camp in Garrote Gorge."
end

-- "Taren Temper"
evt.global[450] = function()
	evt.SetMessage{Str = 450}         --[[ "Taren Temper, fled Erathia to make a new life for himself among those who know nothing of the Temper history.
He teaches Expert skills in Fire Magic from his home in Ravenshore." ]]
	evt.Set{"AutonotesBits", Value = 125}         -- "Taren Temper teaches Expert Fire Magic from his home in Ravenshore."
end

-- "Solomon Steele"
evt.global[451] = function()
	evt.SetMessage{Str = 451}         --[[ "Solomon Steele, Master of Fire, lives in the tranquil city of Alvar.
He can teach you Mastery of Fire Magic." ]]
	evt.Set{"AutonotesBits", Value = 126}         -- "Solomon Steele, Master instructor of Fire Magic, lives in the tranquil city of Alvar."
end

-- "Burn"
evt.global[452] = function()
	evt.SetMessage{Str = 452}         --[[ "Burn, Grand Master of Fire dwells in the oppressive heat of the Plane of Fire.
Perhaps the Gate of Fire that has appeared in the Ironsand Desert will lead you to him.
He can instruct you in Grand Mastery of Fire Magic.
" ]]
	evt.Set{"AutonotesBits", Value = 127}         -- "Burn, Grand Master of Fire Magic dwells in the oppressive heat of the Plane of Fire.  "
end

-- "Reshie"
evt.global[453] = function()
	evt.SetMessage{Str = 453}         -- "Reshie teaches the Expert skill of Air Magic from his home on the Dagger Wound Islands."
	evt.Set{"AutonotesBits", Value = 128}         -- "Reshie teaches the Expert skill of Air Magic from his home on the Dagger Wound Islands."
end

-- "Hollis Stormeye"
evt.global[454] = function()
	evt.SetMessage{Str = 454}         --[[ "Hollis Stormeye, Master of Air, made her home in Balthazar Lair, home of the Minotaurs.
" ]]
	evt.Set{"AutonotesBits", Value = 129}         -- "Hollis Stormeye, Master Air Magic teacher, makes her home in Balthazar Lair located in Ravage Roaming.  "
end

-- "Cloud Nedlon"
evt.global[455] = function()
	evt.SetMessage{Str = 455}         --[[ "Cloud Nedlon sought to make a deal with the Lords of Air.
He left to find a way into the Plane of Air, where he thought he would learn all that remained unclear to him about the ways of Air Magic.
You will have to travel to the Plane of Air to see if he was successful." ]]
	evt.Set{"AutonotesBits", Value = 130}         -- "Cloud Nedlon, the Grand Master of Air may be found on the Plane of Air."
end

-- "Ulbrecht Pederton"
evt.global[456] = function()
	evt.SetMessage{Str = 456}         --[[ "Ulbrecht Pederton single handedly stopped the Second Pirate War.
He charged down the beach to come to Ravenshore's defense as the pirates began to land.
He manipulated the sea itself and forced the Regnan fleet back into the ocean.
Unfortunately this effort cost him the ability to use magic altogether.
He still, however, teaches the knowledge of Expert Water Magic.
He lives in Ravenshore to this day." ]]
	evt.Set{"AutonotesBits", Value = 131}         -- "Ulbrecht Pederton, Expert teacher of Water Magic lives in Ravenshore city."
end

-- "Gregory Mist"
evt.global[457] = function()
	evt.SetMessage{Str = 457}         --[[ "Gregory Mist, Master of Water, makes his home in the village of Rust in the Ironsand Desert.
He claims to have a plan to use his magic to change the hot desert into a verdant green plain.
If he has the time, he can teach you Mastery of Water Magic." ]]
	evt.Set{"AutonotesBits", Value = 132}         -- "Gregory Mist, Master teacher of Water Magic, makes his home in the village of Rust in the Ironsand Desert."
end

-- "Black Current"
evt.global[458] = function()
	evt.SetMessage{Str = 458}         --[[ "Black Current was once a powerful mage in this region.
Her ambition for power outgrew her caution and she attempted to conquer the Plane of Water.
She summoned a gate to the plane and stepped through.
She was never heard from again.
She was the Grand Master of Water Magic.
If she still lives you may find her in the Plane of Water." ]]
	evt.Set{"AutonotesBits", Value = 133}         -- "Black Current, the Grand Master teacher of Water Magic may be found on the Plane of Water."
end

-- "Ostrin Grivic"
evt.global[459] = function()
	evt.SetMessage{Str = 459}         -- "Ostrin Grivic, Expert instructor of Earth Magic, lives in the village of Blood Drop on the Dagger Wound Islands."
	evt.Set{"AutonotesBits", Value = 134}         -- "Ostrin Grivic, Expert instructor of Earth Magic, lives in the village of Blood Drop on the Dagger Wound Islands."
end

-- "Dorothy Sablewood"
evt.global[460] = function()
	evt.SetMessage{Str = 460}         --[[ "Earth Magic Master Dorothy Sablewood helped end the First Pirate War.
With the aid of an unknown Air Mage, she erected walls of clay to keep the Regnan Pirates from leaving their boats.
She now teaches her skills from her home in Alvar." ]]
	evt.Set{"AutonotesBits", Value = 135}         -- "The Master teacher of Earth Magic, Dorothy Sablewood, lives in the city of Alvar."
end

-- "Griven"
evt.global[461] = function()
	evt.SetMessage{Str = 461}         --[[ "Grand Master Griven passed into the Plane of Earth after teaching his final lesson to Dorothy Sablewood.
Perhaps he lives there to this day.
Who knows what transpires in an elemental plane?" ]]
	evt.Set{"AutonotesBits", Value = 136}         -- "The Grand Master instructor of Air Magic, Griven, may be found on the Plane of Air. "
end

-- "Straton Hawthorne"
evt.global[462] = function()
	evt.SetMessage{Str = 462}         -- "Straton Hawthorne can raise you to Expert level in the arts of Spirit Magic. He makes his home in the port city of Ravenshore."
	evt.Set{"AutonotesBits", Value = 137}         -- "Straton Hawthorne can raise you to Expert level in the arts of Spirit Magic. He makes his home in the port city of Ravenshore."
end

-- "Bethold Kern"
evt.global[463] = function()
	evt.SetMessage{Str = 463}         --[[ "Master Bethold Kern, serves the knight Charles Quixote in his crusade against the Dragons of the Garrote Gorge region.
Search him out there at the Dragon Hunter's Camp.
If you are lucky, he will have time to instruct you in Mastery of Spirit Magic." ]]
	evt.Set{"AutonotesBits", Value = 138}         -- "Spirit Magic Master instructor, Bethold Kern, can be found in the Garrote Gorge Dragon Hunter's Camp."
end

-- "Lasiter Ravensight"
evt.global[464] = function()
	evt.SetMessage{Str = 464}         --[[ "Lasiter Ravensight, is the Grand Master of Spirit Magic.
He lives in the Murmurwoods close to the Temple of the Sun, where he continues his studies in to the essence of Spirit.
He can raise your skill in Spirit Magic to Grand Mastery." ]]
	evt.Set{"AutonotesBits", Value = 139}         -- "Lasiter Ravensight, is the Grand Master teacher of Spirit Magic.  He lives in the Murmurwoods close to the Temple of the Sun."
end

-- "Shane Krewlen "
evt.global[465] = function()
	evt.SetMessage{Str = 465}         --[[ "Shane Krewlen, student of Mind Magic, can instruct you in the Expert skills of this arcane magic.
Seek him out in the Dark Elf city of Alvar." ]]
	evt.Set{"AutonotesBits", Value = 140}         -- "Shane Krewlen, Expert instructor of Mind Magic, lives in the Dark Elf city of Alvar."
end

-- "Barthine Lotts"
evt.global[466] = function()
	evt.SetMessage{Str = 466}         --[[ "Barthine Lotts, Master of Mind Magic, dwells in the Minotaur city of Balthazar Lair in the Ravage Roaming region.
Through her instruction can gain Mastery of Mind Magic." ]]
	evt.Set{"AutonotesBits", Value = 141}         -- "Barthine Lotts, Master of Mind Magic, dwells in the Minotaur city of Balthazar Lair in the Ravage Roaming region."
end

-- "Gilad Dreamwright"
evt.global[467] = function()
	evt.SetMessage{Str = 467}         --[[ "Gilad Dreamwright, Grand Master of Mind Magic, has joined many other Grand Masters of Magic in the Murmurwoods region.
Here they work with the Temple of the Sun to further their combined skills and knowledge.
Gilad can instruct you to Grand Master skill level in Mind Magic." ]]
	evt.Set{"AutonotesBits", Value = 142}         -- "Gilad Dreamwright, Grand Master of Mind Magic, lives in Murmurwoods near the Temple of the Sun."
end

-- "Zevah Poised"
evt.global[468] = function()
	evt.SetMessage{Str = 468}         -- "Zevah Poised, Expert instructor of the arcane skills of Body Magic, lives with his people on the Islands of Dagger Wound in the Ifarine Sea."
	evt.Set{"AutonotesBits", Value = 143}         -- "Zevah Poised, Expert instructor of Body Magic, lives with his people on the Islands of Dagger Wound."
end

-- "Tugor Arin"
evt.global[469] = function()
	evt.SetMessage{Str = 469}         --[[ "Tugor Arin, Master of Body Magic, practices his healing skills in the service of the knight Charles Quixote in the Garrote Gorge region.
His skills in Body Magic are put to good use healing the unfortunate young knights who are wounded in the crusade against the Dragons of Garrote Gorge." ]]
	evt.Set{"AutonotesBits", Value = 144}         -- "Tugor Arin, Master of Body Magic can be found in the Garrote Gorge Dragon Hunter's Camp."
end

-- "Critias Snowtree"
evt.global[470] = function()
	evt.SetMessage{Str = 470}         --[[ "Grand Master Critias Snowtree, dwells in the peace of the Murmurwoods forest away from the trials and troubles of the world.
Only he can instruct you in the ways of Body Magic and raise you to Grand Mastery of this arcane skill." ]]
	evt.Set{"AutonotesBits", Value = 145}         -- "Grand Master of Body Magic, Critias Snowtree, dwells in the Murmurwoods forest."
end

-- "Archibald Dawnsglow"
evt.global[471] = function()
	evt.SetMessage{Str = 471}         --[[ "Archibald Dawnsglow, Expert instructor of Light Magic, practices his arts in the city of Ravenshore on the Ifarine Sea.
His parents gave his name not knowing that it was the same name as the leader of the Erathian Necromancers' Guild.
Archibald desires to have his own name made in the Light, not in the darkness of his namesake." ]]
	evt.Set{"AutonotesBits", Value = 146}         -- "Archibald Dawnsglow, Expert instructor of Light Magic, practices his arts in the city of Ravenshore."
end

-- "Lunius Dawnbringer"
evt.global[472] = function()
	evt.SetMessage{Str = 472}         -- "Master Lunius Dawnbringer, dwells among the the Clerics of Murmurwoods.He can promote you to Master of Light Magic, if you can survive the dangers of the forest."
	evt.Set{"AutonotesBits", Value = 147}         -- "Master Light Magic teacher, Lunius Dawnbringer, dwells near the Temple of the Sun in the Murmurwoods."
end

-- "Aldrin Cleareye"
evt.global[473] = function()
	evt.SetMessage{Str = 473}         --[[ "Aldrin Cleareye, Grand Master of the Light, makes his home on the island of Regna.
He hopes to bring an end to the Pirates evil ways.
He can instruct you to Grand Masterey, if you survive the Pirates." ]]
	evt.Set{"AutonotesBits", Value = 148}         -- "Aldrin Cleareye, Grand Master of the Light, lives on the island of Regna."
end

-- "Patwin Darkenmore"
evt.global[474] = function()
	evt.SetMessage{Str = 474}         --[[ "Patwin Darkenmore, Expert teacher of the ways of Dark Magic, lives among the Dark Elves of Alvar.
" ]]
	evt.Set{"AutonotesBits", Value = 149}         -- "Patwin Darkenmore, Expert teacher of the ways of Dark Magic, lives among the Dark Elves of Alvar.  "
end

-- "Carla Umberpool"
evt.global[475] = function()
	evt.SetMessage{Str = 475}         -- "Dark Magic Master Carla Umberpool followed the travels of Sithicus Shadowrunner, Grand Master of the Dark, and makes her home with the Necromancers of Shadowspire."
	evt.Set{"AutonotesBits", Value = 150}         -- "Dark Magic Master Carla Umberpool has a home in the village of Twilight at the base of the Shadowspire."
end

-- "Sithicus Shadowrunner"
evt.global[476] = function()
	evt.SetMessage{Str = 476}         --[[ "Sithicus Shadowrunner, Grand Master of the art of Dark Magic, and has established a home on the Island of Regna.
Here the pirate captains get her blessing on the ships before a raid.
She can instruct you in Grand Mastery of Dark Magic." ]]
	evt.Set{"AutonotesBits", Value = 151}         -- "Sithicus Shadowrunner, the Grand Master Dark Magic instructor, lives on the island of Regna."
end

-- "Kyra Sparkmen"
evt.global[477] = function()
	evt.SetMessage{Str = 477}         --[[ "Kyra Sparkmen, Expert teacher of the Identify Item skill, lives in the city of Alvar.
" ]]
	evt.Set{"AutonotesBits", Value = 161}         -- "Kyra Sparkmen, Expert teacher of the Identify Item skill, lives in the city of Alvar.  "
end

-- "Eithian"
evt.global[478] = function()
	evt.SetMessage{Str = 478}         --[[ "Eithian, Master instructor of the Identify Item skill, serves the Merchants of Alvar, and currently lives on the Dagger Wound Islands. Many travelers bring their prizes to Eithian for identification.
He may have to time to instruct you to Mastery of this skill if you travel to him." ]]
	evt.Set{"AutonotesBits", Value = 162}         -- "Eithian, Master instructor of the Identify Item skill, lives on the Dagger Wound Islands."
end

-- "Elzbet Roggen"
evt.global[479] = function()
	evt.SetMessage{Str = 479}         --[[ "Elzbet Roggen, Grand Master of the Identify Item skill, lives in the Shadowspire city of Twilight.
She can teach you what is needed to achieve Grand Mastery." ]]
	evt.Set{"AutonotesBits", Value = 163}         -- "Elzbet Roggen, Grand Master of the Identify Item skill, lives in the Shadowspire city of Twilight."
end

-- "Fishner Thomb"
evt.global[480] = function()
	evt.SetMessage{Str = 480}         --[[ "Fishner Thomb, retired from service with the Merchants of Alvar and returned to his home Island of Dagger Wound in the Ifarine Sea.
Seek him out there for his teachings in the Expert way of being a Merchant." ]]
	evt.Set{"AutonotesBits", Value = 164}         -- "Fishner Thomb Expert Merchant instructor makes his home on the Islands of Dagger Wound."
end

-- "Fenton Iverson"
evt.global[481] = function()
	evt.SetMessage{Str = 481}         --[[ "Fenton Iverson, Master Merchant of Alvar, tests all who wish to advanced with the skills of a Merchant.
You will find Fenton in the merchant city of Alvar, where he can instruct you to Mastery of the Merchant skill." ]]
	evt.Set{"AutonotesBits", Value = 165}         -- "Fenton Iverson, Master Merchant instructor, lives in the merchant city of Alvar."
end

-- "Raven Quicktoungue"
evt.global[482] = function()
	evt.SetMessage{Str = 482}         --[[ "Raven Quicktoungue, Grand Master Merchant of Alvar, dwells in the city of Ravenshore.
There, Raven can watch the interaction of numerous races as the trade with each other.
Only he can raise your knowledge to Grand Mastery of the merchant skill." ]]
	evt.Set{"AutonotesBits", Value = 166}         -- "Raven Quicktoungue, Grand Master Merchant instructor, dwells in the city of Ravenshore."
end

-- "Evandar Lotts "
evt.global[483] = function()
	evt.SetMessage{Str = 483}         --[[ "Evandar Lotts teaches the Expert skills of Repairing Items.
He dwells in the seaside city of Ravenshore." ]]
	evt.Set{"AutonotesBits", Value = 167}         -- "Evandar Lotts teaches the Expert skills of Repairing Items.  He dwells in the seaside city of Ravenshore."
end

-- "Quick Jeni"
evt.global[484] = function()
	evt.SetMessage{Str = 484}         -- "Quick Jeni, is the Master of the Repair Item skill. She lives in the village around the Dargon Hunter's Fort in Garrote Gorge."
	evt.Set{"AutonotesBits", Value = 168}         -- "Quick Jeni, is the Master of the Repair Item skill. She lives in the village around the Dragon Hunter's Fort in Garrote Gorge."
end

-- "Quethrin Tonk"
evt.global[485] = function()
	evt.SetMessage{Str = 485}         --[[ "Quethrin Tonk, Grand Master of the Repair Item skill, dwells in the tranquil Murmurwoods.
His skills have proven invaluable to the Temple of the Sun." ]]
	evt.Set{"AutonotesBits", Value = 169}         -- "Quethrin Tonk, Grand Master of the Repair Item skill, dwells in Murmurwoods."
end

-- "Menasaur"
evt.global[486] = function()
	evt.SetMessage{Str = 486}         -- "Menasaur, the strongest Lizardmen on the Dagger Wound Islands, is the Expert instructor of the Body Building skill. "
	evt.Set{"AutonotesBits", Value = 170}         -- "Menasaur, lives on the Dagger Wound Islands. He is the Expert instructor of Body Building. "
end

-- "Kenneth Otterton"
evt.global[487] = function()
	evt.SetMessage{Str = 487}         --[[ "Kenneth Otterton, holds the title of Crusader, and serves under the knight Charles Quixote in Garrote Gorge.
Rumor has it that he wrestled a Dragon to the ground single-handedly.
Of course, other knights had to assist in the kill.
Kenneth also holds the title, Master Instructor of Body Building." ]]
	evt.Set{"AutonotesBits", Value = 171}         -- "Kenneth Otterton, the Master instructor of Body Building lives in the Dragon Hunter's Camp in Garrote Gorge."
end

-- "Mikel Smithson"
evt.global[488] = function()
	evt.SetMessage{Str = 488}         --[[ "Mikel Smithson, holds the title of Strongest in Jadame.
He is also the Grand Master of the Body Building skill.
Seek him out in the village of Rust in the Ironsand Desert if you wish to perfect the strength of your bodies." ]]
	evt.Set{"AutonotesBits", Value = 172}         -- "Mikel Smithson is the Grand Master of the Body Building skill.  Seek him out in the village of Rust in the Ironsand Desert."
end

-- "Alton Putnam"
evt.global[489] = function()
	evt.SetMessage{Str = 489}         --[[ "Alton Putnam, is an Expert in the art of Meditation.
He can instruct you if you seek him out in the seaside city of Ravenshore." ]]
	evt.Set{"AutonotesBits", Value = 173}         -- "Alton Putnam, is an Expert in the art of Meditation.  He can instruct you if you seek him out in the seaside city of Ravenshore."
end

-- "Gretchin Nevermore"
evt.global[490] = function()
	evt.SetMessage{Str = 490}         -- "Gretchin Nevermore, instructs all Clerics of the Sun the Master arts of Meditation. He dwells in the Murmurwoods near the Temple of the Sun."
	evt.Set{"AutonotesBits", Value = 174}         -- "Gretchin Nevermore, the teacher of Master Meditation, dwells in the merchant city of Alvar."
end

-- "Lenord Nightcrawler"
evt.global[491] = function()
	evt.SetMessage{Str = 491}         --[[ "Lenord Nightcrawler, Grand Master of Meditation, serves as one of the foremost members of the Necromancers' Guild of Shadowspire.
He instructs all necromancers in the art of Meditation from his home in the village of Twilight." ]]
	evt.Set{"AutonotesBits", Value = 175}         -- "Lenord Nightcrawler, Grand Master of Meditation, teaches from his home in the village of Twilight."
end

-- "Silk Nightwalker"
evt.global[492] = function()
	evt.SetMessage{Str = 492}         --[[ "Silk Nightwalker, Expert teacher of the Perception skill, makes his home in the Dark Elf city of Alvar.
Instructing the Merchants of Alvar in the skills needed to detect that which is supposed to remain secret occupies most of his time, however him may take the time to instruct you if luck is with you." ]]
	evt.Set{"AutonotesBits", Value = 176}         -- "Silk Nightwalker, Expert teacher of the Perception skill, makes his home in the Dark Elf city of Alvar."
end

-- "Helga Steeleye"
evt.global[493] = function()
	evt.SetMessage{Str = 493}         --[[ "Helga Steeleye, lives among the necromancers of Shadowspire in the village of Twilight.
The Necromancers' Guild is thankful for her Master level instructions in the skill of Perception." ]]
	evt.Set{"AutonotesBits", Value = 177}         -- "Helga Steeleye, teacher of Master Perception, lives in the Shadowspire city of Twilight."
end

-- "Balan Suretrail"
evt.global[494] = function()
	evt.SetMessage{Str = 494}         --[[ "Grand Master Balan Suretrail lives in the Minotaur city of Balthazar Lair.
To gain his instruction in the skill of Perception, you must seek him out in Ravage Roaming." ]]
	evt.Set{"AutonotesBits", Value = 178}         -- "Grand Master instructor of Perception, Balan Suretrail lives in the Minotaur city of Balthazar Lair."
end

-- "Kethric Tarent"
evt.global[495] = function()
	evt.SetMessage{Str = 495}         -- "Kethric Tarent, teaches the Expert knowledge of Regeneration from his home in the Ironsand Desert, in the village of Rust."
	evt.Set{"AutonotesBits", Value = 179}         -- "Kethric Tarent, teaches Expert Regeneration from his home in the Ironsand Desert village of Rust."
end

-- "William Sampson"
evt.global[496] = function()
	evt.SetMessage{Str = 496}         --[[ "William Sampson, Master of Regeneration, lives in the peace of the Murmurwoods.
He uses the libraries of the Temple of the Sun to further his knowledge of Trollish history." ]]
	evt.Set{"AutonotesBits", Value = 180}         -- "William Sampson, Master Regeneration instructor, lives in Murmurwoods."
end

-- "Ush the Many Tailed"
evt.global[497] = function()
	evt.SetMessage{Str = 497}         --[[ "Ush the Many Tailed, Grand Master of Regeneration and legendary warrior, lives among his people on Dagger Wound Island.
Legends say he has lost his tail thirteen times in battle against the Regnan Pirates, and each time he has grown a new tail!" ]]
	evt.Set{"AutonotesBits", Value = 181}         -- "Ush the Many Tailed, Grand Master Regeneration teacher, lives among his people on the Dagger Wound Islands."
end

-- "Chevon Wist"
evt.global[498] = function()
	evt.SetMessage{Str = 498}         -- "Chevon Wist, teaches the Expert knowledge of the Disarm Trap skill, which has proven useful to those who explore the ruined temples near his home on the Dagger Wound Islands."
	evt.Set{"AutonotesBits", Value = 182}         -- "Chevon Wist, teaches Expert Disarm Trap from his home on the Dagger Wound Islands."
end

-- "Kelli Lightfingers"
evt.global[499] = function()
	evt.SetMessage{Str = 499}         --[[ "Kelli Lightfingers, Master of Disarming Traps, has retired to her home in the merchant city of Alvar.
There she still teaches young merchants the skills of trapping and disarming chests.
If you are worthy she can raise your Disarm Trap skills to that of a Master." ]]
	evt.Set{"AutonotesBits", Value = 183}         -- "Kelli Lightfingers, Master of Disarming Traps, teaches from her home in the city of Alvar."
end

-- "Gareth Lifter"
evt.global[500] = function()
	evt.SetMessage{Str = 500}         -- "Gareth Lifter, Grand Master of Disarming Traps, lives on the opulent island of Regna, where he teaches his fellow pirates in the best way to trap their chests of stolen booty."
	evt.Set{"AutonotesBits", Value = 184}         -- "Gareth Lifter, Grand Master of Disarming Traps, teaches from his home on the island of Regna."
end

-- "Tessa Maker"
evt.global[507] = function()
	evt.SetMessage{Str = 507}         --[[ "Tessa Maker, Expert in Monster Identification, seeks to improve her skills by cataloging the different Dragons of Garrote Gorge.
She is currently in the service of the knight, Charles Quixote." ]]
	evt.Set{"AutonotesBits", Value = 191}         -- "Tessa Maker, Expert in Monster Identification, lives in the Garrote Gorge Dragon Hunter's Camp."
end

-- "Matric Keenedge"
evt.global[508] = function()
	evt.SetMessage{Str = 508}         --[[ "Matric Keenedge, Master of the skill of Identify Monster, is currently studying the creatures of the Murmurwoods.
If you seek Mastery of this skill you need to seek him out there." ]]
	evt.Set{"AutonotesBits", Value = 192}         -- "Matric Keenedge, Master Identify Monster teacher, can be found in Murmurwoods."
end

-- "Blacken Stonecleaver"
evt.global[509] = function()
	evt.SetMessage{Str = 509}         --[[ "Blacken Stonecleaver, Grand Master of Monster Identification, has seen every creature on the continent of Jadame.
He can teach you his knowledge if you find his home in the city of Ravenshore." ]]
	evt.Set{"AutonotesBits", Value = 193}         -- "Blacken Stonecleaver, Grand Master of Monster Identification, teaches his skill from his home in the city of Ravenshore."
end

-- "Norbert Slayer"
evt.global[510] = function()
	evt.SetMessage{Str = 510}         --[[ "Knight Norbert Slayer, instructs all of Charles Quixote's knights in the Expert forms of
Armsmastery.
If you travel to Garrote Gorge, you can attend one of his teachings." ]]
	evt.Set{"AutonotesBits", Value = 194}         -- "Knight Norbert Slayer, Expert Armsmaster instructor, lives in the Garrote Gorge Dragon Hunter's Camp."
end

-- "Lasatin the Scarred"
evt.global[511] = function()
	evt.SetMessage{Str = 511}         -- "Lasatin the Scarred, Master of the Armsmaster skill, lives on the Islands of Dagger Wound."
	evt.Set{"AutonotesBits", Value = 195}         -- "Lasatin the Scarred, Master teacher of the Armsmaster skill, lives on the Islands of Dagger Wound."
end

-- "Jasper Steelcoif"
evt.global[512] = function()
	evt.SetMessage{Str = 512}         --[[ "Jasper Steelcoif, Grand Master of the Armsmaster skill, is one of the leaders of the Regnan Pirate Council.
He instructs all pirates in the use of weapons.
If you are brave enough to travel to Regna--and survive his instruction--you too, will have Grand Mastery of this skill." ]]
	evt.Set{"AutonotesBits", Value = 196}         -- "Jasper Steelcoif, Grand Master teacher of the Armsmaster skill, can be found on Regna Island."
end

-- "Tabitha Watershed"
evt.global[516] = function()
	evt.SetMessage{Str = 516}         -- "Tabitha Watershed, Expert Alchemist, teaches the skills of potions and poultices from her home in the merchant city of Alvar."
	evt.Set{"AutonotesBits", Value = 200}         -- "Tabitha Watershed, Expert Alchemy instructor, teaches from her home in the merchant city of Alvar."
end

-- "Kethry Treasurestone"
evt.global[517] = function()
	evt.SetMessage{Str = 517}         -- "Kethry Treasurestone, Master Alchemist, lives in the Murmurwoods, studying plants and mushrooms that grow in that peaceful forest."
	evt.Set{"AutonotesBits", Value = 201}         -- "Kethry Treasurestone, Master Alchemy teacher, lives in the Murmurwoods region."
end

-- "Ich"
evt.global[518] = function()
	evt.SetMessage{Str = 518}         --[[ "Ich, Grand Master of Alchemy, has studied the art of brewing for decades.
He knows all there is to know about blending reagents into beneficial and harmful potions.
Seek out his home in the lush jungles of the Dagger Wound Islands." ]]
	evt.Set{"AutonotesBits", Value = 202}         -- "Ich, Grand Master of Alchemy, teaches from his home in the lush jungles of the Dagger Wound Islands."
end

-- "Petra Mithrit"
evt.global[519] = function()
	evt.SetMessage{Str = 519}         -- "Petra Mithrit, Expert in the skill of Learning, dwells near the Temple of the Sun in the Murmurwoods."
	evt.Set{"AutonotesBits", Value = 203}         -- "Petra Mithrit, Expert teacher of the Learning skill, dwells near the Temple of the Sun in the Murmurwoods."
end

-- "Garret Mistspring"
evt.global[520] = function()
	evt.SetMessage{Str = 520}         --[[ "Garret Mistspring, Master of Learning, instructs all students of necromancy in the art of Learning.
For this the Necromancers' Guild rewards him well.
His home is in the hamlet of Twilight at the base of the Shadowspire." ]]
	evt.Set{"AutonotesBits", Value = 204}         -- "Garret Mistspring, Master of Learning, instructs students from his home is in the Shadowspire city of Twilight."
end

-- "Wanda Lightsworn"
evt.global[521] = function()
	evt.SetMessage{Str = 521}         --[[ "Wanda Lightsworn, Grand Master of Learning, is in the hire of Charles Quixote, and instructs all of his knights in the skills of Learning.
It is the hope of Charles Quixote that this will give his forces and edge in battle against the Dragons of Garrote Gorge." ]]
	evt.Set{"AutonotesBits", Value = 205}         -- "Wanda Lightsworn, Grand Master of Learning, lives in the Garrote Gorge Dragon Hunter's Camp."
end

-- "Flynn Shador"
evt.global[522] = function()
	evt.SetMessage{Str = 522}         --[[ "Flynn Shador, Expert Vampire, lives in the city of Twilight, serving as eyes and a safe house for any Vampires that travel to that region.
He can instruct you in the Expert abilities of a Vampire." ]]
	evt.Set{"AutonotesBits", Value = 155}         -- "Flynn Shador, Expert Vampire ability instructor, lives in the Shadowspire city of Twilight."
end

-- "Douglas Dirthmoore"
evt.global[523] = function()
	evt.SetMessage{Str = 523}         --[[ "Douglas Dirthmoore, Master Vampire, will teach any whose skills measure up to his standards.
Once he is done with you, you will have Mastered the abilities native to all Vampires.
His home is in the Shadowspire village of Twilight." ]]
	evt.Set{"AutonotesBits", Value = 156}         -- "Douglas Dirthmoore, Master Vampire ability instructor, makes his home in the Shadowspire city of Twilight."
end

-- "Payge Arachnia"
evt.global[524] = function()
	evt.SetMessage{Str = 524}         --[[ "Though no one knows for sure, Payge Arachnia, Grand Master Vampire, is rumored to be the first Vampire on the continent of Jadame. She knows all there is to be known about living as a Vampire and can teach you the Grand Master abilities she possesses.
Seek out her lair in Shadowspire." ]]
	evt.Set{"AutonotesBits", Value = 157}         -- "Payge Arachnia, Grand Master Vampire ability instructor, lives in her lair located in Shadowspire."
end

-- "Fedwin Dervish"
evt.global[525] = function()
	evt.SetMessage{Str = 525}         --[[ "Fedwin Dervish, can instruct you in the Expert ways of the Dark Elf.
Once you have learned from him, you will have begun a great journey to becoming a leader of your people.
Search him out in the Dark Elf city of Alvar." ]]
	evt.Set{"AutonotesBits", Value = 152}         -- "Fedwin Dervish, can instruct you in the Expert ways of the Dark Elf ability. Search him out in the Dark Elf city of Alvar."
end

-- "Lanshee Caverhill"
evt.global[526] = function()
	evt.SetMessage{Str = 526}         --[[ "Lanshee Caverhill, Master Merchant of Alvar currently lives in the seaside port of Ravenshore.
She knows all about Mastering the natural abilities all Dark Elves have." ]]
	evt.Set{"AutonotesBits", Value = 153}         -- "Lanshee Caverhill lives in the seaside port of Ravenshore.  She teaches the Master skills of the Dark Elf ability."
end

-- "Ton Agraynel"
evt.global[527] = function()
	evt.SetMessage{Str = 527}         --[[ "Ton Agraynel, Master Merchant of Alvar, can instruct you in the Grand Master skills of a Dark Elf.
You will have to prove yourself worthy of his instruction, but the benefits are well worth the effort." ]]
	evt.Set{"AutonotesBits", Value = 154}         -- "Ton Agraynel can instruct you in the Grand Master skills of a Dark Elf.  He lives in the city of Alvar."
end

-- "Ishton"
evt.global[528] = function()
	evt.SetMessage{Str = 528}         --[[ "Ishton, Junior Flight Leader of the Dragons of Garrote Gorge, instructs all young Dragons to an Expert skill level with their racial Dragon abilities.
He dwells here, in the Dragon Caves of Garrote Gorge." ]]
	evt.Set{"AutonotesBits", Value = 158}         -- "Ishton instructs Dragons to an Expert skill level with their racial Dragon abilities.  He dwells in the Dragon Caves of Garrote Gorge."
end

-- "Erthint"
evt.global[529] = function()
	evt.SetMessage{Str = 529}         -- "Master Dragon Erthint is the Flight Leader of all of the Dragons that serve under Deftclaw Redreaver, and can instruct a Dragon in Mastery of his natural Dragon abilities. Erthint lives in the Dragon Caves of Garrote Gorge."
	evt.Set{"AutonotesBits", Value = 159}         -- "Master Dragon ability instructor, Erthint, lives in the Dragon Caves of Garrote Gorge."
end

-- "Klain Scarwing"
evt.global[530] = function()
	evt.SetMessage{Str = 530}         --[[ "Klain Scarwing, is second in strength only to Deftclaw Redreaver himself.
Klain holds the title of Grand Master Dragon and instructs all Dragons in the use of their natural abilities.
See him if you wish to attain Grand Master status.
He dwells here in the Dragon Caves of Garrote Gorge." ]]
	evt.Set{"AutonotesBits", Value = 160}         -- "Klain, the Grand Master Dragon ability instructor dwells in the Dragon Caves of Garrote Gorge."
end

-- "Haste Pedestal"
evt.global[531] = function()
	evt.CastSpell{Spell = 5, Mastery = const.GM, Skill = 5, FromX = 0, FromY = 0, FromZ = 0, ToX = 0, ToY = 0, ToZ = 0}         -- "Haste"
end

-- "Earth Resistance Pedestal"
evt.global[532] = function()
	evt.CastSpell{Spell = 36, Mastery = const.GM, Skill = 5, FromX = 0, FromY = 0, FromZ = 0, ToX = 0, ToY = 0, ToZ = 0}         -- "Earth Resistance"
end

-- "Day of the Gods Pedestal"
evt.global[533] = function()
	evt.CastSpell{Spell = 83, Mastery = const.GM, Skill = 5, FromX = 0, FromY = 0, FromZ = 0, ToX = 0, ToY = 0, ToZ = 0}         -- "Day of the Gods"
end

-- "Shield Pedestal"
evt.global[534] = function()
	evt.CastSpell{Spell = 17, Mastery = const.GM, Skill = 5, FromX = 0, FromY = 0, FromZ = 0, ToX = 0, ToY = 0, ToZ = 0}         -- "Shield"
end

-- "Water Resistance Pedestal"
evt.global[535] = function()
	evt.CastSpell{Spell = 25, Mastery = const.GM, Skill = 5, FromX = 0, FromY = 0, FromZ = 0, ToX = 0, ToY = 0, ToZ = 0}         -- "Water Resistance"
end

-- "Fire Resistance Pedestal"
evt.global[536] = function()
	evt.CastSpell{Spell = 3, Mastery = const.GM, Skill = 5, FromX = 0, FromY = 0, FromZ = 0, ToX = 0, ToY = 0, ToZ = 0}         -- "Fire Resistance"
end

-- "Heroism Pedestal"
evt.global[537] = function()
	evt.CastSpell{Spell = 51, Mastery = const.GM, Skill = 5, FromX = 0, FromY = 0, FromZ = 0, ToX = 0, ToY = 0, ToZ = 0}         -- "Heroism"
end

-- "Immolation Pedestal"
evt.global[538] = function()
	evt.CastSpell{Spell = 8, Mastery = const.GM, Skill = 5, FromX = 0, FromY = 0, FromZ = 0, ToX = 0, ToY = 0, ToZ = 0}         -- "Immolation"
end

-- "Mind Resistance Pedestal"
evt.global[539] = function()
	evt.CastSpell{Spell = 58, Mastery = const.GM, Skill = 5, FromX = 0, FromY = 0, FromZ = 0, ToX = 0, ToY = 0, ToZ = 0}         -- "Mind Resistance"
end

-- "Body Resistance Pedestal"
evt.global[540] = function()
	evt.CastSpell{Spell = 69, Mastery = const.GM, Skill = 5, FromX = 0, FromY = 0, FromZ = 0, ToX = 0, ToY = 0, ToZ = 0}         -- "Body Resistance"
end

-- "Stone Skin Pedestal"
evt.global[541] = function()
	evt.CastSpell{Spell = 38, Mastery = const.GM, Skill = 5, FromX = 0, FromY = 0, FromZ = 0, ToX = 0, ToY = 0, ToZ = 0}         -- "Stone Skin"
end

-- "Air Resistance Pedestal"
evt.global[542] = function()
	evt.CastSpell{Spell = 14, Mastery = const.GM, Skill = 5, FromX = 0, FromY = 0, FromZ = 0, ToX = 0, ToY = 0, ToZ = 0}         -- "Air Resistance"
end

-- "Game of Might"
evt.global[543] = function()
	if evt.Cmp{"PlayerBits", Value = 31} then
		evt.StatusText{Str = 733}         -- "You have already won!"
	else
		if evt.Cmp{"CurrentMight", Value = 25} then
			evt.Add{"SkillPoints", Value = 3}
			evt.StatusText{Str = 734}         --[[ "You win!
+3 Skill Points" ]]
			evt.Add{"PlayerBits", Value = 31}
		else
			evt.StatusText{Str = 729}         -- "You have failed the game!"
		end
	end
end

-- "Game of Endurance"
evt.global[544] = function()
	if evt.Cmp{"PlayerBits", Value = 32} then
		evt.StatusText{Str = 733}         -- "You have already won!"
	else
		if evt.Cmp{"CurrentEndurance", Value = 25} then
			evt.Add{"SkillPoints", Value = 3}
			evt.StatusText{Str = 734}         --[[ "You win!
+3 Skill Points" ]]
			evt.Add{"PlayerBits", Value = 32}
		else
			evt.StatusText{Str = 729}         -- "You have failed the game!"
		end
	end
end

-- "Game of Intellect"
evt.global[545] = function()
	if evt.Cmp{"PlayerBits", Value = 33} then
		evt.StatusText{Str = 733}         -- "You have already won!"
	else
		if evt.Cmp{"CurrentIntellect", Value = 25} then
			evt.Add{"SkillPoints", Value = 3}
			evt.StatusText{Str = 734}         --[[ "You win!
+3 Skill Points" ]]
			evt.Add{"PlayerBits", Value = 33}
		else
			evt.StatusText{Str = 729}         -- "You have failed the game!"
		end
	end
end

-- "Game of Personality"
evt.global[546] = function()
	if evt.Cmp{"PlayerBits", Value = 34} then
		evt.StatusText{Str = 733}         -- "You have already won!"
	else
		if evt.Cmp{"CurrentPersonality", Value = 25} then
			evt.Add{"SkillPoints", Value = 3}
			evt.StatusText{Str = 734}         --[[ "You win!
+3 Skill Points" ]]
			evt.Add{"PlayerBits", Value = 34}
		else
			evt.StatusText{Str = 729}         -- "You have failed the game!"
		end
	end
end

-- "Game of Accuracy"
evt.global[547] = function()
	if evt.Cmp{"PlayerBits", Value = 35} then
		evt.StatusText{Str = 733}         -- "You have already won!"
	else
		if evt.Cmp{"CurrentAccuracy", Value = 25} then
			evt.Add{"SkillPoints", Value = 3}
			evt.StatusText{Str = 734}         --[[ "You win!
+3 Skill Points" ]]
			evt.Add{"PlayerBits", Value = 35}
		else
			evt.StatusText{Str = 729}         -- "You have failed the game!"
		end
	end
end

-- "Game of Speed"
evt.global[548] = function()
	if evt.Cmp{"PlayerBits", Value = 36} then
		evt.StatusText{Str = 733}         -- "You have already won!"
	else
		if evt.Cmp{"CurrentSpeed", Value = 25} then
			evt.Add{"SkillPoints", Value = 3}
			evt.StatusText{Str = 734}         --[[ "You win!
+3 Skill Points" ]]
			evt.Add{"PlayerBits", Value = 36}
		else
			evt.StatusText{Str = 729}         -- "You have failed the game!"
		end
	end
end

-- "Game of Luck"
evt.global[549] = function()
	if evt.Cmp{"PlayerBits", Value = 37} then
		evt.StatusText{Str = 733}         -- "You have already won!"
	else
		if evt.Cmp{"CurrentLuck", Value = 25} then
			evt.Add{"SkillPoints", Value = 3}
			evt.StatusText{Str = 734}         --[[ "You win!
+3 Skill Points" ]]
			evt.Add{"PlayerBits", Value = 37}
		else
			evt.StatusText{Str = 729}         -- "You have failed the game!"
		end
	end
end

-- "Contest of Might"
evt.global[550] = function()
	if evt.Cmp{"PlayerBits", Value = 38} then
		evt.StatusText{Str = 733}         -- "You have already won!"
	else
		if evt.Cmp{"CurrentMight", Value = 50} then
			evt.Add{"SkillPoints", Value = 5}
			evt.StatusText{Str = 735}         --[[ "You win!
+5 Skill Points" ]]
			evt.Add{"PlayerBits", Value = 38}
		else
			evt.StatusText{Str = 730}         -- "You have failed the contest!"
		end
	end
end

-- "Contest of Endurance"
evt.global[551] = function()
	if evt.Cmp{"PlayerBits", Value = 39} then
		evt.StatusText{Str = 733}         -- "You have already won!"
	else
		if evt.Cmp{"CurrentEndurance", Value = 50} then
			evt.Add{"SkillPoints", Value = 5}
			evt.StatusText{Str = 735}         --[[ "You win!
+5 Skill Points" ]]
			evt.Add{"PlayerBits", Value = 39}
		else
			evt.StatusText{Str = 730}         -- "You have failed the contest!"
		end
	end
end

-- "Contest of Intellect"
evt.global[552] = function()
	if evt.Cmp{"PlayerBits", Value = 40} then
		evt.StatusText{Str = 733}         -- "You have already won!"
	else
		if evt.Cmp{"CurrentIntellect", Value = 50} then
			evt.Add{"SkillPoints", Value = 5}
			evt.StatusText{Str = 735}         --[[ "You win!
+5 Skill Points" ]]
			evt.Add{"PlayerBits", Value = 40}
		else
			evt.StatusText{Str = 730}         -- "You have failed the contest!"
		end
	end
end

-- "Contest of Personality"
evt.global[553] = function()
	if evt.Cmp{"PlayerBits", Value = 41} then
		evt.StatusText{Str = 733}         -- "You have already won!"
	else
		if evt.Cmp{"CurrentPersonality", Value = 50} then
			evt.Add{"SkillPoints", Value = 5}
			evt.StatusText{Str = 735}         --[[ "You win!
+5 Skill Points" ]]
			evt.Add{"PlayerBits", Value = 41}
		else
			evt.StatusText{Str = 730}         -- "You have failed the contest!"
		end
	end
end

-- "Contest of Accuracy"
evt.global[554] = function()
	if evt.Cmp{"PlayerBits", Value = 42} then
		evt.StatusText{Str = 733}         -- "You have already won!"
	else
		if evt.Cmp{"CurrentAccuracy", Value = 50} then
			evt.Add{"SkillPoints", Value = 5}
			evt.StatusText{Str = 735}         --[[ "You win!
+5 Skill Points" ]]
			evt.Add{"PlayerBits", Value = 42}
		else
			evt.StatusText{Str = 730}         -- "You have failed the contest!"
		end
	end
end

-- "Contest of Speed"
evt.global[555] = function()
	if evt.Cmp{"PlayerBits", Value = 43} then
		evt.StatusText{Str = 733}         -- "You have already won!"
	else
		if evt.Cmp{"CurrentSpeed", Value = 50} then
			evt.Add{"SkillPoints", Value = 5}
			evt.StatusText{Str = 735}         --[[ "You win!
+5 Skill Points" ]]
			evt.Add{"PlayerBits", Value = 43}
		else
			evt.StatusText{Str = 730}         -- "You have failed the contest!"
		end
	end
end

-- "Contest of Luck"
evt.global[556] = function()
	if evt.Cmp{"PlayerBits", Value = 44} then
		evt.StatusText{Str = 733}         -- "You have already won!"
	else
		if evt.Cmp{"CurrentLuck", Value = 50} then
			evt.Add{"SkillPoints", Value = 5}
			evt.StatusText{Str = 735}         --[[ "You win!
+5 Skill Points" ]]
			evt.Add{"PlayerBits", Value = 44}
		else
			evt.StatusText{Str = 730}         -- "You have failed the contest!"
		end
	end
end

-- "Test of Might"
evt.global[557] = function()
	if evt.Cmp{"PlayerBits", Value = 45} then
		evt.StatusText{Str = 733}         -- "You have already won!"
	else
		if evt.Cmp{"CurrentMight", Value = 100} then
			evt.Add{"SkillPoints", Value = 7}
			evt.StatusText{Str = 736}         --[[ "You win!
+7 Skill Points" ]]
			evt.Add{"PlayerBits", Value = 45}
		else
			evt.StatusText{Str = 731}         -- "You have failed the test!"
		end
	end
end

-- "Test of Endurance"
evt.global[558] = function()
	if evt.Cmp{"PlayerBits", Value = 46} then
		evt.StatusText{Str = 733}         -- "You have already won!"
	else
		if evt.Cmp{"CurrentEndurance", Value = 100} then
			evt.Add{"SkillPoints", Value = 7}
			evt.StatusText{Str = 736}         --[[ "You win!
+7 Skill Points" ]]
			evt.Add{"PlayerBits", Value = 46}
		else
			evt.StatusText{Str = 731}         -- "You have failed the test!"
		end
	end
end

-- "Test of Intellect"
evt.global[559] = function()
	if evt.Cmp{"PlayerBits", Value = 47} then
		evt.StatusText{Str = 733}         -- "You have already won!"
	else
		if evt.Cmp{"CurrentIntellect", Value = 100} then
			evt.Add{"SkillPoints", Value = 7}
			evt.StatusText{Str = 736}         --[[ "You win!
+7 Skill Points" ]]
			evt.Add{"PlayerBits", Value = 47}
		else
			evt.StatusText{Str = 731}         -- "You have failed the test!"
		end
	end
end

-- "Test of Personality"
evt.global[560] = function()
	if evt.Cmp{"PlayerBits", Value = 48} then
		evt.StatusText{Str = 733}         -- "You have already won!"
	else
		if evt.Cmp{"CurrentPersonality", Value = 100} then
			evt.Add{"SkillPoints", Value = 7}
			evt.StatusText{Str = 736}         --[[ "You win!
+7 Skill Points" ]]
			evt.Add{"PlayerBits", Value = 48}
		else
			evt.StatusText{Str = 731}         -- "You have failed the test!"
		end
	end
end

-- "Test of Accuracy"
evt.global[561] = function()
	if evt.Cmp{"PlayerBits", Value = 49} then
		evt.StatusText{Str = 733}         -- "You have already won!"
	else
		if evt.Cmp{"CurrentAccuracy", Value = 100} then
			evt.Add{"SkillPoints", Value = 7}
			evt.StatusText{Str = 736}         --[[ "You win!
+7 Skill Points" ]]
			evt.Add{"PlayerBits", Value = 49}
		else
			evt.StatusText{Str = 731}         -- "You have failed the test!"
		end
	end
end

-- "Test of Speed"
evt.global[562] = function()
	if evt.Cmp{"PlayerBits", Value = 50} then
		evt.StatusText{Str = 733}         -- "You have already won!"
	else
		if evt.Cmp{"CurrentSpeed", Value = 100} then
			evt.Add{"SkillPoints", Value = 7}
			evt.StatusText{Str = 736}         --[[ "You win!
+7 Skill Points" ]]
			evt.Add{"PlayerBits", Value = 50}
		else
			evt.StatusText{Str = 731}         -- "You have failed the test!"
		end
	end
end

-- "Test of Luck"
evt.global[563] = function()
	if evt.Cmp{"PlayerBits", Value = 51} then
		evt.StatusText{Str = 733}         -- "You have already won!"
	else
		if evt.Cmp{"CurrentLuck", Value = 100} then
			evt.Add{"SkillPoints", Value = 7}
			evt.StatusText{Str = 736}         --[[ "You win!
+7 Skill Points" ]]
			evt.Add{"PlayerBits", Value = 51}
		else
			evt.StatusText{Str = 731}         -- "You have failed the test!"
		end
	end
end

-- "Challenge of Might"
evt.global[564] = function()
	if evt.Cmp{"PlayerBits", Value = 52} then
		evt.StatusText{Str = 733}         -- "You have already won!"
	else
		if evt.Cmp{"CurrentMight", Value = 200} then
			evt.Add{"SkillPoints", Value = 10}
			evt.StatusText{Str = 737}         --[[ "You win!
+10 Skill Points" ]]
			evt.Add{"PlayerBits", Value = 52}
		else
			evt.StatusText{Str = 732}         -- "You have failed the challenge!"
		end
	end
end

-- "Challenge of Endurance"
evt.global[565] = function()
	if evt.Cmp{"PlayerBits", Value = 53} then
		evt.StatusText{Str = 733}         -- "You have already won!"
	else
		if evt.Cmp{"CurrentEndurance", Value = 200} then
			evt.Add{"SkillPoints", Value = 10}
			evt.StatusText{Str = 737}         --[[ "You win!
+10 Skill Points" ]]
			evt.Add{"PlayerBits", Value = 53}
		else
			evt.StatusText{Str = 732}         -- "You have failed the challenge!"
		end
	end
end

-- "Challenge of Intellect"
evt.global[566] = function()
	if evt.Cmp{"PlayerBits", Value = 54} then
		evt.StatusText{Str = 733}         -- "You have already won!"
	else
		if evt.Cmp{"CurrentIntellect", Value = 200} then
			evt.Add{"SkillPoints", Value = 10}
			evt.StatusText{Str = 737}         --[[ "You win!
+10 Skill Points" ]]
			evt.Add{"PlayerBits", Value = 54}
		else
			evt.StatusText{Str = 732}         -- "You have failed the challenge!"
		end
	end
end

-- "Challenge of Personality"
evt.global[567] = function()
	if evt.Cmp{"PlayerBits", Value = 55} then
		evt.StatusText{Str = 733}         -- "You have already won!"
	else
		if evt.Cmp{"CurrentPersonality", Value = 200} then
			evt.Add{"SkillPoints", Value = 10}
			evt.StatusText{Str = 737}         --[[ "You win!
+10 Skill Points" ]]
			evt.Add{"PlayerBits", Value = 55}
		else
			evt.StatusText{Str = 732}         -- "You have failed the challenge!"
		end
	end
end

-- "Challenge of Accuracy"
evt.global[568] = function()
	if evt.Cmp{"PlayerBits", Value = 56} then
		evt.StatusText{Str = 733}         -- "You have already won!"
	else
		if evt.Cmp{"CurrentAccuracy", Value = 200} then
			evt.Add{"SkillPoints", Value = 10}
			evt.StatusText{Str = 737}         --[[ "You win!
+10 Skill Points" ]]
			evt.Add{"PlayerBits", Value = 56}
		else
			evt.StatusText{Str = 732}         -- "You have failed the challenge!"
		end
	end
end

-- "Challenge of Speed"
evt.global[569] = function()
	if evt.Cmp{"PlayerBits", Value = 57} then
		evt.StatusText{Str = 733}         -- "You have already won!"
	else
		if evt.Cmp{"CurrentSpeed", Value = 200} then
			evt.Add{"SkillPoints", Value = 10}
			evt.StatusText{Str = 737}         --[[ "You win!
+10 Skill Points" ]]
			evt.Add{"PlayerBits", Value = 57}
		else
			evt.StatusText{Str = 732}         -- "You have failed the challenge!"
		end
	end
end

-- "Challenge of Luck"
evt.global[570] = function()
	if evt.Cmp{"PlayerBits", Value = 58} then
		evt.StatusText{Str = 733}         -- "You have already won!"
	else
		if evt.Cmp{"CurrentLuck", Value = 200} then
			evt.Add{"SkillPoints", Value = 10}
			evt.StatusText{Str = 737}         --[[ "You win!
+10 Skill Points" ]]
			evt.Add{"PlayerBits", Value = 58}
		else
			evt.StatusText{Str = 732}         -- "You have failed the challenge!"
		end
	end
end

-- "Fire Resistance Potion"
evt.CanShowTopic[571] = function()
	return evt.Cmp{"QBits", Value = 142}         -- "Deliver Fire Resistance Potions to the six southernmost houses of Rust.  Return to Hobert in Rust."
end

evt.global[571] = function()
	if evt.Cmp{"QBits", Value = 149} then         -- Southern houses of Rust all have Potions of Fire Resistance.
		evt.SetMessage{Str = 654}         --[[ "You have at least pushed our demise away for a time, but a new home needs to be found for us!
Thank you for delivering the Potions of Fire Resistance!" ]]
		return
	end
	if evt.Cmp{"QBits", Value = 143} then         -- Delivered potion to house 1
		evt.SetMessage{Str = 763}         -- "Thanks for the potion!"
	else
		evt.ForPlayer(-- ERROR: Const not found
"All")
		if not evt.Cmp{"Inventory", Value = 256} then         -- "Fire Resistance"
			evt.SetMessage{Str = 762}         --[[ "I an defenseless against the onslaught of the sea of fire!
I need a Potion of Fire Resistance!" ]]
			return
		end
		evt.Subtract{"Inventory", Value = 256}         -- "Fire Resistance"
		evt.Add{"QBits", Value = 143}         -- Delivered potion to house 1
		evt.ForPlayer(-- ERROR: Const not found
"All")
		evt.Add{"Experience", Value = 1000}
	end
	if evt.Cmp{"QBits", Value = 144} then         -- Delivered potion to house 2
		if evt.Cmp{"QBits", Value = 145} then         -- Delivered potion to house 3
			if evt.Cmp{"QBits", Value = 146} then         -- Delivered potion to house 4
				if evt.Cmp{"QBits", Value = 147} then         -- Delivered potion to house 5
					if evt.Cmp{"QBits", Value = 148} then         -- Delivered potion to house 6
						evt.ForPlayer(-- ERROR: Const not found
"All")
						evt.Add{"Experience", Value = 7500}
						evt.SetMessage{Str = 764}         --[[ "Thanks for providing Potions of Fire Resistance to the southernmost houses here in Rust.
Perhaps we can survive until a new home can be found for us!" ]]
						evt.Add{"QBits", Value = 149}         -- Southern houses of Rust all have Potions of Fire Resistance.
						return
					end
				end
			end
		end
	end
	evt.SetMessage{Str = 761}         --[[ "Thanks for the potion, but others in the area are without protection!
Be sure to deliver a potion to them as well!" ]]
end

-- "Fire Resistance Potion"
evt.CanShowTopic[572] = function()
	return evt.Cmp{"QBits", Value = 142}         -- "Deliver Fire Resistance Potions to the six southernmost houses of Rust.  Return to Hobert in Rust."
end

evt.global[572] = function()
	if evt.Cmp{"QBits", Value = 149} then         -- Southern houses of Rust all have Potions of Fire Resistance.
		evt.SetMessage{Str = 654}         --[[ "You have at least pushed our demise away for a time, but a new home needs to be found for us!
Thank you for delivering the Potions of Fire Resistance!" ]]
		return
	end
	if evt.Cmp{"QBits", Value = 144} then         -- Delivered potion to house 2
		evt.SetMessage{Str = 763}         -- "Thanks for the potion!"
	else
		evt.ForPlayer(-- ERROR: Const not found
"All")
		if not evt.Cmp{"Inventory", Value = 256} then         -- "Fire Resistance"
			evt.SetMessage{Str = 762}         --[[ "I an defenseless against the onslaught of the sea of fire!
I need a Potion of Fire Resistance!" ]]
			return
		end
		evt.Subtract{"Inventory", Value = 256}         -- "Fire Resistance"
		evt.Add{"QBits", Value = 144}         -- Delivered potion to house 2
		evt.ForPlayer(-- ERROR: Const not found
"All")
		evt.Add{"Experience", Value = 1000}
	end
	if evt.Cmp{"QBits", Value = 143} then         -- Delivered potion to house 1
		if evt.Cmp{"QBits", Value = 145} then         -- Delivered potion to house 3
			if evt.Cmp{"QBits", Value = 146} then         -- Delivered potion to house 4
				if evt.Cmp{"QBits", Value = 147} then         -- Delivered potion to house 5
					if evt.Cmp{"QBits", Value = 148} then         -- Delivered potion to house 6
						evt.ForPlayer(-- ERROR: Const not found
"All")
						evt.Add{"Experience", Value = 1500}
						evt.SetMessage{Str = 764}         --[[ "Thanks for providing Potions of Fire Resistance to the southernmost houses here in Rust.
Perhaps we can survive until a new home can be found for us!" ]]
						evt.Add{"QBits", Value = 149}         -- Southern houses of Rust all have Potions of Fire Resistance.
						return
					end
				end
			end
		end
	end
	evt.SetMessage{Str = 761}         --[[ "Thanks for the potion, but others in the area are without protection!
Be sure to deliver a potion to them as well!" ]]
end

-- "Fire Resistance Potion"
evt.CanShowTopic[573] = function()
	return evt.Cmp{"QBits", Value = 142}         -- "Deliver Fire Resistance Potions to the six southernmost houses of Rust.  Return to Hobert in Rust."
end

evt.global[573] = function()
	if evt.Cmp{"QBits", Value = 149} then         -- Southern houses of Rust all have Potions of Fire Resistance.
		evt.SetMessage{Str = 654}         --[[ "You have at least pushed our demise away for a time, but a new home needs to be found for us!
Thank you for delivering the Potions of Fire Resistance!" ]]
		return
	end
	if evt.Cmp{"QBits", Value = 145} then         -- Delivered potion to house 3
		evt.SetMessage{Str = 763}         -- "Thanks for the potion!"
	else
		evt.ForPlayer(-- ERROR: Const not found
"All")
		if not evt.Cmp{"Inventory", Value = 256} then         -- "Fire Resistance"
			evt.SetMessage{Str = 762}         --[[ "I an defenseless against the onslaught of the sea of fire!
I need a Potion of Fire Resistance!" ]]
			return
		end
		evt.Subtract{"Inventory", Value = 256}         -- "Fire Resistance"
		evt.Add{"QBits", Value = 145}         -- Delivered potion to house 3
		evt.ForPlayer(-- ERROR: Const not found
"All")
		evt.Add{"Experience", Value = 1000}
	end
	if evt.Cmp{"QBits", Value = 143} then         -- Delivered potion to house 1
		if evt.Cmp{"QBits", Value = 144} then         -- Delivered potion to house 2
			if evt.Cmp{"QBits", Value = 146} then         -- Delivered potion to house 4
				if evt.Cmp{"QBits", Value = 147} then         -- Delivered potion to house 5
					if evt.Cmp{"QBits", Value = 148} then         -- Delivered potion to house 6
						evt.ForPlayer(-- ERROR: Const not found
"All")
						evt.Add{"Experience", Value = 1500}
						evt.SetMessage{Str = 764}         --[[ "Thanks for providing Potions of Fire Resistance to the southernmost houses here in Rust.
Perhaps we can survive until a new home can be found for us!" ]]
						evt.Add{"QBits", Value = 149}         -- Southern houses of Rust all have Potions of Fire Resistance.
						return
					end
				end
			end
		end
	end
	evt.SetMessage{Str = 761}         --[[ "Thanks for the potion, but others in the area are without protection!
Be sure to deliver a potion to them as well!" ]]
end

-- "Fire Resistance Potion"
evt.CanShowTopic[574] = function()
	return evt.Cmp{"QBits", Value = 142}         -- "Deliver Fire Resistance Potions to the six southernmost houses of Rust.  Return to Hobert in Rust."
end

evt.global[574] = function()
	if evt.Cmp{"QBits", Value = 149} then         -- Southern houses of Rust all have Potions of Fire Resistance.
		evt.SetMessage{Str = 654}         --[[ "You have at least pushed our demise away for a time, but a new home needs to be found for us!
Thank you for delivering the Potions of Fire Resistance!" ]]
		return
	end
	if evt.Cmp{"QBits", Value = 146} then         -- Delivered potion to house 4
		evt.SetMessage{Str = 763}         -- "Thanks for the potion!"
	else
		evt.ForPlayer(-- ERROR: Const not found
"All")
		if not evt.Cmp{"Inventory", Value = 256} then         -- "Fire Resistance"
			evt.SetMessage{Str = 762}         --[[ "I an defenseless against the onslaught of the sea of fire!
I need a Potion of Fire Resistance!" ]]
			return
		end
		evt.Subtract{"Inventory", Value = 256}         -- "Fire Resistance"
		evt.Add{"QBits", Value = 146}         -- Delivered potion to house 4
		evt.ForPlayer(-- ERROR: Const not found
"All")
		evt.Add{"Experience", Value = 1000}
	end
	if evt.Cmp{"QBits", Value = 143} then         -- Delivered potion to house 1
		if evt.Cmp{"QBits", Value = 144} then         -- Delivered potion to house 2
			if evt.Cmp{"QBits", Value = 145} then         -- Delivered potion to house 3
				if evt.Cmp{"QBits", Value = 147} then         -- Delivered potion to house 5
					if evt.Cmp{"QBits", Value = 148} then         -- Delivered potion to house 6
						evt.ForPlayer(-- ERROR: Const not found
"All")
						evt.Add{"Experience", Value = 1500}
						evt.SetMessage{Str = 764}         --[[ "Thanks for providing Potions of Fire Resistance to the southernmost houses here in Rust.
Perhaps we can survive until a new home can be found for us!" ]]
						evt.Add{"QBits", Value = 149}         -- Southern houses of Rust all have Potions of Fire Resistance.
						return
					end
				end
			end
		end
	end
	evt.SetMessage{Str = 761}         --[[ "Thanks for the potion, but others in the area are without protection!
Be sure to deliver a potion to them as well!" ]]
end

-- "Fire Resistance Potion"
evt.CanShowTopic[575] = function()
	return evt.Cmp{"QBits", Value = 142}         -- "Deliver Fire Resistance Potions to the six southernmost houses of Rust.  Return to Hobert in Rust."
end

evt.global[575] = function()
	if evt.Cmp{"QBits", Value = 149} then         -- Southern houses of Rust all have Potions of Fire Resistance.
		evt.SetMessage{Str = 654}         --[[ "You have at least pushed our demise away for a time, but a new home needs to be found for us!
Thank you for delivering the Potions of Fire Resistance!" ]]
		return
	end
	if evt.Cmp{"QBits", Value = 147} then         -- Delivered potion to house 5
		evt.SetMessage{Str = 763}         -- "Thanks for the potion!"
	else
		evt.ForPlayer(-- ERROR: Const not found
"All")
		if not evt.Cmp{"Inventory", Value = 256} then         -- "Fire Resistance"
			evt.SetMessage{Str = 762}         --[[ "I an defenseless against the onslaught of the sea of fire!
I need a Potion of Fire Resistance!" ]]
			return
		end
		evt.Subtract{"Inventory", Value = 256}         -- "Fire Resistance"
		evt.Add{"QBits", Value = 147}         -- Delivered potion to house 5
		evt.ForPlayer(-- ERROR: Const not found
"All")
		evt.Add{"Experience", Value = 1000}
	end
	if evt.Cmp{"QBits", Value = 143} then         -- Delivered potion to house 1
		if evt.Cmp{"QBits", Value = 144} then         -- Delivered potion to house 2
			if evt.Cmp{"QBits", Value = 145} then         -- Delivered potion to house 3
				if evt.Cmp{"QBits", Value = 146} then         -- Delivered potion to house 4
					if evt.Cmp{"QBits", Value = 148} then         -- Delivered potion to house 6
						evt.ForPlayer(-- ERROR: Const not found
"All")
						evt.Add{"Experience", Value = 1500}
						evt.SetMessage{Str = 764}         --[[ "Thanks for providing Potions of Fire Resistance to the southernmost houses here in Rust.
Perhaps we can survive until a new home can be found for us!" ]]
						evt.Add{"QBits", Value = 149}         -- Southern houses of Rust all have Potions of Fire Resistance.
						return
					end
				end
			end
		end
	end
	evt.SetMessage{Str = 761}         --[[ "Thanks for the potion, but others in the area are without protection!
Be sure to deliver a potion to them as well!" ]]
end

-- "Fire Resistance Potion"
evt.CanShowTopic[576] = function()
	return evt.Cmp{"QBits", Value = 142}         -- "Deliver Fire Resistance Potions to the six southernmost houses of Rust.  Return to Hobert in Rust."
end

evt.global[576] = function()
	if evt.Cmp{"QBits", Value = 149} then         -- Southern houses of Rust all have Potions of Fire Resistance.
		evt.SetMessage{Str = 654}         --[[ "You have at least pushed our demise away for a time, but a new home needs to be found for us!
Thank you for delivering the Potions of Fire Resistance!" ]]
		return
	end
	if evt.Cmp{"QBits", Value = 148} then         -- Delivered potion to house 6
		evt.SetMessage{Str = 763}         -- "Thanks for the potion!"
	else
		evt.ForPlayer(-- ERROR: Const not found
"All")
		if not evt.Cmp{"Inventory", Value = 256} then         -- "Fire Resistance"
			evt.SetMessage{Str = 762}         --[[ "I an defenseless against the onslaught of the sea of fire!
I need a Potion of Fire Resistance!" ]]
			return
		end
		evt.Subtract{"Inventory", Value = 256}         -- "Fire Resistance"
		evt.Add{"QBits", Value = 148}         -- Delivered potion to house 6
		evt.ForPlayer(-- ERROR: Const not found
"All")
		evt.Add{"Experience", Value = 1000}
	end
	if evt.Cmp{"QBits", Value = 143} then         -- Delivered potion to house 1
		if evt.Cmp{"QBits", Value = 144} then         -- Delivered potion to house 2
			if evt.Cmp{"QBits", Value = 145} then         -- Delivered potion to house 3
				if evt.Cmp{"QBits", Value = 146} then         -- Delivered potion to house 4
					if evt.Cmp{"QBits", Value = 147} then         -- Delivered potion to house 5
						evt.ForPlayer(-- ERROR: Const not found
"All")
						evt.Add{"Experience", Value = 1500}
						evt.SetMessage{Str = 764}         --[[ "Thanks for providing Potions of Fire Resistance to the southernmost houses here in Rust.
Perhaps we can survive until a new home can be found for us!" ]]
						evt.Add{"QBits", Value = 149}         -- Southern houses of Rust all have Potions of Fire Resistance.
						return
					end
				end
			end
		end
	end
	evt.SetMessage{Str = 761}         --[[ "Thanks for the potion, but others in the area are without protection!
Be sure to deliver a potion to them as well!" ]]
end

-- "Guild of Bounty Hunters"
evt.global[577] = function()
	if evt.Cmp{"QBits", Value = 169} then         -- Named Novice Bounty Hunter by the Guild of Bounty Hunters
		evt.SetMessage{Str = 647}         --[[ "Greetings Novice Bounty Hunter! The Guild of Bounty Hunters serves the public by paying qualified individuals a fee for eliminating the threat of certain creatures or bandits in the realm of Jadame.
To achieve the rank of Journeyman Bounty Hunter you will have to earn a total bounty of 30,000 gold." ]]
	else
		if evt.Cmp{"QBits", Value = 170} then         -- Named Journeyman Bounty Hunter by the Guild of Bounty Hunters
			evt.SetMessage{Str = 656}         --[[ "Greetings Journeyman Bounty Hunter! The Guild of Bounty Hunters serves the public by paying qualified individuals a fee for eliminating the threat of certain creatures or bandits in the realm of Jadame.
To achieve the rank of Master Bounty Hunter you will have to earn a total bounty of 70,000 gold." ]]
		else
			if evt.Cmp{"QBits", Value = 171} then         -- Named Novice Master Hunter by the Guild of Bounty Hunters
				evt.SetMessage{Str = 678}         -- "Greetings Master Bounty Hunter! The Guild of Bounty Hunters thanks you for your services to all of Jadame. We are at your disposal!"
			else
				evt.SetMessage{Str = 625}         --[[ "The Guild of Bounty Hunters serves the public by paying qualified individuals a fee for eliminating the threat of certain creatures or bandits in the realm of Jadame.
To achieve the rank of Novice Bounty Hunter you will have to earn 10,000 gold worth of bounties." ]]
			end
		end
	end
end

-- "Bounty!"
evt.global[578] = function()
	if evt.IsTotalBountyInRange{MinGold = 10000, MaxGold = 29999} then
		evt.SetMessage{Str = 779}         -- "You currently hold the rank of Novice Bounty Hunter, but lack sufficient bounty to be promoted to Journeyman."
		if not evt.Cmp{"AutonotesBits", Value = 496} then         -- "Have earned status of Novice Bounty Hunter."
			evt.Add{"AutonotesBits", Value = 496}         -- "Have earned status of Novice Bounty Hunter."
			evt.ForPlayer(-- ERROR: Const not found
"All")
			evt.Add{"Experience", Value = 40000}
			evt.Add{"QBits", Value = 169}         -- Named Novice Bounty Hunter by the Guild of Bounty Hunters
		end
		return
	end
	if evt.IsTotalBountyInRange{MinGold = 30000, MaxGold = 69999} then
		evt.SetMessage{Str = 780}         -- "You currently hold the rank of Journeyman Bounty Hunter, but lack sufficient bounty to be promoted to Master."
		if not evt.Cmp{"AutonotesBits", Value = 497} then         -- "Have earned status of Journeyman Bounty Hunter."
			evt.Add{"AutonotesBits", Value = 497}         -- "Have earned status of Journeyman Bounty Hunter."
			evt.ForPlayer(-- ERROR: Const not found
"All")
			evt.Add{"Experience", Value = 80000}
			evt.Subtract{"QBits", Value = 169}         -- Named Novice Bounty Hunter by the Guild of Bounty Hunters
			evt.Add{"QBits", Value = 170}         -- Named Journeyman Bounty Hunter by the Guild of Bounty Hunters
			evt.Subtract{"AutonotesBits", Value = 496}         -- "Have earned status of Novice Bounty Hunter."
		end
		return
	end
	if not evt.IsTotalBountyInRange{MinGold = 70000, MaxGold = 1000000} then
		evt.SetMessage{Str = 778}         -- "You have not gathered sufficient bounties to allow us to promote you!"
		return
	end
	evt.SetMessage{Str = 781}         -- "You currently hold the rank of Master Bounty Hunter! This is the highest rank of our guild."
	if not evt.Cmp{"AutonotesBits", Value = 498} then         -- "Have earned status of Master Bounty Hunter."
		evt.Add{"AutonotesBits", Value = 498}         -- "Have earned status of Master Bounty Hunter."
		evt.ForPlayer(-- ERROR: Const not found
"All")
		evt.Add{"Experience", Value = 1200000}
		evt.Subtract{"QBits", Value = 170}         -- Named Journeyman Bounty Hunter by the Guild of Bounty Hunters
		evt.Add{"QBits", Value = 171}         -- Named Novice Master Hunter by the Guild of Bounty Hunters
	end
	evt.Subtract{"AutonotesBits", Value = 497}         -- "Have earned status of Journeyman Bounty Hunter."
	evt.SetNPCTopic{NPC = 109, Index = 2, Event = 0}         -- "Bryant Conlan"
	evt.SetNPCTopic{NPC = 110, Index = 2, Event = 0}         -- "Cahalli Evenall"
end

-- "Arcomage Tournament "
evt.global[580] = function()
	evt.SetMessage{Str = 540}         --[[ "To be declared Arcomage Champion, you must win a game of Arcomage in every tavern on, in, and under the continent of Jadame.
There are 11 such taverns sponsoring Arcomage events.
When you have accomplished this, return to me to claim the prize." ]]
	evt.Add{"QBits", Value = 173}         -- "Win a game of Arcomage in all eleven taverns, then return to Tonk Blueswan in Ravenshore."
	evt.SetNPCTopic{NPC = 222, Index = 0, Event = 0}         -- "Tonk Blueswan"
end

-- "Cleric Necromancer War"
evt.global[581] = function()
	if evt.Cmp{"QBits", Value = 19} then         -- Allied with Necromancers Guild. Steal Nightshade Brazier done.
		evt.SetMessage{Str = 783}         -- "Through your delivery of the Nightshade Brazier into their hands, the Necromancers' Guild has come out on top in their war with the Temple of the Sun. The artifact's magic creates a permanent shadow of darkness which surrounds the Shadowspire region. Under this cover, vampires defend the land both day and night. This has allowed the guild to field larger forces of skeletons, zombies and other undead against the temple's armies. Each report I receive puts the heart of the battle closer and closer to the Sun Temple's doorstep."
	else
		if evt.Cmp{"QBits", Value = 20} then         -- Allied with Temple of the Sun. Destroy the Skeleton Transformer done.
			evt.SetMessage{Str = 784}         -- "Because you have destroyed the Necromancers' Guild Skeleton Transformer, the Temple of the Sun has come out on top in their war with the guild. The skeletons created by the device made up the bulk of the guild's reinforcements. Without these, the necromancers' forces crumble before the temple's advance. Each report I receive puts the heart of the battle closer to the Necromancers' Guild doorstep."
		else
			evt.SetMessage{Str = 782}         -- "Lying as they do on opposite ends of the Light to Dark spectrum, relationships between the Necromancers' Guild and the Temple of the Sun have never been the best, but now they battle openly. Oskar Tyre, head priest of the Temple says a holy vision drove him to declare war on the guild so as to rid Jadame of the taint of darkness.Both groups are relative newcomers to our continent. The guild has set up its foothold in Shadowspire, and the First (and only) Sun Temple of Jadame is in Murmurwoods."
		end
	end
end

-- "Dragon Hunters"
evt.global[582] = function()
	if evt.Cmp{"QBits", Value = 21} then         -- Allied with Charles Quioxte's Dragon Hunters. Return Dragon Egg to Quixote done.
		evt.SetMessage{Str = 786}         -- "It seems Charles Quixote's Dragon hunting operation in Garrote Gorge has almost completely wiped out Garrote Gorge's Dragon population. I'm sure once their done, those mountains will be safer to travel. Still, I wonder what Jadame will be like without Dragons."
	else
		if evt.Cmp{"QBits", Value = 22} then         -- Allied with Dragons. Return Dragon Egg to Dragons done.
			evt.SetMessage{Str = 787}         -- "By recovering Deftclaw Redreaver's heir for him, you've allowed him to safely attack Charles Quixote's camp. Dragon hunters operate by isolating members of their prey. They just aren't prepared to face Dragons in number! Needless to say, the camp's production of Dragon goods has dwindled to a trickle. A pity. The guild used to turned a good profit off them."
		else
			evt.SetMessage{Str = 785}         -- "The renown Dragon slayer, Charles Quixote of Erathia, has set up a hunting expedition in Garrote Gorge. This is no ""safari,"" in fact, it's the largest operation of this type I've heard of. The hunters have a permanent base from which they sell hides, eggs, baby dragons, and other items. Garrote Gorge has always had a large Dragon population, but I imagine they must be facing extinction--so efficient are Quixote's hunters."
		end
	end
end

-- "Minotaurs"
evt.global[583] = function()
	if evt.Cmp{"QBits", Value = 23} then         -- Allied with Minotaurs. Rescue the Minotaurs done.
		evt.SetMessage{Str = 789}         -- "By rescuing the Balthazar Lair Minotaurs, you have ingratiated them to yourselves and by extension, to our guild. Even through the crisis, trade relations with them have improved immeasurably. Once maters of the cataclysm are resolved, I'm sure we will see a tidy profit--a direct result from your good work."
	else
		evt.SetMessage{Str = 788}         -- "The Minotaurs of Balthazar Lair in Ravage Roaming are a proud culture. Their recent defeat of the Vori Frost Giants has, if anything, made them even more fiercely independent--more sure of their ability to face any task alone. Still, I have told the guild that they would make great allies, both to face the current crisis and later as trade partners."
	end
end

-- "A bridge too far?"
evt.global[584] = function()
	if evt.Cmp{"QBits", Value = 2} then         -- Activate Area 1 teleporters 5 and 6.
		evt.SetMessage{Str = 793}         --[[ "You have repaired the Portals of Stone?
We are all in your debt.
If only it was safe to travel through the Abandoned Temple!
Well, at least we can attempt to get to the boat dock through there." ]]
	else
		evt.SetMessage{Str = 792}         --[[ "With the bridges destroyed by the eruption of the mountain of fire, we cannot get to the boat dock!
We are cut off from the mainland!" ]]
	end
end

-- "Travel between the Islands"
evt.global[585] = function()
	if evt.Cmp{"QBits", Value = 2} then         -- Activate Area 1 teleporters 5 and 6.
		evt.SetMessage{Str = 802}         --[[ "With the Portals of Stone repaired, we can at least check on the outer islands and those who live there.
We are in your debt for fixing the Portals of Stone." ]]
	else
		evt.SetMessage{Str = 801}         --[[ "We used to travel freely between the islands using the bridges.
These bridges were destroyed when the mountain of fire erupted.
Many families are trapped on the outer islands.
We don’t even know if the people who live there are still alive." ]]
	end
end

-- "The boat dock"
evt.global[586] = function()
	if evt.Cmp{"QBits", Value = 2} then         -- Activate Area 1 teleporters 5 and 6.
		evt.SetMessage{Str = 804}         --[[ "We can get to the boat docks?
But we have to go through the Abandoned Temple?
Well that's something.
At least we can get to the boats." ]]
	else
		evt.SetMessage{Str = 803}         --[[ "The boat dock on the northernmost island is the only way to travel between Dagger Wound and the mainland.
With the bridges destroyed, we cannot get to the boat dock and those arriving from Ravenshore cannot get to the village of Blood Drop!" ]]
	end
end

-- "Kreegans"
evt.global[587] = function()
	evt.SetMessage{Str = 795}         -- "Did you know I was their captive for over six years? At first, I thought they were devils from hell, but now I am not so sure. They looked like devils surely, but did not act as demons. No, I think they were but another type of monstrous race, like ogres or goblins. Regardless, devils or not, I am glad the world is rid of them!"
end

-- "Elemental Lords"
evt.global[588] = function()
	evt.SetMessage{Str = 796}         -- "Catherine and I have had dealings with these ""lords"" of the elemental planes. I've never trusted them, and now it seems I am right. They were our recent allies against the Kreegans, but a few months later, we find ourselves at war with them here! In both cases I understand neither their reasons for helping or hindrance. They are fickle beings at best...""treacherous"" is perhaps a better word for them."
end

-- "Enroth"
evt.global[589] = function()
	evt.SetMessage{Str = 797}         -- "I must say I'm looking forward to returning to my lands of Enroth. It has been so long since I've seen them, or my son, Prince Nicolai. He was just a lad when I saw him last and now he is nearly grown. Sir Humphrey was a good choice for regent, but the land has been too long without its king at the reins of state."
end

-- "Erathia"
evt.global[590] = function()
	evt.SetMessage{Str = 798}         -- "After we defeated the Kreegans in Erathia, I abdicated my throne into the regenthood of one of my generals, Morgan Kendal. I have left in his capable hands the task of choosing Erathia's new ruler. I'm sure this seems to be much to give up, but I am first and foremost, the queen of Enroth. We were sailing for there when the cataclysm struck, drawing us here."
end

-- "Kreegans"
evt.global[591] = function()
	evt.SetMessage{Str = 799}         -- "The Kreegans? They are no more; I am sure of it. After we put down Lucifer Kreegan, my armies scoured Eofol searching for any signs of their continued existence. We found none. No, the Kreegan infestation of our world is eliminated."
end

-- "Elementals"
evt.global[592] = function()
	evt.SetMessage{Str = 800}         -- "I fought alongside elementals in our campaigns against the Kreegan. I found them stalwart and loyal. I know Roland disagrees, but I cannot call their hostility here a case of fickleness. No, I think something else drives them to attack us--magic perhaps? You should speak with our sage, Xanthor. He has been studying the Destroyer's crystal. I'm sure he's come up with some theory by now."
end

-- "Make Weapon"
evt.global[594] = function()
	if evt.Cmp{"Inventory", Value = 691} then         -- "Stalt-laced ore"
		evt.Subtract{"Inventory", Value = 691}         -- "Stalt-laced ore"
		evt.GiveItem{Strength = 6, Type = const.ItemType.Weapon_, Id = 0}
		evt.SetMessage{Str = 534}         -- "Here's your weapon. If you find more ore, I'll be happy to make you more weapons."
	else
		if evt.Cmp{"Inventory", Value = 690} then         -- "Erudine-laced ore"
			evt.Subtract{"Inventory", Value = 690}         -- "Erudine-laced ore"
			evt.GiveItem{Strength = 5, Type = const.ItemType.Weapon_, Id = 0}
			evt.SetMessage{Str = 534}         -- "Here's your weapon. If you find more ore, I'll be happy to make you more weapons."
		else
			if evt.Cmp{"Inventory", Value = 689} then         -- "Kergar-laced ore"
				evt.Subtract{"Inventory", Value = 689}         -- "Kergar-laced ore"
				evt.GiveItem{Strength = 4, Type = const.ItemType.Weapon_, Id = 0}
				evt.SetMessage{Str = 534}         -- "Here's your weapon. If you find more ore, I'll be happy to make you more weapons."
			else
				if evt.Cmp{"Inventory", Value = 688} then         -- "Phylt-laced ore"
					evt.Subtract{"Inventory", Value = 688}         -- "Phylt-laced ore"
					evt.GiveItem{Strength = 3, Type = const.ItemType.Weapon_, Id = 0}
					evt.SetMessage{Str = 534}         -- "Here's your weapon. If you find more ore, I'll be happy to make you more weapons."
				else
					if evt.Cmp{"Inventory", Value = 687} then         -- "Siertal-laced ore"
						evt.Subtract{"Inventory", Value = 687}         -- "Siertal-laced ore"
						evt.GiveItem{Strength = 2, Type = const.ItemType.Weapon_, Id = 0}
						evt.SetMessage{Str = 534}         -- "Here's your weapon. If you find more ore, I'll be happy to make you more weapons."
					else
						if evt.Cmp{"Inventory", Value = 686} then         -- "Iron-laced ore"
							evt.Subtract{"Inventory", Value = 686}         -- "Iron-laced ore"
							evt.GiveItem{Strength = 1, Type = const.ItemType.Weapon_, Id = 0}
							evt.SetMessage{Str = 534}         -- "Here's your weapon. If you find more ore, I'll be happy to make you more weapons."
						else
							evt.SetMessage{Str = 535}         --[[ "You need ore for me to create weapons.
The better the ore, the better the weapon I can make." ]]
						end
					end
				end
			end
		end
	end
end

-- "Make Armor"
evt.global[595] = function()
	if evt.Cmp{"Inventory", Value = 691} then         -- "Stalt-laced ore"
		evt.Subtract{"Inventory", Value = 691}         -- "Stalt-laced ore"
		evt.GiveItem{Strength = 6, Type = const.ItemType.Armor_, Id = 0}
		evt.SetMessage{Str = 536}         -- "Here's your armor. If you find more ore, I'll be happy to make you more armor."
	else
		if evt.Cmp{"Inventory", Value = 690} then         -- "Erudine-laced ore"
			evt.Subtract{"Inventory", Value = 690}         -- "Erudine-laced ore"
			evt.GiveItem{Strength = 5, Type = const.ItemType.Armor_, Id = 0}
			evt.SetMessage{Str = 536}         -- "Here's your armor. If you find more ore, I'll be happy to make you more armor."
		else
			if evt.Cmp{"Inventory", Value = 689} then         -- "Kergar-laced ore"
				evt.Subtract{"Inventory", Value = 689}         -- "Kergar-laced ore"
				evt.GiveItem{Strength = 4, Type = const.ItemType.Armor_, Id = 0}
				evt.SetMessage{Str = 536}         -- "Here's your armor. If you find more ore, I'll be happy to make you more armor."
			else
				if evt.Cmp{"Inventory", Value = 688} then         -- "Phylt-laced ore"
					evt.Subtract{"Inventory", Value = 688}         -- "Phylt-laced ore"
					evt.GiveItem{Strength = 3, Type = const.ItemType.Armor_, Id = 0}
					evt.SetMessage{Str = 536}         -- "Here's your armor. If you find more ore, I'll be happy to make you more armor."
				else
					if evt.Cmp{"Inventory", Value = 687} then         -- "Siertal-laced ore"
						evt.Subtract{"Inventory", Value = 687}         -- "Siertal-laced ore"
						evt.GiveItem{Strength = 2, Type = const.ItemType.Armor_, Id = 0}
						evt.SetMessage{Str = 536}         -- "Here's your armor. If you find more ore, I'll be happy to make you more armor."
					else
						if evt.Cmp{"Inventory", Value = 686} then         -- "Iron-laced ore"
							evt.Subtract{"Inventory", Value = 686}         -- "Iron-laced ore"
							evt.GiveItem{Strength = 1, Type = const.ItemType.Armor_, Id = 0}
							evt.SetMessage{Str = 536}         -- "Here's your armor. If you find more ore, I'll be happy to make you more armor."
						else
							evt.SetMessage{Str = 537}         --[[ "You need ore for me to create armor.
The better the ore, the better the armor I can make." ]]
						end
					end
				end
			end
		end
	end
end

-- "Make Item"
evt.global[596] = function()
	if evt.Cmp{"Inventory", Value = 691} then         -- "Stalt-laced ore"
		evt.Subtract{"Inventory", Value = 691}         -- "Stalt-laced ore"
		evt.GiveItem{Strength = 6, Type = const.ItemType.Misc, Id = 0}
		evt.SetMessage{Str = 538}         -- "Here is your item. If you find more ore, I'll be happy to make you more items."
	else
		if evt.Cmp{"Inventory", Value = 690} then         -- "Erudine-laced ore"
			evt.Subtract{"Inventory", Value = 690}         -- "Erudine-laced ore"
			evt.GiveItem{Strength = 5, Type = const.ItemType.Misc, Id = 0}
			evt.SetMessage{Str = 538}         -- "Here is your item. If you find more ore, I'll be happy to make you more items."
		else
			if evt.Cmp{"Inventory", Value = 689} then         -- "Kergar-laced ore"
				evt.Subtract{"Inventory", Value = 689}         -- "Kergar-laced ore"
				evt.GiveItem{Strength = 4, Type = const.ItemType.Misc, Id = 0}
				evt.SetMessage{Str = 538}         -- "Here is your item. If you find more ore, I'll be happy to make you more items."
			else
				if evt.Cmp{"Inventory", Value = 688} then         -- "Phylt-laced ore"
					evt.Subtract{"Inventory", Value = 688}         -- "Phylt-laced ore"
					evt.GiveItem{Strength = 3, Type = const.ItemType.Misc, Id = 0}
					evt.SetMessage{Str = 538}         -- "Here is your item. If you find more ore, I'll be happy to make you more items."
				else
					if evt.Cmp{"Inventory", Value = 687} then         -- "Siertal-laced ore"
						evt.Subtract{"Inventory", Value = 687}         -- "Siertal-laced ore"
						evt.GiveItem{Strength = 2, Type = const.ItemType.Misc, Id = 0}
						evt.SetMessage{Str = 538}         -- "Here is your item. If you find more ore, I'll be happy to make you more items."
					else
						if evt.Cmp{"Inventory", Value = 686} then         -- "Iron-laced ore"
							evt.Subtract{"Inventory", Value = 686}         -- "Iron-laced ore"
							evt.GiveItem{Strength = 1, Type = const.ItemType.Misc, Id = 0}
							evt.SetMessage{Str = 538}         -- "Here is your item. If you find more ore, I'll be happy to make you more items."
						else
							evt.SetMessage{Str = 539}         --[[ "You need ore for me to create items.
The better the ore, the better the items I can make." ]]
						end
					end
				end
			end
		end
	end
end

-- "Arcomage Tournament "
evt.global[597] = function()
	if evt.Cmp{"QBits", Value = 174} then         -- Won all Arcomage games
		evt.SetMessage{Str = 542}         --[[ "Congratulations!
You have become the Arcomage Champion!
The prize is waiting in the chest right outside my house." ]]
		evt.Subtract{"QBits", Value = 173}         -- "Win a game of Arcomage in all eleven taverns, then return to Tonk Blueswan in Ravenshore."
		evt.Subtract{"QBits", Value = 174}         -- Won all Arcomage games
		evt.ForPlayer(-- ERROR: Const not found
"All")
		evt.Add{"Experience", Value = 50000}
		evt.Add{"QBits", Value = 175}         -- Finished ArcoMage Quest - Get the treasure
		evt.Add{"Awards", Value = 41}         -- "Arcomage Champion."
		evt.SetNPCGreeting{NPC = 222, Greeting = 0}         -- "Tonk Blueswan" : ""
		evt.SetNPCTopic{NPC = 222, Index = 1, Event = 0}         -- "Tonk Blueswan"
	else
		if evt.Cmp{"QBits", Value = 173} then         -- "Win a game of Arcomage in all eleven taverns, then return to Tonk Blueswan in Ravenshore."
			evt.SetMessage{Str = 541}         --[[ "You must claim a victory at ALL 11 taverns.
Until you do, you cannot be declared Arcomage Champion." ]]
		else
			evt.SetMessage{Str = 540}         --[[ "To be declared Arcomage Champion, you must win a game of Arcomage in every tavern on, in, and under the continent of Jadame.
There are 11 such taverns sponsoring Arcomage events.
When you have accomplished this, return to me to claim the prize." ]]
			evt.Add{"QBits", Value = 173}         -- "Win a game of Arcomage in all eleven taverns, then return to Tonk Blueswan in Ravenshore."
		end
	end
end

-- "Rock Spire"
evt.global[598] = function()
	if evt.Cmp{"RepairSkill", Value = 1} then
		evt.SummonObject{Type = 35, X = 4010, Y = 7736, Z = 544, Speed = 1000, Count = 1, RandomAngle = false}         -- "Minotaur Battleaxe"
		evt.SummonObject{Type = 36, X = 4010, Y = 7736, Z = 544, Speed = 1000, Count = 1, RandomAngle = false}         -- "Two-Handed Axe"
		evt.SummonObject{Type = 37, X = 4010, Y = 7736, Z = 544, Speed = 1000, Count = 1, RandomAngle = false}         -- "Footman's Axe"
		evt.SummonObject{Type = 38, X = 4010, Y = 7736, Z = 544, Speed = 1000, Count = 1, RandomAngle = false}         -- "Minotaur War Axe"
		evt.SummonObject{Type = 39, X = 4010, Y = 7736, Z = 544, Speed = 1000, Count = 1, RandomAngle = false}         -- "Elite Minotaur Axe"
		evt.StatusText{Str = 805}         -- "I have traveled to these lands to catalog its array of available cheese. My task is nearly complete, but there are yet three cheeses I have yet to sample. These are Frelandeau, Eldenbrie and Dunduck. I would reward highly any who could locate these rare and reputedly tasty culinary gems for me."
	else
		evt.Set{"DiseasedGreen", Value = 0}
		evt.StatusText{Str = 806}         -- "You say you will find me the cheeses I desire, but here you are returned, empty-handed! Do not waste my precious time! Bring me cheese--Frelandeau, Eldenbrie and Dunduck! Do not return until you have them!"
	end
end

-- "My Life"
evt.global[654] = function()
	if evt.Cmp{"QBits", Value = 179} then         -- Quests 176-178 done.
		evt.SetMessage{Str = 811}         -- "With the cheeses you have brought me, I have now eaten all of the world's known cheeses. Now none can say that I, Asael Fromago, am not history's most eminent connoisseur of cheese! None can compare to my glory! Ha-ha-ha…"
	else
		evt.SetMessage{Str = 810}         -- "Even as a lad I knew I had a special relationship with cheese. Why, my first memory is of nibbling a bit of farmer's cheddar from my mother's hand! From that day I knew it would be my passion to eat cheese, to know all of the endless variety of its tasty wonderment, and to search the world for rare and exotic cheese-stuff. And so have I made my life...and destiny."
	end
end

-- "Vori Cheese Masters"
evt.global[655] = function()
	evt.SetMessage{Str = 809}         -- "There are no people more dedicated to cheesecraft than the august cheese masters of Vori. Otherwise known to be rather barbaric, the Vori Frost Giants are true emblems of the potential of civilized development--at least as far as cheese making is concerned. Did you know that they have forty-two different words for ""cheese."""
end

-- "Quest"
evt.global[656] = function()
	if not evt.Cmp{"QBits", Value = 176} then         -- "Find a wheel of Frelandeau Cheese. Bring it to Asael Fromago in Alvar."
		evt.SetMessage{Str = 805}         -- "I have traveled to these lands to catalog its array of available cheese. My task is nearly complete, but there are yet three cheeses I have yet to sample. These are Frelandeau, Eldenbrie and Dunduck. I would reward highly any who could locate these rare and reputedly tasty culinary gems for me."
		evt.Add{"QBits", Value = 176}         -- "Find a wheel of Frelandeau Cheese. Bring it to Asael Fromago in Alvar."
		evt.Add{"QBits", Value = 177}         -- "Find a log of Eldenbrie Cheese. Bring it to Asael Fromago in Alvar."
		evt.Add{"QBits", Value = 178}         -- "Find a ball of Dunduck Cheese. Bring it to Asael Fromago in Alvar."
		return
	end
	evt.ForPlayer(-- ERROR: Const not found
"All")
	if evt.Cmp{"Inventory", Value = 658} then         -- "Wheel of Frelandeau"
		if evt.Cmp{"Inventory", Value = 659} then         -- "Log of Eldenbrie"
			if evt.Cmp{"Inventory", Value = 660} then         -- "Ball of Dunduck"
				evt.SetMessage{Str = 808}         -- "Excellent! Give me the cheeses! I must consume them!Ah….munch munch….frelandeau, exquisite….mmmm, and eldenbrie, wondrously smoky…and hmmm, dunduck…well, that's not very nice, is it?You have made my Jadamean cheese cataloging safari a success! I can die a happy man! You have the humble thanks of a man of cheese. And here is your promised reward!"
				evt.ForPlayer(-- ERROR: Const not found
0)
				evt.Add{"Gold", Value = 25000}
				evt.ForPlayer(-- ERROR: Const not found
"All")
				evt.Add{"Experience", Value = 20000}
				evt.Subtract{"Inventory", Value = 658}         -- "Wheel of Frelandeau"
				evt.Subtract{"Inventory", Value = 659}         -- "Log of Eldenbrie"
				evt.Subtract{"Inventory", Value = 660}         -- "Ball of Dunduck"
				evt.Add{"Awards", Value = 42}         -- "Retrieved three cheeses for Asael Fromago, the Cheese Connoisseur of Alvar."
				evt.Subtract{"QBits", Value = 176}         -- "Find a wheel of Frelandeau Cheese. Bring it to Asael Fromago in Alvar."
				evt.Subtract{"QBits", Value = 177}         -- "Find a log of Eldenbrie Cheese. Bring it to Asael Fromago in Alvar."
				evt.Subtract{"QBits", Value = 178}         -- "Find a ball of Dunduck Cheese. Bring it to Asael Fromago in Alvar."
				evt.Add{"QBits", Value = 179}         -- Quests 176-178 done.
				evt.SetNPCTopic{NPC = 254, Index = 2, Event = 0}         -- "Asael Fromago"
				return
			end
		end
	end
	if not evt.Cmp{"Inventory", Value = 658} then         -- "Wheel of Frelandeau"
		if not evt.Cmp{"Inventory", Value = 659} then         -- "Log of Eldenbrie"
			if not evt.Cmp{"Inventory", Value = 660} then         -- "Ball of Dunduck"
				evt.SetMessage{Str = 806}         -- "You say you will find me the cheeses I desire, but here you are returned, empty-handed! Do not waste my precious time! Bring me cheese--Frelandeau, Eldenbrie and Dunduck! Do not return until you have them!"
				return
			end
		end
	end
	evt.SetMessage{Str = 807}         -- "Very good, you have found me some of the cheese I seek. But now I have my heart set on a full cheese tasting with all three cheeses eaten at once so I can savor them in comparison. Come back when you have then all. I will not take what you have now. I don't think I could resist sampling what you leave--and then the cheese tasting would be ruined!"
end

-- "The Stranger"
evt.global[657] = function()
	evt.SetMessage{Str = 812}         --[[ "The night the stranger came through here was the same night that the crystal erupted in the center of town.
I only caught a glimpse of the stranger.
He didn’t appear the potent mage that he was.
I was not in the town square when he summoned the crystal, but I did see the flash of light that traveled across the sky.
It was truly a terrible night." ]]
end

-- "Night of the Crystal"
evt.global[658] = function()
	evt.SetMessage{Str = 813}         --[[ "A wanderer came into town.
Several ruffians sought to relieve this traveler of whatever wealth he possibly possessed. The wanderer barely paid any of them much notice.
With a small flick of his wrist all fell before him.
Then he walked to the town square and summoned the giant crystal that you'll find there today." ]]
end

-- "The Crystal"
evt.global[659] = function()
	evt.SetMessage{Str = 814}         --[[ "There is an ancient saying among the Dark Elf people,
""a thing lives only as long as the last person who remembers it.""
The events the night the crystal burst forth into our lives will live for a very long time.
Many of us saw the events of that night.
The mage who summoned forth the crystal said not one word to anyone us.
When he looked upon us, it seemed that all there was in his heart and eyes was pity." ]]
end

-- "Wandering Mage"
evt.global[660] = function()
	evt.SetMessage{Str = 815}         --[[ "When the mage came into town I didn’t think much of it.
This is Ravenshore.
Everyone who travels the roads of Jadame comes through here at some time or another.
I guess I should have paid more attention to him.
Seems he caused quite a stir in the town square." ]]
end

-- "Pirate Raids"
evt.global[661] = function()
	evt.SetMessage{Str = 816}         --[[ "The Pirates of Regna own the seas.
No one can stand against them!
Several years ago, some fishing boat captains thought that they could sail to Erathia to get help dealing with the pirates.
We never saw or heard from them again." ]]
end

-- "Regnans"
evt.global[662] = function()
	evt.SetMessage{Str = 817}         --[[ "The Regnans are the worst slime to ever set foot on the shore of Jadame. They keep the peoples of this continent from trading with Erathia and Enroth.
What choice do we have?
Even the Merchants of Alvar couldn’t muster a fleet to deal with the pirates.
Rumor says that there are smugglers around that have found ways around the pirate blockades." ]]
end

-- "Empire of the Endless Ocean"
evt.global[663] = function()
	evt.SetMessage{Str = 818}         --[[ "The Regnans call themselves the Empire of the Endless Ocean--trying to make more of themselves than there really is.
All they are is bullies and bandits.
Of course, don’t tell them that I said that!" ]]
end

-- "Ogres and Bandits"
evt.global[664] = function()
	evt.SetMessage{Str = 819}         --[[ "Over the last few weeks there have been reports of bandits and Ogres robbing travelers on all of the major roads of Jadame. Times just seem to be getting worse.
Between the Regnan Pirates and these bandits it seems that no one is safe to travel by any means." ]]
end

-- "Overland Travel"
evt.global[665] = function()
	evt.SetMessage{Str = 820}         --[[ "Several of the warriors got together to go take care of the ogres that were camping on the road to Ravenshore.
That’s when we first had word of the fortress they were constructing to the southwest of here.
Since the fortress was completed the roads to the south and west have not been safe." ]]
end

-- "Smugglers"
evt.global[666] = function()
	evt.SetMessage{Str = 821}         --[[ "The Smuggler of Jadame may be a myth, but I think not.
The Merchants of Alvar seem to be able to send small amounts of goods away across the sea to Erathia and Enroth.
Yet they own no boats of their own.
 This would seem to support the idea that there really are smugglers.
Now why they work for the merchants is beyond the likes of me." ]]
end

-- "Wererats!"
evt.global[667] = function()
	evt.SetMessage{Str = 822}         --[[ "Wererats!
They are the worst of scum!
The pick through our trash at night!
Always scurrying around in the dark!
Never seen when the sun is up.
Gives one the shivers it does!" ]]
end

-- "Cyclopes of Ironsand"
evt.global[668] = function()
	evt.SetMessage{Str = 823}         --[[ "The Cyclopes that dwell to the southeast of here have always been a threat to the village of Rust!
But the village has always been able to push back any raid.
They aren't so tough in small numbers, but if they can catch you out in the desert unaware, you will not survive!
" ]]
end

-- "Sea of Fire"
evt.global[669] = function()
	evt.SetMessage{Str = 824}         --[[ "The sea of fire took us all by surprise.
It spread through the eastern half of the village like wildfire.
Luckily its growth seems to have slowed.
Still I don’t know how much longer any of us can last." ]]
end

-- "Find us a home!"
evt.global[670] = function()
	evt.SetMessage{Str = 825}         --[[ "We need to find a new place to live!
There is no way any people could live under these conditions.
Even the Cyclopes will be forced to move.
There are legends that talk about the ancient homeland that we traveled here from.
The stories say that it was lush and green.
If we only had such a place to return to." ]]
end

-- "Ore Traders"
evt.global[671] = function()
	evt.SetMessage{Str = 826}         --[[ "There are traders in Alvar and Shadowspire that trade for the different types of ore that can be found all over Jadame.
They use the ore to create items that they are more than happy to trade for more ore!" ]]
end

-- "Vault of Time"
evt.global[672] = function()
	evt.SetMessage{Str = 827}         -- "You know, it is said the Vault of Time was here before Ravenshore; the town was built around it. It is supposed to contain the treasure of the old Emperor Thorn who ruled the lands around here hundreds of years ago. Many come here to try and open the vault, but none succeed."
end

-- "Renegade Dragons"
evt.global[673] = function()
	evt.SetMessage{Str = 828}         -- "As if Quixote was not enough of a problem to plague us, we must also contend with Ilsingore, Ilsingore and Old Loeb--renegades among our kind! They think they can rebuild our race by scattering across Jadame and starting their own tribes. Fools! All they do is weaken us by removing themselves from our numbers. Yaardrake has fled to the Ironsand Desert. I know not where the others have gone."
end

-- "Other Dragons"
evt.global[674] = function()
	evt.SetMessage{Str = 829}         -- "While Garrote Gorge has the highest concentration of dragons in Jadame, I hear there is hunting to be had elsewhere. For instance, there is rumored to be a great old dragon out in the Ironsand Desert. Another is supposed to be somewhere in the badlands of Ravage Roaming."
end

-- "Dragon on Regna"
evt.global[675] = function()
	evt.SetMessage{Str = 830}         -- "When Charles Quixote brought us over from Erathia, we sailed past Regna Island. Since this was our first sight of Jadamean land on the voyage, it was an omen of our hunting expedition's future success that I saw an ancient dragon winging its way towards the island. How I wish I could get a spear in that one! It was the biggest dragon I'd ever seen!"
end

-- "The Destroyer"
evt.global[676] = function()
	evt.SetMessage{Str = 831}         -- "Yes, I was here the day the Destroyer walked through Ravenshore! I was at the blacksmith's getting a knife sharpened. He walked right past us like he owned the town. A crowd was following him at a distance. One of them threw a rock, but it bounced off a magic shield surrounding him. He didn't even seem to notice. Later I heard an explosion from the town square. I ran out to look, but the Destroyer was gone and that crystal and scattered bodies were all that remained."
end

-- "The Destroyer"
evt.global[677] = function()
	evt.SetMessage{Str = 832}         -- "Yeah, I saw the ""Destroyer"" and well named he is! I thought he was a rich merchant, and he looked like easy prey, so I…well, I tried to rob him. I ran ahead of him and lay in ambush in an alley, waiting for him to pass. When he walked by, I made a grab for him. My mistake! I didn't even touch him! As soon as I got near him, I was thrown back by his magic. In fact, I was thrown over a house into the next street!"
end

-- "Temple of Eep"
evt.global[678] = function()
	evt.SetMessage{Str = 833}         -- "Those cursed ratmen--those so-called ""Priests of Eep""--are nothing but trouble. More like a pack of thieves than holy men, they are! I'll warn you, traveler. Keep an eye on your equipment when they're around. They'll steal anything that isn't nailed down."
end

-- "Cheese"
evt.global[679] = function()
	evt.SetMessage{Str = 834}         -- "Well, if you're looking for cheese, I daresay you will find it in the churches of Eep. You know mice like cheese. Well, this rule also applies to the ratmen of Eep. It is said that they keep a horde of the stuff in each of their temples."
end

-- "Gralkor the Cruel"
evt.global[680] = function()
	evt.SetMessage{Str = 835}         -- "On top of all of our problems here, the lord of our plane, Gralkor the Cruel is missing. He is a being of great power and could no doubt fight the dark magic which assails this plane."
end

-- "Plane of Earth"
evt.global[681] = function()
	evt.SetMessage{Str = 836}         -- "I wish I understood what has happened here. One day it was life as usual here…and this is normally a peaceful realm. Then suddenly everyone was howling with violent madness and was filled with a thirst to crush your land of Jadame. Even now my fellow Earth Plane denizens work single-mindedly to push the firmament of our realm into yours."
end

-- "Shalwend"
evt.global[682] = function()
	evt.SetMessage{Str = 837}         -- "Perhaps the reason I am not affected by the madness is that I carry with me an amulet given to me by the lord of this plane, Shalwend. It is said in our legends that he and the other elemental lords made your world. No doubt if Shalwend was here he could stop the creeping madness, but he is missing! Where is our lord in our time of greatest need?"
end

-- "Plane of Air"
evt.global[683] = function()
	evt.SetMessage{Str = 838}         -- "It was clearly magic which caused the madness that has taken my fellow Plane of Air dwellers. On the day it struck there was instant chaos. All who were affected dropped what they were doing and began to howl. It was a chorus of horror! Only a handful of us maintain our sanity. Now, day by day, our glorious realm falls further and further towards a state of hellish decline."
end

-- "Plane of Water"
evt.global[684] = function()
	evt.SetMessage{Str = 839}         -- "I am not unschooled in the ways of magic. Clearly some spell of almost unimaginable power has affected those that live in this watery realm. My main curiosity is to know why this has occurred. Clearly no one would risk using such power if it was not to achieve some terrible end. All I know is that the Plane of Water makes war upon your realm. From here, I can discern no reason to it!"
end

-- "Acwalander"
evt.global[685] = function()
	evt.SetMessage{Str = 840}         -- "W-what has h-happened to my home w-waters? All are c-consumed by m-m-madness! And worse, our l-lord is m-missing! Where is our r-ruler, th-the mighty Acw-w-walander! W-without him w-we are d-doomed!"
end

-- "Pyrannaste"
evt.global[686] = function()
	evt.SetMessage{Str = 841}         -- "I know to your eyes, this plane must seem a hell-scape. But I tell you, normally it is not so. Before the madness we lived here together in a state of peace and harmony. But then, one day the madness fell and our Lord Pyrannaste was nowhere to be found. Perhaps his absence caused the madness? It may be so, he has never before been gone from this realm in my memory."
end

-- "Plane of Fire"
evt.global[687] = function()
	evt.SetMessage{Str = 842}         -- "Though the madness affects almost all of those that live here, it has not robbed them of their cunning. As I am sure you are aware, they make war on your realm, but it is not with crazed abandon that they do so. Leaders have emerged among the affected, and these make shrewd military designs against you. Even now they mass near the gateway to Jadame in preparation for a massive assault."
end

-- "Adventure"
evt.global[688] = function()
	if evt.Cmp{"QBits", Value = 19} then         -- Allied with Necromancers Guild. Steal Nightshade Brazier done.
		evt.SetMessage{Str = 321}         -- "Well, now that things seem to be settled with our little war with the Temple of the Sun. Sandro has said that guild members may turn their attention to other matters. Since arriving in Jadame, I have seen little of it save for the lands of Shadowspire. Say...perhaps you could use my services!"
		evt.SetNPCTopic{NPC = 278, Index = 0, Event = 617}         -- "Hevatia Deverbero" : "Roster Join Event"
	else
		evt.SetMessage{Str = 322}         -- "I wish I could join with you. Sadly, our war with the Temple of the Sun takes up all of our time. The guild cannot spare me now."
	end
end

-- "Join with Us"
evt.global[689] = function()
	if evt.Cmp{"QBits", Value = 20} then         -- Allied with Temple of the Sun. Destroy the Skeleton Transformer done.
		evt.SetMessage{Str = 323}         -- "Yes! I would love to join with you. Now that our holy war against the foul Necromancers' Guild seems to be going well, I find I have little to do around here. I will go with you if you will take me."
		evt.SetNPCTopic{NPC = 279, Index = 0, Event = 618}         -- "Verish " : "Roster Join Event"
	else
		evt.SetMessage{Str = 396}         -- "I wish I could. Unfortunately, we make holy war with the foul Necromancers' Guild. All of the Sun Temple's resources, including myself, are dedicated to that cause."
	end
end

-- "Adventure"
evt.global[690] = function()
	if evt.Cmp{"QBits", Value = 21} then         -- Allied with Charles Quioxte's Dragon Hunters. Return Dragon Egg to Quixote done.
		evt.SetMessage{Str = 397}         -- "Adventure with you? Yes I will. In fact, before he left, Charles Quixote suggested just that. ""Nelix,"" he said, ""if those alliance heroes come by, you ought to consider going with them."" Apparently, he thinks highly of you. Well, his recommendation is enough for me. Shall we go?"
		evt.SetNPCTopic{NPC = 280, Index = 0, Event = 619}         -- "Nelix Uriel" : "Roster Join Event"
	else
		evt.SetMessage{Str = 398}         -- "Go with you? I think not. Why would I want to join up with a bunch of amateurs when I have all the action I can handle here? Don't make me laugh. What can you offer me that a life of Dragon hunting does not?"
	end
end

-- "Come with Us"
evt.global[691] = function()
	if evt.Cmp{"QBits", Value = 34} then         -- Alliance Council formed. Quest 13 done.
		evt.SetMessage{Str = 400}         -- "Yes, that sounds good. Though the village could use me to protect it, I think the best I could do for it would be to go with you. My people will be destroyed if the cataclysm is not ended. If I can do something to stop it, I should."
		evt.SetNPCTopic{NPC = 281, Index = 0, Event = 620}         -- "Sethrc Thistlebone" : "Roster Join Event"
	else
		evt.SetMessage{Str = 399}         -- "Go with you? I like the idea, but I must stay here. I am one of the last veteran warriors left here. I must stay to protect the village."
	end
end

-- "Adventure"
evt.global[692] = function()
	if evt.Cmp{"QBits", Value = 34} then         -- Alliance Council formed. Quest 13 done.
		evt.SetMessage{Str = 401}         -- "Join your group? I would be glad to. Not only have you done a great service for my herd, it has become clear to me that your actions will decide our very survival."
		evt.SetNPCTopic{NPC = 282, Index = 0, Event = 621}         -- "Rionel" : "Roster Join Event"
	else
		evt.SetMessage{Str = 408}         -- "Join you? I must decline the offer. Though you have done a great service for my herd, I am not yet sure of your leadership. I want to help fight the cataclysm, but I'm not sure your way is the right one."
	end
end

-- "Adventure"
evt.global[693] = function()
	if evt.Cmp{"QBits", Value = 34} then         -- Alliance Council formed. Quest 13 done.
		evt.SetMessage{Str = 409}         -- "Don't think your exploits have gone unnoticed! Clearly you are adventurers of the highest caliber. I would consider joining your team…that is, if you will have me."
		evt.SetNPCTopic{NPC = 283, Index = 0, Event = 622}         -- "Adric Stellare" : "Roster Join Event"
	else
		evt.SetMessage{Str = 410}         -- "I see you too are adventurers. But…well, can I be frank? Though I don't doubt your potential, clearly you are not the most experienced group I've seen. I'd be happy to join you if you were more…shall we say, ""seasoned?"""
	end
end

-- "Go with Us"
evt.global[694] = function()
	if evt.Cmp{"QBits", Value = 34} then         -- Alliance Council formed. Quest 13 done.
		evt.SetMessage{Str = 501}         -- "Yes! Yes! An excellent idea. You are just the kind of companions I am seeking. I have heard of you and your adventures."
		evt.SetNPCTopic{NPC = 284, Index = 0, Event = 623}         -- "Infaustus " : "Roster Join Event"
	else
		evt.SetMessage{Str = 502}         -- "No. I am an elder vampire. To be clear, you're not worthy of me. I seek adventure, not to be your caretaker. I don't have the patience to teach you all the basics."
	end
end

-- "Come with Us"
evt.global[695] = function()
	if evt.Cmp{"QBits", Value = 34} then         -- Alliance Council formed. Quest 13 done.
		evt.SetMessage{Str = 503}         -- "Yes, you seem worthy of my company. Very well, I will go if you will have me."
		evt.SetNPCTopic{NPC = 285, Index = 0, Event = 624}         -- "Brimstone" : "Join"
	else
		evt.SetMessage{Str = 504}         -- "I think not. Now that I've had a chance to look at you, it is clear that you are not worthy of my company. I seek a group of greater renown."
	end
end

-- "Join Us"
evt.global[696] = function()
	if evt.Cmp{"QBits", Value = 38} then         -- Quest 36 is done.
		evt.SetMessage{Str = 505}         -- "I must say I find the idea appealing. Hmmm, yes! The taste of the open road is just what I need. I have been long at this business of dragon slaying, and I must say it grows stale. A man must keep himself interested. I will go with you if you like."
		evt.SetNPCTopic{NPC = 288, Index = 0, Event = 627}         -- "Tempus " : "Roster Join Event"
	else
		evt.SetMessage{Str = 513}         -- "You must be joking! I am a rightly famous knight. Why would I want to travel with such riff-raff as yourselves? Oh, it might be fun after a fashion, but I do have my reputation to think of."
	end
end

-- "Join Us"
evt.global[697] = function()
	if evt.Cmp{"QBits", Value = 38} then         -- Quest 36 is done.
		evt.SetMessage{Str = 514}         -- "Yes! That sounds great. From what I hear of your adventures you have a chance to know greatness. With my help, we could make that chance a certainty. Well, shall we? I'm always looking for a chance to add to my legend!"
		evt.SetNPCTopic{NPC = 289, Index = 0, Event = 628}         -- "Thorne Understone" : "Roster Join Event"
	else
		evt.SetMessage{Str = 515}         -- "Join you? Ho-ho. What an amusing idea. Why would the great Thorne Understone travel with the likes of you?"
	end
end

-- "Adventure"
evt.global[698] = function()
	if evt.Cmp{"QBits", Value = 38} then         -- Quest 36 is done.
		evt.SetMessage{Str = 543}         -- "Ah, ""adventure."" Surely I have not had enough of it recently. Since our war with the Frost Giants, I have done little but train young warriors. Say, you wouldn't happen to want a traveling companion? Perhaps I could come with you. I have many skills you might find useful, and I swing a deadly axe!"
		evt.SetNPCTopic{NPC = 290, Index = 0, Event = 629}         -- "Ulbrecht" : "Roster Join Event"
	else
		evt.SetMessage{Str = 544}         -- "Yes, adventure is a fine thing. Why I have had several. In fact, let me tell you about the time I….Say, it just occurred to me you are suggesting I adventure with you! A nice offer, but well…how can I say this politely? You're just not seasoned enough. I'm afraid I would grow bored with the kinds of challenges you are ready to face."
	end
end

-- "Come with Us"
evt.global[699] = function()
	if evt.Cmp{"QBits", Value = 38} then         -- Quest 36 is done.
		evt.SetMessage{Str = 545}         -- "Ah, you suggest I come along with you to see the land for myself. An excellent suggestion. I am certainly well rested enough! Very well, I am ready to travel if you will take me."
		evt.SetNPCTopic{NPC = 292, Index = 0, Event = 631}         -- "Artorius Veritas" : "Roster Join Event"
	else
		evt.SetMessage{Str = 546}         -- "Though I may not look it after my long sleep, know that you speak with one of the greatest vampires alive today. Go with you? I think not. Your inexperience would make you more of a hindrance to me than anything. I would do better on my own."
	end
end

-- "Join Us"
evt.global[700] = function()
	if evt.Cmp{"QBits", Value = 38} then         -- Quest 36 is done.
		evt.SetMessage{Str = 547}         -- "Join you! Ha! I admire your audacity. Yes…admire it a great deal. Very well. You have my respect. I will go with you."
		evt.SetNPCTopic{NPC = 293, Index = 0, Event = 632}         -- "Duroth the Eternal" : "Join"
	else
		evt.SetMessage{Str = 548}         -- "Join you? What a fool's notion. I already travel with a certain number of fleas. I don't need any more parasites. Be gone!"
	end
end

-- "The Family Tomb"
evt.global[701] = function()
	evt.SetMessage{Str = 843}         -- "The Snapfinger family tomb is one of the lowest in our village's burial catacombs. Since we are such an honored family, our crypt is the largest. It isn't the easiest place to find--even I have become lost looking for it! When I do, I find it by keeping a hand on the right-side wall. I eventually get there."
end

-- "Have you found the shield?"
evt.CanShowTopic[702] = function()
	return not evt.Cmp{"QBits", Value = 128}         -- Recovered the the Shield, Eclipse for Lathius
end

evt.global[702] = function()
	evt.SetMessage{Str = 844}         --[[ "Have you found the shield?
The recovery of Eclipse is very important to the Temple of the Sun!
You must help us find it!" ]]
end

-- "Use Eclipse well!"
evt.global[703] = function()
	evt.SetMessage{Str = 845}         --[[ "Thanks again for recovering the shield Eclipse!
I hope it has proven helpful in your adventures." ]]
end

-- "Come with Us"
evt.global[706] = function()
	if evt.Cmp{"QBits", Value = 59} then         -- Returned to the Merchant guild in Alvar with overdune. Quest 25 done.
		evt.SetMessage{Str = 850}         -- "Sure, why not? I'm ready to go--just have to grab my gear! I'll show the guild who is worthy and who isn't!"
		evt.SetNPCTopic{NPC = 270, Index = 0, Event = 609}         -- "Karanya Memoria" : "Roster Join Event"
	else
		evt.SetMessage{Str = 849}         -- "I'm sorry. I'd like to adventure, yes, but you're just not at my level."
	end
end

-- "Come with Us"
evt.global[707] = function()
	if evt.Cmp{"QBits", Value = 59} then         -- Returned to the Merchant guild in Alvar with overdune. Quest 25 done.
		evt.SetMessage{Str = 852}         -- "Say, that sounds grand! Yes, I will go with you, if you will have me."
		evt.SetNPCTopic{NPC = 271, Index = 0, Event = 610}         -- "Maylander " : "Roster Join Event"
	else
		evt.SetMessage{Str = 851}         -- "No…no, that life is over for me. Besides, if I were to take up the mace again, it would be with other companions. I'm afraid--if I may speak bluntly--I just can't see myself traveling with a group as inexperienced as yours."
	end
end

-- "Join Us"
evt.global[708] = function()
	if evt.Cmp{"QBits", Value = 59} then         -- Returned to the Merchant guild in Alvar with overdune. Quest 25 done.
		evt.SetMessage{Str = 854}         -- "Yes, we'd make quite a team! We have all done such great deeds, how could not further greatness follow from our joining together? I'll go with you if you want."
		evt.SetNPCTopic{NPC = 275, Index = 0, Event = 614}         -- "Jasp Thelbourne" : "Roster Join Event"
	else
		evt.SetMessage{Str = 853}         -- "I think not! Why would I travel with the likes of you? Perhaps you didn't catch my name, ""Jasp Thelbourne?"" Yes, that ""Thelbourne,"" rabble. No, whatever you're up to, I'm not interested."
	end
end

-- "Ogre Raiders"
evt.global[709] = function()
	if evt.Cmp{"QBits", Value = 67} then         -- I have killed all the oges in the ogre fort
		evt.SetMessage{Str = 857}         -- "You have done us all a great service by clearing out the Ogre's fort. Now our caravans can freely travel to Murmurwoods. I thank you…and my purse certainly thanks you!"
	else
		evt.SetMessage{Str = 856}         -- "I tell you, with all that's going on, it's like an honest merchant can't get business done! I mean, we've always had to deal with Ogre raiders, but now they've grown so bold as to have built a fort right here in Alvar! Now no caravans can take the west road to Murmurwoods. The worst of it is most of my trade with the Temple of the Sun there!"
	end
end

-- "Wasps"
evt.global[710] = function()
	evt.SetMessage{Str = 858}         -- "Sure we have wasps in Alvar--and rather large ones, too--but we tolerate them for good reason. Many of our customers desire wasp products. Say…if you want to get in on the action, the trader, Veldon, is a broker for wasp parts. He lives here in town, and I hear he is currently trying to fill a large order for wasp stingers."
end

-- "Trained Dragons"
evt.global[711] = function()
	evt.SetMessage{Str = 859}         -- "Not many people know this, but it is possible to train a Dragon. It's sort of like breaking a horse, except that it requires more special equipment and a lot of magic. Those tame Dragons outside the fort are an example of my work. Right now they are loyal to us, but I will bond them to their ultimate customer, Fennis Greenwood, a minor lord back in Erathia. Well, I will do so as soon as he pays us, that is."
end

-- "Zanthora"
evt.global[712] = function()
	evt.SetMessage{Str = 860}         -- "Zanthora is a strange character. Not to say that members of the Necromancers' Guild are not all strange, but she is truly mad. I hear that other guild members simply refuse to work with her--so terrible are her experiments. Still, they value her dark genius. To keep her around, they built her a lab of her own out on the marshy wastes outside of town."
end

-- "Vampire Crypt"
evt.global[713] = function()
	evt.SetMessage{Str = 861}         -- "For the most part, the Necromancers' Guild has the local vampires under control…mostly. But there's one place you don't want to go! Most of them sleep in a communal crypt north of the guild. Watch out if you go there. They're a bit, shall we say…""territorial."""
end

-- "The Guild"
evt.global[714] = function()
	evt.SetMessage{Str = 862}         -- "The Necromancers' Guild? Hey, I think they're great. You should have seen this place before they came--nothing going on at all! Sure, we got vampires, skeletons and other undead running around. Still, I gotta say, things are sure a lot more lively around here!"
end

-- "Coffins"
evt.global[715] = function()
	evt.SetMessage{Str = 863}         -- "As you might imagine, business is great. Oh, sure, the guild necromancers turn most of my customers into skeletons and zombies, but vampires are repeat business! Want a piece of the action? There's a wood dealer in town, Mylander, who is always looking for good Murmurwood lumber. If you have any he'll pay a pretty penny for it."
end

-- "Lava Tunnel"
evt.global[716] = function()
	evt.SetMessage{Str = 864}         -- "Hunting has become pretty hazardous of late, but still we must do it if we are to eat! Yesterday I was out along the western shore of the fire lake and found a tunnel that seems to go under the lake. I didn't explore it though. It was infested with gogs and worse...like everything else around here these days."
end

-- "Navigation"
evt.global[717] = function()
	evt.SetMessage{Str = 865}         -- "Even we who live here get lost. If you would not lose your way, follow the floating waystones. Ahhh…the madness returns….It returns!"
end

-- "The Easy Life"
evt.global[718] = function()
	evt.SetMessage{Str = 866}         -- "Ah, I'm glad you're out saving the world. I mean, someone has to do it. Me, I'm for the easy life. As long as I got my boat and my pole, and the fish are biting, I don't see any reason to do much else. Good luck to you though!"
end

-- "Dread Pirate Stanley"
evt.global[719] = function()
	evt.SetMessage{Str = 867}         -- "That Stanley, now there's a Regnan with some spark! Why I hear he's the one that got us in good with that thar Zog the Jackal--some sort of Ogre or giant Troll or something, I think--a genuine barbarian king. Now we got us our ships on the seas and a bunch of club swinging devils on the land. I tell ya, the Great and Mighty Regnan Empire is headed for greatness, what with the likes of the Dread Pirate Stanley doing for us!"
end

-- "Jadamean Smugglers"
evt.global[720] = function()
	evt.SetMessage{Str = 868}         -- "Oh sure, we Regnans have to put up with a bit of competition--I'm talking about smugglers, you know--but I understand the Dread Pirate Stanley is putting the clamp on that. Why I understand he kidnapped Arion Hunter's family just so he can pressure the wererat into staying off our turf. "
end

-- "Stanley's Treasure"
evt.global[721] = function()
	evt.SetMessage{Str = 869}         -- "Yeah, I know the ""Dread"" Pirate Stanley is the hero of the moment around here, but I say, fah! Sure he's done a lot for Regna, but no man does anything that doesn't help himself. Why I hear old Stanley's been shaving off the top of every deal he's in--and that's a lot of deals! What I'd like to know is where he keeps his booty. Probably not on Regna, I reckon. It wouldn't be a fortnight before someone dug it up!"
end

-- "Hidden Treasure"
evt.global[722] = function()
	evt.SetMessage{Str = 870}         -- "I have come up with a scheme for finding hidden treasure. Before you barged in, I was hard at work formulating a spell for sensing gold hidden beneath the ground. If I am successful, I plan to have a Dragon carry me over the wastelands of Ravage Roaming where the Dread Pirate Stanley's treasure is rumored to be buried. My spell will find it and I will be a wealthy man."
end

-- "Burial Mound"
evt.global[723] = function()
	evt.SetMessage{Str = 871}         -- "You mean the one just north of here? Well, none of us have anything to do with it. It's haunted!"
end

-- "Followers of Eep"
evt.global[724] = function()
	evt.SetMessage{Str = 872}         -- "I don't know where they're at, but I know there's some of them ratmen around here somewhere. At night I hear all sorts of squeaking and scuffling outside. In the morning, pretty much everything that isn't under lock or bolted down is gone. If I knew where that Eep church was. I'd take some of my boys over for a little...talk."
end

-- "Water Gateway"
evt.global[725] = function()
	evt.SetMessage{Str = 873}         -- "I was out with one of the crews working along the new lake searching for things that were washed out of the lair. We think we found the source of the flood. There is a strange gateway out in the middle of the lake. We don't have any boats, so we didn't explore it, but even from the shore, it is clear to see that it leads to a watery realm."
end

-- "Pirate Fortress"
evt.global[726] = function()
	evt.SetMessage{Str = 874}         -- "Well, if you haven't been to the fortress, that's the first place you should go. As you are aware from your orientation, the so-called fortress on this island is just a front to fool our enemies. You'll need to make your way to the real fort on the crescent island. Just take the underground passage marked on your orientation map."
end

-- "Regnan Culture"
evt.global[727] = function()
	evt.SetMessage{Str = 875}         -- "I know they call us ""pirates"" on Jadame, but really, we're just running our empire. It is not our fault that our Jadamean subjects refuse to acknowledge our rule and do not pay their taxes. Since they do not pay, we're forced to collect tribute in the form of booty. Actually we prefer it this way--saves us the trouble of having to actually rule the continent."
end

-- "Nightshade Amulets"
evt.global[728] = function()
	if evt.Cmp{"QBits", Value = 19} then         -- Allied with Necromancers Guild. Steal Nightshade Brazier done.
		evt.SetMessage{Str = 877}         -- "Normally, we vampires need one of Thant's Nightshade Amulets to travel freely during the day, but since you've brought us the Nightshade Brazier, glorious night covers Shadowspire around the clock! Now those of us who don't have the amulets can walk about during the day...well, at least as long as we stay in the area."
	else
		evt.SetMessage{Str = 876}         -- "We vampires cannot normally walk about in the daylight, but Thant the Necromancers' Guildmaster has created an artifact to deal with this. A vampire wearing one of his Nightshade Amulets can move about freely day or night. Sadly, there are few available. I myself do not have one so must stay indoors during the day."
	end
end

-- "Gaudy Jewelry"
evt.global[729] = function()
	evt.SetMessage{Str = 878}         -- "Though it isn't my style, I must say a lot of folks around here like to cover themselves with all sorts of jewelry. They say it's fashion, but I just find it gaudy. Anyway, if you have any to sell go find Pavel in town. He does a brisk trade in all sorts of tacky junk."
end

-- "Sunfish"
evt.global[730] = function()
	evt.SetMessage{Str = 879}         -- "You looking for sunfish? Sorry, can't help you. Funny thing is, I had a whole catch of them just last week, but Pavel the merchant bought the whole lot. Maybe you can get them from him."
end

-- "The Warehouse"
evt.global[731] = function()
	evt.SetMessage{Str = 882}         -- "We have a small warehouse downstairs. You are free to use the chests there to store extra equipment. Put anything in there you don't want to wander off!"
end

-- "Hint"
evt.global[732] = function()
	evt.ForPlayer(-- ERROR: Const not found
"All")
	if not evt.Cmp{"QBits", Value = 4} then         -- Letter from Q Bit 3 delivered.
		if evt.Cmp{"QBits", Value = 3} then         -- "Deliver Dadeross' Letter to Elgar Fellmoon at the Merchant House in Ravenshore."
			evt.SetMessage{Str = 891}         -- "Hmmm…I cannot look too far ahead--for the ether is thick today. All I see is that you must deliver the letter Dadeross gave you to the merchant, Elgar Fellmoon. Fellmoon lives in the city of Ravenshore."
			evt.Add{"AutonotesBits", Value = 273}         -- "10 points of temporary Fire resistance from the well in the south side of Moulder in Deyja."
		else
			evt.SetMessage{Str = 890}         -- "You are employed by the Merchants of Alvar, yes? Well, I think you should speak with Dadeross, the leader of your caravan. My far seeing vision tells me he is on the Dagger Wound Islands."
			evt.Add{"AutonotesBits", Value = 272}         -- "10 points of temporary Personality from the well near the Temple of the Dark in Moulder in Deyja."
		end
		return
	end
	if not evt.Cmp{"QBits", Value = 24} then         -- Received Reward from Elgar Fellmoon for completing quest 9.
		evt.SetMessage{Str = 892}         -- "I see a vision of you in which you take a letter from Elgar Fellmoon in Ravenshore to Arion Hunter, the leader of the Ravenshore smugglers. After this, you return to Fellmoon. The end of the vision is a blur, so you must not have lived entirely through it. Still, it is your fate to do these things."
		evt.Add{"AutonotesBits", Value = 274}         -- "25 points of temporary Intellect and Personality from the fountain outside the School of Sorcery in the Bracada Desert."
		return
	end
	if not evt.Cmp{"QBits", Value = 12} then         -- Quest 11 is done.
		evt.SetMessage{Str = 893}         -- "I don't need my vision to tell me what you must do next. Do as Fellmoon asked of you. Go seek Bastian Loudrin, the guildmaster of the Alvarian Merchant Guild. He is in the city of Alvar."
		evt.Add{"AutonotesBits", Value = 275}         -- "25 points of temporary Might, Intellect, Personality, Endurance, Speed, Accuracy, and Luck from the central fountain in Celeste."
		return
	end
	if not evt.Cmp{"QBits", Value = 62} then         -- Vilebites Ashes (item603) placed in troll tomb.
		if evt.Cmp{"QBits", Value = 25} then         -- "Find a witness to the lake of fire's formation. Bring him back to the merchant guild in Alvar."
			evt.SetMessage{Str = 895}         -- "In my dreams last night, I saw you traveling to the Ironsand Desert to find a witness to the formation of a great lake of fire which formed there during the cataclysm."
			evt.Add{"AutonotesBits", Value = 277}         -- "2 Skill Points from the well near Offerings and Blessings in Damocles in Mount Nighon. "
		else
			evt.SetMessage{Str = 894}         -- "I see an important connection has not been made between the present and your future. You must return to Bastian Loudrin and continue your conversations with him. He will send you on the next step down your road."
			evt.Add{"AutonotesBits", Value = 276}         -- "50 points of temporary Intellect and Personality from the central fountain in Damocles in Mount Nighon."
		end
		return
	end
	if not evt.Cmp{"QBits", Value = 59} then         -- Returned to the Merchant guild in Alvar with overdune. Quest 25 done.
		evt.SetMessage{Str = 896}         -- "It is clear to me that you must bring the Troll, Overdune, to the merchant guild in Alvar."
		evt.Add{"AutonotesBits", Value = 278}         -- "2 points of permanent Personality from the well near Fortune's Folly in Damocles in Mount Nighon."
		return
	end
	if evt.Cmp{"QBits", Value = 34} then         -- Alliance Council formed. Quest 13 done.
		if evt.Cmp{"QBits", Value = 57} then         -- The Pirates invaded Ravenshore
			evt.SetMessage{Str = 903}         -- "In case you haven't heard, Ravenshore is under attack by the Regnan pirates. The town has been evacuated. You must eliminate the pirate threat before the alliance council will return to guide you."
			evt.Add{"AutonotesBits", Value = 285}         -- "20 points of temporary Armor Class from the well in the northern village in Tatalia."
			return
		end
		if not evt.Cmp{"QBits", Value = 37} then         -- Regnan Pirate Fleet is sunk.
			if evt.Cmp{"QBits", Value = 36} then         -- "Sink the Regnan Fleet. Return to the Ravenshore council chamber."
				evt.SetMessage{Str = 902}         -- "You must do as the alliance council has asked of you. Find a way to Regna Island and sink the Regnan port fleet."
				evt.Add{"AutonotesBits", Value = 284}         -- "20 points of temporary Air resistance from the well in the eastern section of Tidewater in Tatalia."
			else
				evt.SetMessage{Str = 901}         -- "I see an important connection has not been made between the present and your future destiny. You must return to the council chamber in the Ravenshore merchant guild. The councilors will send you on the next step down your road."
				evt.Add{"AutonotesBits", Value = 283}         -- "2 points of permanent Speed from the well in the western section of Tidewater in Tatalia."
			end
			return
		end
		if not evt.Cmp{"QBits", Value = 38} then         -- Quest 36 is done.
			evt.SetMessage{Str = 904}         -- "Now that you've sunk the Regnan fleet. Go and seek the wisdom of your alliance council. They will give you the next task that will make your destiny."
			evt.Add{"AutonotesBits", Value = 286}         -- "2 points of permanent Endurance from the well in the northeast section of Spaward in Avlee."
			return
		end
		if not evt.Cmp{"QBits", Value = 92} then         -- Quest 91 done.
			if evt.Cmp{"QBits", Value = 91} then         -- "Consult the Ironfists' court sage, Xanthor about the Ravenshore crystal."
				evt.SetMessage{Str = 906}         -- "I see an important link between the present and your future has not been forged. Seek out the sage, Xanthor who resides in Ravenshore. He will send you on your destiny's next task."
				evt.Add{"AutonotesBits", Value = 288}         -- "25 Hit Points regained from the well in the island village in Avlee."
			else
				evt.SetMessage{Str = 905}         -- "You must speak to the Ironfists' court sage, Xanthor. He is housed in Ravenshore."
				evt.Add{"AutonotesBits", Value = 287}         -- "20 points of temporary Water resistance from the well in the northwest section of Spaward in Avlee."
			end
			return
		end
		if evt.Cmp{"QBits", Value = 45} then         -- Quests 41-44 done. Items from 41-44 given to XANTHOR.
			if evt.Cmp{"QBits", Value = 47} then         -- Quest 46 done. Used to allow entrance to elemental lord prisons. Now player needs item 629.
				if evt.Cmp{"QBits", Value = 228} then         -- You have seen the Endgame movie
					evt.SetMessage{Str = 913}         -- "The Balance is restored. Now that your destiny is made, I can no longer guide you--my sight only pertains to what is connected to the fate of Balance. What you do now is up to you. Good luck to you, Heroes of Jadame!"
					evt.Add{"AutonotesBits", Value = 295}         -- "White liquid grants Luck."
				else
					if evt.Cmp{"QBits", Value = 56} then         -- All Lords from quests 48, 50, 52, 54 rescued.
						evt.SetMessage{Str = 912}         -- "Seek out Xanthor! Though he is but a piece in the game of Balance, the next move you make towards destiny it through a meeting with him."
						evt.Add{"AutonotesBits", Value = 294}         -- "Purple liquid grants Speed."
					else
						evt.SetMessage{Str = 911}         -- "Your path is clear to my vision. You must seek out the four elemental lords and release them from their prisons. These prisons are in the Destroyer's realm--the Plane Between Planes."
						evt.Add{"AutonotesBits", Value = 293}         -- "Yellow liquid grants Accuracy."
					end
				end
			else
				if evt.Cmp{"QBits", Value = 235} then         -- Have talked to Escaton
					evt.SetMessage{Str = 910}         -- "You have talked to the Destroyer, but have failed to gather from him the key which will unlock your future. Return to him and continue your conversations."
					evt.Add{"AutonotesBits", Value = 292}         -- "Green liquid grants Endurance."
				else
					evt.SetMessage{Str = 909}         -- "Your destiny lies through the crystal gateway in Ravenshore. It will take you to the Plane Between Planes. There you will find the source of the elemental cataclysm."
					evt.Add{"AutonotesBits", Value = 291}         -- "Blue liquid grants Personality."
				end
			end
			return
		end
		if evt.Cmp{"Inventory", Value = 606} then         -- "Heart of Fire"
			if evt.Cmp{"Inventory", Value = 607} then         -- "Heart of Water"
				if evt.Cmp{"Inventory", Value = 608} then         -- "Heart of Air"
					if evt.Cmp{"Inventory", Value = 609} then         -- "Heart of Earth"
						evt.SetMessage{Str = 908}         -- "Now that you have the four elemental heartstones, you must now bring them to Xanthor in Ravenshore."
						evt.Add{"AutonotesBits", Value = 290}         -- "Orange liquid grants Intellect."
						return
					end
				end
			end
		end
		goto _79
	end
	if not evt.Cmp{"QBits", Value = 23} then         -- Allied with Minotaurs. Rescue the Minotaurs done.
		evt.SetMessage{Str = 897}         -- "I see far through space today, but not through time. A great disaster has befallen the Minotaurs of Balthazar Lair in Ravage Roaming. I feel that your destiny is linked with their fate. You must rescue them from their peril."
		evt.Add{"AutonotesBits", Value = 279}         -- "20 points of temporary Air, Earth, Fire, Water, Body, and Mind resistances from the well near the Fire Guild in Damocles in Mount Nighon."
		return
	end
	if not evt.Cmp{"QBits", Value = 19} then         -- Allied with Necromancers Guild. Steal Nightshade Brazier done.
		if not evt.Cmp{"QBits", Value = 20} then         -- Allied with Temple of the Sun. Destroy the Skeleton Transformer done.
			evt.SetMessage{Str = 898}         -- "There is great turmoil in the Balance. It has taken me some time to know its source, but I know it now. It is caused by the war between the clerics of the Temple of the Sun located in Murmurwoods, and the Necromancers' Guild of Shadowspire. It is your destiny to undo the turmoil by choosing one of these two to ally with."
			evt.Add{"AutonotesBits", Value = 280}         -- "50 Spell Points recovered from the well in the eastern village in Mount Nighon."
			return
		end
	end
	if not evt.Cmp{"QBits", Value = 21} then         -- Allied with Charles Quioxte's Dragon Hunters. Return Dragon Egg to Quixote done.
		if not evt.Cmp{"QBits", Value = 22} then         -- Allied with Dragons. Return Dragon Egg to Dragons done.
			evt.SetMessage{Str = 899}         -- "There is great turmoil in the Balance. It has taken me some time to know its source, but I know it now. There is conflict between the Dragons and Knights who fight in Garrote Gorge. It is your destiny to ally with one of the two at the expense of the other."
			evt.Add{"AutonotesBits", Value = 281}         -- "50 Hit Points recovered from the well in the western village in Mount Nighon."
			return
		end
	end
	evt.SetMessage{Str = 900}         -- "You have done good work in forging the alliances you have. It is now time for you to seek the council of those allies you have brought together. Seek them out in their council chamber within the merchant guild in Ravenshore."
	evt.Add{"AutonotesBits", Value = 282}         -- "25 points of temporary Fire resistance from the well in the southwestern village in the Barrow Downs."
	do return end
::_79::
	evt.SetMessage{Str = 907}         -- "It is clear that you must do as Xanthor has asked of you. Go to the four elemental planes and find in each, an elemental heartstone."
	evt.Add{"AutonotesBits", Value = 289}         -- "Red liquid grants Might."
end

-- "Promote Dark Elves"
evt.global[733] = function()
	evt.ForPlayer(-- ERROR: Const not found
0)
	if not evt.Cmp{"QBits", Value = 1537} then         -- Promoted to Elf Patriarch.
		if not evt.Cmp{"Awards", Value = 20} then         -- "Rescued Cauri Blackthorne."
			evt.SetMessage{Str = 914}         --[[ "You cannot be promoted until we know where Cauri Blackthorne is!
Locate her, and she will promote you.
After she is found and has retuned to the Merchant Guild, I will be glad to promote any Dark Elves in your party to Patriarch." ]]
			return
		end
	end
	evt.SetMessage{Str = 915}         --[[ "Cauri told me of how you helped her with the curse of the Basilisk.
She has instructed me to promote any Dark Elves that travel with you to Patriarch." ]]
	evt.Subtract{"QBits", Value = 39}         -- "Find Cauri Blackthorne then return to Dantillion in Murmurwoods with information of her location."
	evt.ForPlayer(-- ERROR: Const not found
1)
	if evt.Cmp{"ClassIs", Value = const.Class.Cleric} then
		evt.Set{"ClassIs", Value = const.Class.Priest}
		evt.Add{"QBits", Value = 1537}         -- Promoted to Elf Patriarch.
	else
		evt.Add{"Awards", Value = 20}         -- "Rescued Cauri Blackthorne."
	end
	evt.ForPlayer(-- ERROR: Const not found
2)
	if evt.Cmp{"ClassIs", Value = const.Class.Cleric} then
		evt.Set{"ClassIs", Value = const.Class.Priest}
		evt.Add{"QBits", Value = 1537}         -- Promoted to Elf Patriarch.
	else
		evt.Add{"Awards", Value = 20}         -- "Rescued Cauri Blackthorne."
	end
	evt.ForPlayer(-- ERROR: Const not found
3)
	if evt.Cmp{"ClassIs", Value = const.Class.Cleric} then
		evt.Set{"ClassIs", Value = const.Class.Priest}
		evt.Add{"QBits", Value = 1537}         -- Promoted to Elf Patriarch.
	else
		evt.Add{"Awards", Value = 20}         -- "Rescued Cauri Blackthorne."
	end
	evt.ForPlayer(-- ERROR: Const not found
4)
	if evt.Cmp{"ClassIs", Value = const.Class.Cleric} then
		evt.Set{"ClassIs", Value = const.Class.Priest}
		evt.Add{"QBits", Value = 1537}         -- Promoted to Elf Patriarch.
	else
		evt.Add{"Awards", Value = 20}         -- "Rescued Cauri Blackthorne."
	end
end

-- "Promote Barbarians"
evt.global[734] = function()
	evt.ForPlayer(-- ERROR: Const not found
0)
	if not evt.Cmp{"QBits", Value = 1538} then         -- Promoted to War Troll.
		if not evt.Cmp{"QBits", Value = 1539} then         -- Found Troll Homeland.
			evt.SetMessage{Str = 916}         --[[ "You cannot be promoted until the Ancient Troll Home has been found!
Return here when you have found it and talk with Volog." ]]
			return
		end
	end
	evt.SetMessage{Str = 917}         --[[ "Before Volog left, he instructed me to promote any Barbarians that travel with you to Berserker.
The village of Rust will be forever thankful to you!" ]]
	evt.ForPlayer(-- ERROR: Const not found
1)
	if evt.Cmp{"ClassIs", Value = const.Class.MasterDruid} then
		evt.Set{"ClassIs", Value = const.Class.MasterDruid3}
		evt.Add{"QBits", Value = 1538}         -- Promoted to War Troll.
	else
		evt.Add{"QBits", Value = 1539}         -- Found Troll Homeland.
	end
	evt.ForPlayer(-- ERROR: Const not found
2)
	if evt.Cmp{"ClassIs", Value = const.Class.MasterDruid} then
		evt.Set{"ClassIs", Value = const.Class.MasterDruid3}
		evt.Add{"QBits", Value = 1538}         -- Promoted to War Troll.
	else
		evt.Add{"QBits", Value = 1539}         -- Found Troll Homeland.
	end
	evt.ForPlayer(-- ERROR: Const not found
3)
	if evt.Cmp{"ClassIs", Value = const.Class.MasterDruid} then
		evt.Set{"ClassIs", Value = const.Class.MasterDruid3}
		evt.Add{"QBits", Value = 1538}         -- Promoted to War Troll.
	else
		evt.Add{"QBits", Value = 1539}         -- Found Troll Homeland.
	end
	evt.ForPlayer(-- ERROR: Const not found
4)
	if evt.Cmp{"ClassIs", Value = const.Class.MasterDruid} then
		evt.Set{"ClassIs", Value = const.Class.MasterDruid3}
		evt.Add{"QBits", Value = 1538}         -- Promoted to War Troll.
	else
		evt.Add{"QBits", Value = 1539}         -- Found Troll Homeland.
	end
end

-- "Promote Knights"
evt.global[735] = function()
	evt.ForPlayer(-- ERROR: Const not found
0)
	if not evt.Cmp{"QBits", Value = 1540} then         -- Promoted to Champion.
		if not evt.Cmp{"QBits", Value = 1541} then         -- Returned Ebonest to Charles Quixote.
			evt.SetMessage{Str = 918}         --[[ "You cannot be promoted to Champion until you have proven yourself worthy!
" ]]
			return
		end
	end
	evt.SetMessage{Str = 919}         --[[ "Thanks for you help recovering the spear Ebonest!
I can promote any Knights that travel with you to Champion." ]]
	evt.ForPlayer(-- ERROR: Const not found
1)
	if evt.Cmp{"ClassIs", Value = const.Class.PriestLight} then
		evt.Set{"ClassIs", Value = const.Class.PriestDark3}
		evt.Add{"QBits", Value = 1540}         -- Promoted to Champion.
	else
		evt.Add{"QBits", Value = 1541}         -- Returned Ebonest to Charles Quixote.
	end
	evt.ForPlayer(-- ERROR: Const not found
2)
	if evt.Cmp{"ClassIs", Value = const.Class.PriestLight} then
		evt.Set{"ClassIs", Value = const.Class.PriestDark3}
		evt.Add{"QBits", Value = 1540}         -- Promoted to Champion.
	else
		evt.Add{"QBits", Value = 1541}         -- Returned Ebonest to Charles Quixote.
	end
	evt.ForPlayer(-- ERROR: Const not found
3)
	if evt.Cmp{"ClassIs", Value = const.Class.PriestLight} then
		evt.Set{"ClassIs", Value = const.Class.PriestDark3}
		evt.Add{"QBits", Value = 1540}         -- Promoted to Champion.
	else
		evt.Add{"QBits", Value = 1541}         -- Returned Ebonest to Charles Quixote.
	end
	evt.ForPlayer(-- ERROR: Const not found
4)
	if evt.Cmp{"ClassIs", Value = const.Class.PriestLight} then
		evt.Set{"ClassIs", Value = const.Class.PriestDark3}
		evt.Add{"QBits", Value = 1540}         -- Promoted to Champion.
	else
		evt.Add{"QBits", Value = 1541}         -- Returned Ebonest to Charles Quixote.
	end
	evt.Subtract{"QBits", Value = 70}         -- "Find Blazen Stormlance and recover the spear Ebonest. Return to Leane Stormlance in Garrote Gorge and deliver Ebonest to Charles Quixote."
end

-- "Promote Dragons"
evt.global[736] = function()
	evt.ForPlayer(-- ERROR: Const not found
0)
	if not evt.Cmp{"QBits", Value = 1543} then         -- Promoted to Great Wyrm.
		if not evt.Cmp{"QBits", Value = 1544} then         -- Gave the Sword of Whistlebone the Slayer to the Deftclaw Redreaver.
			evt.SetMessage{Str = 920}         --[[ "You have not proven yourself worthy!
Until you strike a blow against the Dragon Hunters, none of you will be promoted!" ]]
			return
		end
	end
	evt.SetMessage{Str = 921}         -- "You have proven yourself and I will promote any Dragons that travel with you to Great Wyrm."
	evt.ForPlayer(-- ERROR: Const not found
1)
	if evt.Cmp{"ClassIs", Value = const.Class.AcolyteLight} then
		evt.Set{"ClassIs", Value = const.Class.ClericLight}
		evt.Add{"QBits", Value = 1543}         -- Promoted to Great Wyrm.
	else
		evt.Add{"QBits", Value = 1544}         -- Gave the Sword of Whistlebone the Slayer to the Deftclaw Redreaver.
	end
	evt.ForPlayer(-- ERROR: Const not found
2)
	if evt.Cmp{"ClassIs", Value = const.Class.AcolyteLight} then
		evt.Set{"ClassIs", Value = const.Class.ClericLight}
		evt.Add{"QBits", Value = 1543}         -- Promoted to Great Wyrm.
	else
		evt.Add{"QBits", Value = 1544}         -- Gave the Sword of Whistlebone the Slayer to the Deftclaw Redreaver.
	end
	evt.ForPlayer(-- ERROR: Const not found
3)
	if evt.Cmp{"ClassIs", Value = const.Class.AcolyteLight} then
		evt.Set{"ClassIs", Value = const.Class.ClericLight}
		evt.Add{"QBits", Value = 1543}         -- Promoted to Great Wyrm.
	else
		evt.Add{"QBits", Value = 1544}         -- Gave the Sword of Whistlebone the Slayer to the Deftclaw Redreaver.
	end
	evt.ForPlayer(-- ERROR: Const not found
4)
	if evt.Cmp{"ClassIs", Value = const.Class.AcolyteLight} then
		evt.Set{"ClassIs", Value = const.Class.ClericLight}
		evt.Add{"QBits", Value = 1543}         -- Promoted to Great Wyrm.
	else
		evt.Add{"QBits", Value = 1544}         -- Gave the Sword of Whistlebone the Slayer to the Deftclaw Redreaver.
	end
end

-- "Promote Clerics"
evt.global[737] = function()
	evt.ForPlayer(-- ERROR: Const not found
0)
	if not evt.Cmp{"QBits", Value = 1546} then         -- Promoted to Cleric of the Sun.
		if not evt.Cmp{"Awards", Value = 31} then         -- "Found the lost Prophecies of the Sun and returned them to the Temple of the Sun."
			evt.SetMessage{Str = 922}         -- "You cannot be promoted to Priest of the Sun until you have recovered the Prophecies of the Sun!"
			return
		end
	end
	evt.SetMessage{Str = 923}         --[[ "You are always welcome here!
Of course I will promote any Clerics that travel with you to Priest of the Sun!
" ]]
	evt.ForPlayer(-- ERROR: Const not found
1)
	if evt.Cmp{"ClassIs", Value = const.Class.MasterArcher} then
		evt.Set{"ClassIs", Value = const.Class.Sniper}
		evt.Add{"QBits", Value = 1546}         -- Promoted to Cleric of the Sun.
	else
		evt.Add{"Awards", Value = 31}         -- "Found the lost Prophecies of the Sun and returned them to the Temple of the Sun."
	end
	evt.ForPlayer(-- ERROR: Const not found
2)
	if evt.Cmp{"ClassIs", Value = const.Class.MasterArcher} then
		evt.Set{"ClassIs", Value = const.Class.Sniper}
		evt.Add{"QBits", Value = 1546}         -- Promoted to Cleric of the Sun.
	else
		evt.Add{"Awards", Value = 31}         -- "Found the lost Prophecies of the Sun and returned them to the Temple of the Sun."
	end
	evt.ForPlayer(-- ERROR: Const not found
3)
	if evt.Cmp{"ClassIs", Value = const.Class.MasterArcher} then
		evt.Set{"ClassIs", Value = const.Class.Sniper}
		evt.Add{"QBits", Value = 1546}         -- Promoted to Cleric of the Sun.
	else
		evt.Add{"Awards", Value = 31}         -- "Found the lost Prophecies of the Sun and returned them to the Temple of the Sun."
	end
	evt.ForPlayer(-- ERROR: Const not found
4)
	if evt.Cmp{"ClassIs", Value = const.Class.MasterArcher} then
		evt.Set{"ClassIs", Value = const.Class.Sniper}
		evt.Add{"QBits", Value = 1546}         -- Promoted to Cleric of the Sun.
	else
		evt.Add{"Awards", Value = 31}         -- "Found the lost Prophecies of the Sun and returned them to the Temple of the Sun."
	end
end

-- "Promote Necromancers"
evt.global[738] = function()
	evt.ForPlayer(-- ERROR: Const not found
0)
	if not evt.Cmp{"QBits", Value = 1548} then         -- Promoted to Lich.
		if not evt.Cmp{"Awards", Value = 35} then         -- "Found the Lost Book of Khel."
			evt.SetMessage{Str = 924}         --[[ "You have not recovered the Lost Book of Kehl!
There will be no promotions until you return with the book!
Speak with Vetrinus Taleshire." ]]
			return
		end
	end
	evt.SetMessage{Str = 925}         --[[ "Ah, you return seeking promotion for others in your party?
I have not forgotten your help in recovering the Lost Book of Kehl!
All Necromancers in your party will be promoted to Lich.
Be sure each Necromancer has a Lich Jar in his possession." ]]
	evt.ForPlayer(-- ERROR: Const not found
1)
	if not evt.Cmp{"ClassIs", Value = const.Class.Knight} then
		goto _11
	end
	if evt.Cmp{"Inventory", Value = 628} then         -- "Lich Jar"
		goto _11
	end
::_25::
	evt.SetMessage{Str = 114}         --[[ "You have the Lost Book of Khel, however you lack the Lich Jars needed to complete the transformation!
Return here when you have one for each necromancer in your party!" ]]
	do return end
::_11::
	evt.ForPlayer(-- ERROR: Const not found
2)
	if not evt.Cmp{"ClassIs", Value = const.Class.Knight} then
		goto _16
	end
	if evt.Cmp{"Inventory", Value = 628} then         -- "Lich Jar"
		goto _16
	end
	goto _25
::_16::
	evt.ForPlayer(-- ERROR: Const not found
3)
	if evt.Cmp{"ClassIs", Value = const.Class.Knight} then
		if evt.Cmp{"Inventory", Value = 628} then         -- "Lich Jar"
			goto _24
		end
	else
		evt.ForPlayer(-- ERROR: Const not found
4)
		if evt.Cmp{"ClassIs", Value = const.Class.Knight} then
			goto _24
		end
	end
	goto _25
::_24::
	if not evt.Cmp{"Inventory", Value = 628} then         -- "Lich Jar"
		goto _25
	end
	evt.ForPlayer(-- ERROR: Const not found
1)
	if evt.Cmp{"ClassIs", Value = const.Class.Knight} then
		evt.Set{"ClassIs", Value = const.Class.Cavalier}
		evt.Add{"QBits", Value = 1548}         -- Promoted to Lich.
		evt.Subtract{"Inventory", Value = 628}         -- "Lich Jar"
	else
		evt.Add{"Awards", Value = 35}         -- "Found the Lost Book of Khel."
	end
	evt.ForPlayer(-- ERROR: Const not found
2)
	if evt.Cmp{"ClassIs", Value = const.Class.Knight} then
		evt.Set{"ClassIs", Value = const.Class.Cavalier}
		evt.Add{"QBits", Value = 1548}         -- Promoted to Lich.
		evt.Subtract{"Inventory", Value = 628}         -- "Lich Jar"
	else
		evt.Add{"Awards", Value = 35}         -- "Found the Lost Book of Khel."
	end
	evt.ForPlayer(-- ERROR: Const not found
3)
	if evt.Cmp{"ClassIs", Value = const.Class.Knight} then
		evt.Set{"ClassIs", Value = const.Class.Cavalier}
		evt.Add{"QBits", Value = 1548}         -- Promoted to Lich.
		evt.Subtract{"Inventory", Value = 628}         -- "Lich Jar"
	else
		evt.Add{"Awards", Value = 35}         -- "Found the Lost Book of Khel."
	end
	evt.ForPlayer(-- ERROR: Const not found
4)
	if evt.Cmp{"ClassIs", Value = const.Class.Knight} then
		evt.Set{"ClassIs", Value = const.Class.Cavalier}
		evt.Add{"QBits", Value = 1548}         -- Promoted to Lich.
		evt.Subtract{"Inventory", Value = 628}         -- "Lich Jar"
	else
		evt.Add{"Awards", Value = 35}         -- "Found the Lost Book of Khel."
	end
end

-- "Promote Vampires"
evt.global[739] = function()
	evt.ForPlayer(-- ERROR: Const not found
0)
	if not evt.Cmp{"QBits", Value = 1547} then         -- Promoted to Nosferatu.
		if not evt.Cmp{"Awards", Value = 33} then         -- "Found the Sarcophagus and Remains of Korbu."
			evt.SetMessage{Str = 926}         --[[ "You have not found Korbu and until you have I refuse to promote any of you!
Begone!" ]]
			return
		end
	end
	evt.SetMessage{Str = 927}         --[[ "Any Vampires among you will be promoted to Nosferatu!
I remember those who helped in the recovery of the Remains of Korbu." ]]
	evt.ForPlayer(-- ERROR: Const not found
1)
	if evt.Cmp{"ClassIs", Value = const.Class.ArchDruid} then
		evt.Set{"ClassIs", Value = const.Class.ArchDruid3}
		evt.Add{"QBits", Value = 1547}         -- Promoted to Nosferatu.
	else
		evt.Add{"Awards", Value = 33}         -- "Found the Sarcophagus and Remains of Korbu."
	end
	evt.ForPlayer(-- ERROR: Const not found
2)
	if evt.Cmp{"ClassIs", Value = const.Class.ArchDruid} then
		evt.Set{"ClassIs", Value = const.Class.ArchDruid3}
		evt.Add{"QBits", Value = 1547}         -- Promoted to Nosferatu.
	else
		evt.Add{"Awards", Value = 33}         -- "Found the Sarcophagus and Remains of Korbu."
	end
	evt.ForPlayer(-- ERROR: Const not found
3)
	if evt.Cmp{"ClassIs", Value = const.Class.ArchDruid} then
		evt.Set{"ClassIs", Value = const.Class.ArchDruid3}
		evt.Add{"QBits", Value = 1547}         -- Promoted to Nosferatu.
	else
		evt.Add{"Awards", Value = 33}         -- "Found the Sarcophagus and Remains of Korbu."
	end
	evt.ForPlayer(-- ERROR: Const not found
4)
	if evt.Cmp{"ClassIs", Value = const.Class.ArchDruid} then
		evt.Set{"ClassIs", Value = const.Class.ArchDruid3}
		evt.Add{"QBits", Value = 1547}         -- Promoted to Nosferatu.
	else
		evt.Add{"Awards", Value = 33}         -- "Found the Sarcophagus and Remains of Korbu."
	end
end

-- "Promote Minotuars"
evt.global[740] = function()
	evt.ForPlayer(-- ERROR: Const not found
0)
	if not evt.Cmp{"QBits", Value = 1545} then         -- Promoted to Minotaur Lord.
		if not evt.Cmp{"Awards", Value = 29} then         -- "Recovered Axe of Balthazar."
			evt.SetMessage{Str = 928}         --[[ "You have not found the Axe of Balthazar!
You are not worthy of promotion!" ]]
			return
		end
	end
	evt.SetMessage{Str = 929}         --[[ "The Herd of Masul is in debt to you.
Any Minotaurs in your party are promoted to Minotaur Lord!" ]]
	evt.ForPlayer(-- ERROR: Const not found
1)
	if evt.Cmp{"ClassIs", Value = const.Class.DarkElf0} then
		evt.Set{"ClassIs", Value = const.Class.DarkElf}
		evt.Add{"QBits", Value = 1545}         -- Promoted to Minotaur Lord.
	else
		evt.Add{"Awards", Value = 29}         -- "Recovered Axe of Balthazar."
	end
	evt.ForPlayer(-- ERROR: Const not found
2)
	if evt.Cmp{"ClassIs", Value = const.Class.DarkElf0} then
		evt.Set{"ClassIs", Value = const.Class.DarkElf}
		evt.Add{"QBits", Value = 1545}         -- Promoted to Minotaur Lord.
	else
		evt.Add{"Awards", Value = 29}         -- "Recovered Axe of Balthazar."
	end
	evt.ForPlayer(-- ERROR: Const not found
3)
	if evt.Cmp{"ClassIs", Value = const.Class.DarkElf0} then
		evt.Set{"ClassIs", Value = const.Class.DarkElf}
		evt.Add{"QBits", Value = 1545}         -- Promoted to Minotaur Lord.
	else
		evt.Add{"Awards", Value = 29}         -- "Recovered Axe of Balthazar."
	end
	evt.ForPlayer(-- ERROR: Const not found
4)
	if evt.Cmp{"ClassIs", Value = const.Class.DarkElf0} then
		evt.Set{"ClassIs", Value = const.Class.DarkElf}
		evt.Add{"QBits", Value = 1545}         -- Promoted to Minotaur Lord.
	else
		evt.Add{"Awards", Value = 29}         -- "Recovered Axe of Balthazar."
	end
end

-- "Thank you!"
evt.CanShowTopic[741] = function()
	return evt.Cmp{"QBits", Value = 119}         -- "Rescue Arion Hunter's daughter from Ogre Fortress in Alvar."
end

evt.global[741] = function()
	evt.SetMessage{Str = 930}         --[[ "My father sent you to rescue me?
I am grateful.
I will return to my father and let him know of your assistance!" ]]
	evt.ForPlayer(-- ERROR: Const not found
"All")
	evt.Add{"Experience", Value = 5000}
	evt.SetNPCTopic{NPC = 102, Index = 0, Event = 0}         -- "Irabelle Hunter"
	evt.Subtract{"QBits", Value = 119}         -- "Rescue Arion Hunter's daughter from Ogre Fortress in Alvar."
	evt.Add{"QBits", Value = 120}         -- Rescued Smuggler Leader's Familly 
end

-- "Travel with you!"
evt.global[742] = function()
	if evt.Cmp{"QBits", Value = 37} then         -- Regnan Pirate Fleet is sunk.
		evt.SetMessage{Str = 933}         --[[ "I remember you!
The Book of Kehl has proven invaluable, and it would be a privilege to travel with you." ]]
		evt.SetNPCTopic{NPC = 61, Index = 0, Event = 625}         -- "Vetrinus Taleshire" : "Roster Join Event"
	else
		evt.SetMessage{Str = 932}         --[[ "I cannot yet travel with you!
I would sooner sign on with a merchant caravan, than travel with you.
Return to me when you have discovered more of the world, and your place in it." ]]
	end
end

-- "Travel with you!"
evt.global[743] = function()
	if evt.Cmp{"QBits", Value = 37} then         -- Regnan Pirate Fleet is sunk.
		evt.SetMessage{Str = 935}         --[[ "Certainly!
Traveling with you would be an honor!" ]]
		evt.SetNPCTopic{NPC = 50, Index = 0, Event = 626}         -- "Dervish Chevron" : "Roster Join Event"
	else
		evt.SetMessage{Str = 934}         --[[ "When you have grown and learned more of the ways of the world, then it would be my pleasure to travel with you.
Until then I have studies to complete here." ]]
	end
end

-- "Rescue"
evt.global[744] = function()
	evt.SetMessage{Str = 936}         -- "You have done us a great service, adventurers. On behalf of my herd, I give you our humblest thanks. Know that the Minotaurs of Balthazar Lair hold you in the highest regard. You will always be welcome among us."
	evt.SetNPCTopic{NPC = 57, Index = 0, Event = 613}         -- "Thanys" : "Roster Join Event"
	evt.SetNPCTopic{NPC = 57, Index = 1, Event = 0}         -- "Thanys"
	evt.SetNPCTopic{NPC = 57, Index = 2, Event = 0}         -- "Thanys"
end

--[[MM7]]--

-- "Castle Harmondale?"
evt.CanShowTopic[751] = function()
	return not evt.Cmp{"QBits", Value = 519}         -- Finished Scavenger Hunt
end

evt.global[751] = function()
	evt.SetMessage{Str = 944}         -- "If you win, you'll be in charge of one of the most scenic areas in all Erathia!  Harmondale is just outside of the Tularean Forest, right on the edge of the Elf-Human border.  And I'm sure you'll love the castle.  It's a bit of a fixer-upper, but it's quite roomy and has excellent ventilation.  It breaks my heart to part with this property, but I feel that the time has come for me to give something back to the people."
end

-- "What do you think about the hunt?"
evt.CanShowTopic[752] = function()
	return not evt.Cmp{"QBits", Value = 519}         -- Finished Scavenger Hunt
end

evt.global[752] = function()
	evt.SetMessage{Str = 943}         -- "Isn't this hunt exciting?  I really am grateful you came to my little event, and I hope you have fun, even if you don't win.  I think it's great that everyone is competing in a spirit of good sportsmanship and camaraderie."
end

-- "Congratulations"
evt.CanShowTopic[753] = function()
	return evt.Cmp{"QBits", Value = 519}         -- Finished Scavenger Hunt
end

evt.global[753] = function()
	evt.SetMessage{Str = 945}         -- "Congratulations!  You are the new Lords of Harmondale!  Isn't it thrilling?  You can't imagine how good it feels for me to give this property away to you!  All of the benefits and rewards, and of course, the responsibilities of governing the town of Harmondale are now yours.  (Lord Markham produces a deed and contract) Just sign here...And here... And if I could just get your initials here... Yes!  Well, that's that!  You're all set.  And once again, congratulations!!!"
	evt.SetNPCTopic{NPC = 1, Index = 2, Event = 4}         -- "Lord Markham" : "Your ship…"
	evt.Subtract{"NPCs", Value = 3}         -- "Big Daddy Jim"
	evt.Set{"QBits", Value = 17}         -- No more docent babble
	evt.ForPlayer(-- ERROR: Const not found
"All")
	evt.Add{"Experience", Value = 1000}
	evt.Add{"Awards", Value = 2}         -- "Won the Scavenger Hunt on Emerald Island"
	evt.Set{"QBits", Value = 284}         -- Beginning of Festival
	evt.SetNPCGroupNews{NPCGroup = 1, NPCNews = 5}         -- "" : "Congratulations!"
end

-- "Your ship…"
evt.global[4] = function()
	evt.SetMessage{Str = 8}         -- "Well, the ship that will take you to your fiefdom awaits you in the harbor.  My entourage and I will be taking a different ship out.  Just board whenever you're ready."
	evt.Add{"QBits", Value = 15}         -- Able to use boat to get off Emerald Island
	evt.SetNPCTopic{NPC = 11, Index = 0, Event = 33}         -- "William Darvees" : "Let's Go!"
	evt.SetNPCTopic{NPC = 1, Index = 2, Event = 0}         -- "Lord Markham"
	evt.SetNPCGreeting{NPC = 1, Greeting = 0}         -- "Lord Markham" : ""
end

-- "Tell us the rules of the hunt"
evt.global[5] = function()
	evt.SetMessage{Str = 25}         -- "Good afternoon.  My duty is to verify that you have all the items necessary to win the contest.  You are required to bring a red potion, a longbow, a floor tile from the Temple of the Moon, a wealthy hat, seashell, and an instrument to me.  You can bring them in any order, just show them to me one at a time so that I may verify them."
end

-- "We found something!"
evt.global[6] = function()
	evt.ForPlayer(-- ERROR: Const not found
"All")
	if not evt.Cmp{"QBits", Value = 8} then         -- Brought red potion
		if evt.Cmp{"Inventory", Value = 222} then         -- "Cure Wounds"
			evt.Subtract{"QBits", Value = 1}         -- "Return a red potion to the Judge on Emerald Island."
			evt.Add{"Experience", Value = 500}
			evt.Add{"QBits", Value = 8}         -- Brought red potion
			evt.Subtract{"Inventory", Value = 222}         -- "Cure Wounds"
			evt.SetMessage{Str = 31}         -- "What took you so long?  Almost every group has turned in a red potion by now.  This is the easiest item in the hunt to manage, but better late than never.  I will mark it off your list."
			return
		end
	end
	if not evt.Cmp{"QBits", Value = 9} then         -- Brought seashell
		if evt.Cmp{"Inventory", Value = 635} then         -- "Seashell"
			evt.Subtract{"QBits", Value = 2}         -- "Return a seashell to the Judge on Emerald Island."
			evt.Subtract{"Inventory", Value = 635}         -- "Seashell"
			evt.Add{"QBits", Value = 9}         -- Brought seashell
			evt.Add{"Experience", Value = 500}
			evt.SetMessage{Str = 30}         -- "A beautiful shell, much like the ones that Sally sells.  This certainly came from Emerald Island- I shall mark the shell off your list."
			return
		end
	end
	if not evt.Cmp{"QBits", Value = 10} then         -- Brought longbow
		if evt.Cmp{"Inventory", Value = 43} then         -- "Recurve Bow"
			evt.SetMessage{Str = 29}         -- "This longbow certainly qualifies for the hunt.  Good work, I shall mark that off your list."
			evt.Subtract{"Inventory", Value = 43}         -- "Recurve Bow"
			evt.Subtract{"QBits", Value = 3}         -- "Return a longbow to the Judge on Emerald Island."
			evt.Add{"Experience", Value = 500}
			evt.Add{"QBits", Value = 10}         -- Brought longbow
			return
		end
	end
	if not evt.Cmp{"QBits", Value = 11} then         -- Brought tile
		if evt.Cmp{"Inventory", Value = 636} then         -- "Floor Tile (w/ moon insignia)"
			evt.SetMessage{Str = 28}         -- "Adventurers indeed!  I didn't expect anyone to bring back a tile so quickly.  This is certainly a tile from the Temple, however so I shall mark the tile off your list."
			evt.Subtract{"Inventory", Value = 636}         -- "Floor Tile (w/ moon insignia)"
			evt.Subtract{"QBits", Value = 4}         -- "Return a floor tile to the Judge on Emerald Island."
			evt.Add{"Experience", Value = 500}
			evt.Add{"QBits", Value = 11}         -- Brought tile
			return
		end
	end
	if not evt.Cmp{"QBits", Value = 12} then         -- Brought instrument
		if evt.Cmp{"Inventory", Value = 632} then         -- "Lute"
			evt.SetMessage{Str = 27}         -- "Hmm, a fine lute this is.  Let me mark off the instrument from your list."
			evt.Subtract{"Inventory", Value = 632}         -- "Lute"
			evt.Subtract{"QBits", Value = 5}         -- "Return a musical instrument to the Judge on Emerald Island."
			evt.Add{"Experience", Value = 500}
			evt.Add{"QBits", Value = 12}         -- Brought instrument
			return
		end
	end
	if evt.Cmp{"QBits", Value = 13} then         -- Brought hat
		if not evt.Cmp{"QBits", Value = 1} then         -- "Return a red potion to the Judge on Emerald Island."
			if not evt.Cmp{"QBits", Value = 2} then         -- "Return a seashell to the Judge on Emerald Island."
				if not evt.Cmp{"QBits", Value = 3} then         -- "Return a longbow to the Judge on Emerald Island."
					if not evt.Cmp{"QBits", Value = 4} then         -- "Return a floor tile to the Judge on Emerald Island."
						if not evt.Cmp{"QBits", Value = 5} then         -- "Return a musical instrument to the Judge on Emerald Island."
							if not evt.Cmp{"QBits", Value = 6} then         -- "Return a wealthy hat to the Judge on Emerald Island."
								evt.Add{"QBits", Value = 7}         -- Finished Scavenger Hunt
								evt.SetMessage{Str = 32}         -- "Well, that's all six items.  You're the winner of the contest!  I suggest you talk to Lord Markham for the details on gaining your fiefdom, my work is done here."
								evt.SetNPCTopic{NPC = 2, Index = 0, Event = 0}         -- "Thomas the Judge"
								evt.SetNPCTopic{NPC = 2, Index = 1, Event = 0}         -- "Thomas the Judge"
								evt.MoveNPC{NPC = 2, HouseId = 0}         -- "Thomas the Judge"
								evt.SetNPCTopic{NPC = 1, Index = 1, Event = 0}         -- "Lord Markham"
								evt.SetNPCGreeting{NPC = 6, Greeting = 9}         -- "Wren Wilder" : ""
								return
							end
						end
					end
				end
			end
		end
	else
		if evt.Cmp{"Inventory", Value = 631} then         -- "Wealthy Hat"
			evt.SetMessage{Str = 26}         -- "I see you have found a wealthy hat.  I shall mark this off your list accordingly, good work."
			evt.Subtract{"Inventory", Value = 631}         -- "Wealthy Hat"
			evt.Subtract{"QBits", Value = 6}         -- "Return a wealthy hat to the Judge on Emerald Island."
			evt.Add{"Experience", Value = 500}
			evt.Add{"QBits", Value = 13}         -- Brought hat
			return
		end
	end
	evt.SetMessage{Str = 33}         -- "I'm sorry, but nothing you have is necessary for the hunt.  I don't mean to belittle what you have, but I'm not looking for any of it."
end

-- "MM7Rev4mod"
evt.global[7] = function()
	evt.SetMessage{Str = 152}         --[[ "The development of this mod began in October 2007 as an ‘experiment’ in reverse-engineering the ‘event language’ of MM6, MM7, and MM8.  This was a massive effort that consumed countless hours of ‘blood sweating’ research and applications programming trials.  The MM7Rev4mod is the result of this ‘experiment’ and was completed by yours truly as a solo effort.  That makes me the ‘Sole Proprietor’ of this venture – author, designer, programmer, chef, bottle washer, and ‘go-for’.

If you enjoy this mod, ‘kudos’ to me. If you don’t like the mod … well ya gotta admit that the price was right ... different strokes and all that stuff.

Have fun exploring Vori.

The Coding Wizard

09March2008" ]]
	evt.SetNPCTopic{NPC = 3, Index = 0, Event = 8}         -- "Big Daddy Jim" : "Credits"
end

-- "Credits"
evt.global[8] = function()
	evt.SetMessage{Str = 153}         --[[ "The MM8LevelEditor utility was an invaluable database import and extract tool during the development process.  My appreciation and recognition to the author and his dedicated efforts to produce this fine utility.

Thanks to Pascal (AKA: Asterix, asterix15, etal), for the initial announcements and ‘marketing’ of this mod, for contributing a few custom graphics to the otherwise status-quo visuals in the game, and for ‘early’ play testing of the R1 release.  If ya know about this mod, chances are it is due to Pascal’s efforts.

An ‘above and beyond the call of duty’ thanks to my work compatriots for giving up their Christmas holiday to ‘play test’ the R1 mod.  Special note to Tom A., Wren, Tony, Jude, and the ever-elusive ‘Count Zero, Seeker of Lost Ones’.  For programming Geeks, you guys are OK by me.

A ‘special’ thanks to Sarah Lambent (of the Courier Guild), simply because of her infectious ‘love’ of the MM7 gaming universe.

BDJ" ]]
	evt.SetNPCTopic{NPC = 3, Index = 0, Event = 9}         -- "Big Daddy Jim" : "Friends of  'The Game'"
end

-- "Friends of  'The Game'"
evt.global[9] = function()
	evt.SetMessage{Str = 154}         --[[ "Finally, I’d like to recognize the contributions from the MM community at-large, and specifically the following six ‘gamers’.  Each has provided me with significant encouragement and play-testing ‘bug reports’ and suggestions.  As a special ‘Thanks!’, each of these contributors has become ‘immortalized’ within Erathia as an NPC in the MM7Rev4mod game.

Pascal the Mad Mage
Lord Godwinson
Zedd True Shot
Duke Bimbasto
Sir Vilx of Stone City
Baron BunGleau

Thank you all for your assistance.

Big Daddy Jim
15 April, 2008
" ]]
	evt.SetNPCTopic{NPC = 3, Index = 0, Event = 0}         -- "Big Daddy Jim"
	evt.SetNPCTopic{NPC = 3, Index = 1, Event = 0}         -- "Big Daddy Jim"
	evt.Subtract{"NPCs", Value = 3}         -- "Big Daddy Jim"
end

-- "We are going to win the Scavenger Hunt!"
evt.global[10] = function()
	evt.SetMessage{Str = 34}         -- "Are you contestants in Lord Markham's Scavenger Hunt?  How neat!  I'm here to provide entertainment to Lord Markham's entourage, the contestants, and to anyone else that would like to hear a song."
end

-- "Do you have any instruments?"
evt.global[11] = function()
	evt.SetMessage{Str = 35}         -- "I own a few instruments, but I only brought my lute with me.  Its old and not quite as well kept as some of the others, but I didn't want one of my good instruments stolen by pirates or damaged from exposure to the humid, salty air."
end

-- "We need an instrument for the contest"
evt.global[12] = function()
	evt.ForPlayer(-- ERROR: Const not found
"All")
	evt.SetMessage{Str = 36}         -- "You say you need an instrument for the Scavenger Hunt?  I suppose you could buy my lute, but I've had it for such a long time.  I guess I'd part with it for 500 gold.  Interested?"
	evt.SetNPCTopic{NPC = 4, Index = 2, Event = 13}         -- "Ailyssa the Bard" : "Buy Lute for 500 gold"
end

evt.CanShowTopic[12] = function()
	local result
	if not evt.Cmp{"Inventory", Value = 632} then         -- "Lute"
		result = not evt.Cmp{"QBits", Value = 12}         -- Brought instrument
	end
	return false
end

-- "Buy Lute for 500 gold"
evt.global[13] = function()
	if evt.Cmp{"Gold", Value = 500} then
		evt.Subtract{"Gold", Value = 500}
		evt.Add{"Inventory", Value = 632}         -- "Lute"
		evt.SetMessage{Str = 37}         -- "Well, promise to at least take care of it and not use it for firewood.  I suppose I'll have to make do without an instrument for the rest of this trip.  Maybe I should tell stories instead of sing until I get back home."
		evt.SetNPCItem{NPC = 4, Item = 632, On = false}         -- "Ailyssa the Bard" : "Lute"
		evt.SetNPCTopic{NPC = 4, Index = 2, Event = 0}         -- "Ailyssa the Bard"
		evt.SetNPCTopic{NPC = 4, Index = 1, Event = 0}         -- "Ailyssa the Bard"
	else
		evt.SetMessage{Str = 38}         -- "It would help if you had the 500 gold pieces.  Please don't try and cheat me out of my instrument."
	end
end

-- "What do you think about the ocean?"
evt.global[14] = function()
	evt.SetMessage{Str = 12}         -- "I love being out on this side of the island, the view of the ocean is much better than from town, don't you agree?"
end

-- "Do you have any seashells?"
evt.global[15] = function()
	evt.SetMessage{Str = 13}         -- "I have some nice sea shells for sale, shells that you can only find on Emerald Island.  Can I sell one to you?  They're only a hundred gold pieces each."
	evt.SetNPCTopic{NPC = 5, Index = 1, Event = 16}         -- "Sally" : "Buy a Seashell for 100 gold"
end

-- "Buy a Seashell for 100 gold"
evt.global[16] = function()
	if evt.Cmp{"Gold", Value = 100} then
		evt.Subtract{"Gold", Value = 100}
		evt.Add{"Inventory", Value = 635}         -- "Seashell"
		evt.SetMessage{Str = 14}         -- "Here you go, I hope it reminds you of your trip to Emerald Island."
	else
		evt.SetMessage{Str = 15}         -- "I really can't go any less than 100 gold; I need to make a living, too."
	end
end

-- "Harmondale?"
evt.CanShowTopic[17] = function()
	return not evt.Cmp{"QBits", Value = 7}         -- Finished Scavenger Hunt
end

evt.global[17] = function()
	evt.SetMessage{Str = 10}         --[[ "Congratulations!  You’ve completed all four assignments in record time, just as the Erathian Festival of the Five Moons is ending!   You are now ready to join the ranks of our elite guild. I hereby promote you to the rank of Master Courier!  Welcome to the Guild! 

Now just one more thing.  Our couriers used to service the Evenmorn Islands. Unfortunately through a series of miss-haps, all keys to the island chain were lost, stolen, or destroyed.   If you ever come across one of these keys, please bring it back to me so that I can make a copy of it.  I will reward you handsomely in gold.  Good luck, Master Couriers!"" ]]
end

-- "Gatekeeper Woes!"
evt.global[18] = function()
	evt.SetMessage{Str = 17}         -- "The Town Portal spell has been unmade by strange and sinister magics.  The mages in Bracada have tried to remake the spell, but with no success.  This has caused all Gate Keepers much ruin since they can no longer earn their living through their abilites.  Why just the other day I saw Merta the Gatekeeper sweeping out the stables just to make ends meet.  I hope the mages can restore this spell soon."
end

-- "Erathia has been betrayed!"
evt.global[19] = function()
	evt.SetMessage{Str = 21}         -- "We have discovered a corruption so powerful that it threatens to engulf all of Erathia. Due to this peril, we have formed a temporary truce with Lord Archibald until we can ‘neutralize’ this threat. Since the danger was spawned in The Pit, you need to travel there and seek out Maximus.  He will brief you on the situation.  Obey him as if his words were spoken by Gavin Magnus, himself."
	evt.Set{"QBits", Value = 293}         -- Return to NWC
	evt.SetNPCTopic{NPC = 82, Index = 0, Event = 0}         -- "Sir Caneghem"
	evt.MoveNPC{NPC = 85, HouseId = 434}         -- "Maximus" -> "Hostel"
	evt.SetNPCTopic{NPC = 85, Index = 0, Event = 22}         -- "Maximus" : "Dangerous Mission"
end

-- "Erathia has been betrayed!"
evt.global[20] = function()
	evt.SetMessage{Str = 206}         -- "We have discovered a corruption so powerful that it threatens to engulf all of Erathia. Due to this peril, we have formed a temporary truce with Gavin Magnus until we can ‘neutralize’ this threat. Since the danger was spawned in Celeste, you need to travel there and seek out Sir Caneghem.  He will brief you on the situation.  Obey him as if his words were spoken by Lord Archibald, himself."
	evt.Set{"QBits", Value = 293}         -- Return to NWC
	evt.SetNPCTopic{NPC = 85, Index = 0, Event = 0}         -- "Maximus"
	evt.MoveNPC{NPC = 82, HouseId = 427}         -- "Sir Caneghem" -> "Hostel"
	evt.SetNPCTopic{NPC = 82, Index = 0, Event = 21}         -- "Sir Caneghem" : "Dangerous Mission"
end

-- "Dangerous Mission"
evt.global[21] = function()
	evt.SetMessage{Str = 209}         -- "This assignment is extremely dangerous, adventurers.  So I have taken the liberty to solicit the assistance of the four Grandmasters of the Elemental Magicks, and each has agreed to provide what assistance they may to you.  So before I can brief you on this mission, you must first visit these Grandmasters and receive their blessing.  After this, return to me."
	evt.SetNPCTopic{NPC = 82, Index = 0, Event = 117}         -- "Sir Caneghem" : "We've received the Blessings!"
	evt.SetNPCTopic{NPC = 145, Index = 2, Event = 23}         -- "Torrent" : "Blessing"
	evt.SetNPCTopic{NPC = 139, Index = 2, Event = 24}         -- "Blayze " : "Blessing"
	evt.SetNPCTopic{NPC = 142, Index = 2, Event = 25}         -- "Gayle" : "Blessing"
	evt.SetNPCTopic{NPC = 148, Index = 2, Event = 26}         -- "Avalanche" : "Blessing"
end

-- "Dangerous Mission"
evt.global[22] = function()
	evt.SetMessage{Str = 209}         -- "This assignment is extremely dangerous, adventurers.  So I have taken the liberty to solicit the assistance of the four Grandmasters of the Elemental Magicks, and each has agreed to provide what assistance they may to you.  So before I can brief you on this mission, you must first visit these Grandmasters and receive their blessing.  After this, return to me."
	evt.SetNPCTopic{NPC = 85, Index = 0, Event = 119}         -- "Maximus" : "We've received the Blessings!"
	evt.SetNPCTopic{NPC = 145, Index = 2, Event = 23}         -- "Torrent" : "Blessing"
	evt.SetNPCTopic{NPC = 139, Index = 2, Event = 24}         -- "Blayze " : "Blessing"
	evt.SetNPCTopic{NPC = 142, Index = 2, Event = 25}         -- "Gayle" : "Blessing"
	evt.SetNPCTopic{NPC = 148, Index = 2, Event = 26}         -- "Avalanche" : "Blessing"
end

-- "Blessing"
evt.global[23] = function()
	evt.SetMessage{Str = 211}         --[[ "What you are about to attempt will try your mettle and prove your worth.  If you are successful, you’ll be heralded as the ‘Heroes of Erathia’.  If you fail, the Erathian way of life will be destroyed by unspeakable evil. For Erathia, and for your victory, I give you my blessing.

For Truth!  For Justice!  For the Erathian Way!" ]]
	evt.Set{"QBits", Value = 295}         -- Water
	evt.ForPlayer(-- ERROR: Const not found
0)
	evt.Add{"WaterResistance", Value = 50}
	evt.ForPlayer(-- ERROR: Const not found
1)
	evt.Add{"WaterResistance", Value = 50}
	evt.ForPlayer(-- ERROR: Const not found
2)
	evt.Add{"WaterResistance", Value = 50}
	evt.ForPlayer(-- ERROR: Const not found
3)
	evt.Add{"WaterResistance", Value = 50}
	evt.SetNPCTopic{NPC = 145, Index = 2, Event = 0}         -- "Torrent"
end

-- "Blessing"
evt.global[24] = function()
	evt.SetMessage{Str = 211}         --[[ "What you are about to attempt will try your mettle and prove your worth.  If you are successful, you’ll be heralded as the ‘Heroes of Erathia’.  If you fail, the Erathian way of life will be destroyed by unspeakable evil. For Erathia, and for your victory, I give you my blessing.

For Truth!  For Justice!  For the Erathian Way!" ]]
	evt.Set{"QBits", Value = 296}         -- Fire
	evt.ForPlayer(-- ERROR: Const not found
0)
	evt.Add{"FireResistance", Value = 50}
	evt.ForPlayer(-- ERROR: Const not found
1)
	evt.Add{"FireResistance", Value = 50}
	evt.ForPlayer(-- ERROR: Const not found
2)
	evt.Add{"FireResistance", Value = 50}
	evt.ForPlayer(-- ERROR: Const not found
3)
	evt.Add{"FireResistance", Value = 50}
	evt.SetNPCTopic{NPC = 139, Index = 2, Event = 0}         -- "Blayze "
end

-- "Blessing"
evt.global[25] = function()
	evt.SetMessage{Str = 211}         --[[ "What you are about to attempt will try your mettle and prove your worth.  If you are successful, you’ll be heralded as the ‘Heroes of Erathia’.  If you fail, the Erathian way of life will be destroyed by unspeakable evil. For Erathia, and for your victory, I give you my blessing.

For Truth!  For Justice!  For the Erathian Way!" ]]
	evt.Set{"QBits", Value = 297}         -- Air
	evt.ForPlayer(-- ERROR: Const not found
0)
	evt.Add{"AirResistance", Value = 50}
	evt.ForPlayer(-- ERROR: Const not found
1)
	evt.Add{"AirResistance", Value = 50}
	evt.ForPlayer(-- ERROR: Const not found
2)
	evt.Add{"AirResistance", Value = 50}
	evt.ForPlayer(-- ERROR: Const not found
3)
	evt.Add{"AirResistance", Value = 50}
	evt.SetNPCTopic{NPC = 142, Index = 2, Event = 0}         -- "Gayle"
end

-- "Blessing"
evt.global[26] = function()
	evt.SetMessage{Str = 211}         --[[ "What you are about to attempt will try your mettle and prove your worth.  If you are successful, you’ll be heralded as the ‘Heroes of Erathia’.  If you fail, the Erathian way of life will be destroyed by unspeakable evil. For Erathia, and for your victory, I give you my blessing.

For Truth!  For Justice!  For the Erathian Way!" ]]
	evt.Set{"QBits", Value = 298}         -- Earth
	evt.ForPlayer(-- ERROR: Const not found
0)
	evt.Add{"EarthResistance", Value = 50}
	evt.ForPlayer(-- ERROR: Const not found
1)
	evt.Add{"EarthResistance", Value = 50}
	evt.ForPlayer(-- ERROR: Const not found
2)
	evt.Add{"EarthResistance", Value = 50}
	evt.ForPlayer(-- ERROR: Const not found
3)
	evt.Add{"EarthResistance", Value = 50}
	evt.SetNPCTopic{NPC = 148, Index = 2, Event = 0}         -- "Avalanche"
end

-- "Will you rejoin our party?"
evt.global[27] = function()
	evt.SetMessage{Str = 54}         -- "You have decided to listen to my tour about the points of interest on Emerald Island.  If you decide that you no longer want me to point out areas of interest then select Tour Off."
	evt.Subtract{"QBits", Value = 17}         -- No more docent babble
	evt.Set{"NPCs", Value = 3}         -- "Big Daddy Jim"
	evt.SetNPCTopic{NPC = 3, Index = 2, Event = 43}         -- "Big Daddy Jim" : "We need your help!"
end

-- "Fire Magic Expert"
evt.global[28] = function()
	evt.SetMessage{Str = 22}         --[[ "So you wanna become an Ekspert in Fire Magic? My, my ... aren't we feeling 'special'!  <hic!>  Pardon me.  I've been hittin' the sauce too much lately.

Ohhh!  I've gotta hangov ...  err ... headache.  I can't deal with this right now.  Just go away ... <burp> ... and let me be!!!" ]]
end

-- "Purchase Town Portal Pass for 200 gold"
evt.global[29] = function()
	evt.ForPlayer(-- ERROR: Const not found
"All")
	if evt.Cmp{"Gold", Value = 200} then
		evt.ForPlayer(-- ERROR: Const not found
"Current")
		evt.Subtract{"Gold", Value = 200}
		evt.Add{"Inventory", Value = 737}         -- "Town Portal Pass"
	else
		evt.SetMessage{Str = 125}         -- "You don't have enough gold!"
	end
end

-- "Fire Magic Master"
evt.global[30] = function()
	evt.ForPlayer(-- ERROR: Const not found
"All")
	if evt.Cmp{"Inventory", Value = 560} then         -- "Watcher's Ring of Elemental Fire"
		evt.SetMessage{Str = 776}         -- "I see that you've returned with the Watcher's Ring of Elemental Fire. Excellent!   Now we can discuss your promotion to Master of Fire Magic."
		evt.Add{"Experience", Value = 30000}
		evt.SetNPCTopic{NPC = 138, Index = 0, Event = 237}         -- "Ashen Temper" : "Fire Magic Master"
		return
	end
	if not evt.Cmp{"Inventory", Value = 562} then         -- "Ring of UnWarding"
		evt.ForPlayer(-- ERROR: Const not found
"Current")
		evt.Set{"Inventory", Value = 562}         -- "Ring of UnWarding"
	end
	evt.SetMessage{Str = 775}         -- "Before I can promote you to Master of Fire Magic, you must first retrieve the Watcher's Ring of Elemental Fire and return it to me.  The Ring is guarded by powerful Dragons who live in a cave on Emerald Island.  Make sure you keep the Ring of UnWarding with you to enter the cave."
end

-- "Earth Magic Grandmaster"
evt.global[31] = function()
	evt.ForPlayer(-- ERROR: Const not found
"All")
	if evt.Cmp{"Inventory", Value = 553} then         -- "Watcher's Ring of Elemental Earth "
		evt.SetMessage{Str = 778}         -- "I see that you've defeated Greckaw and returned with the Watcher's Ring of Elemental Earth. An impressive accomplishment, indeed!!   Now we can discuss your promotion to Master of Earth Magic."
		evt.Add{"Experience", Value = 30000}
		evt.SetNPCTopic{NPC = 148, Index = 0, Event = 247}         -- "Avalanche" : "Earth Magic Grandmaster"
		return
	end
	if not evt.Cmp{"Inventory", Value = 253} then         -- "Divine Cure"
		evt.Set{"Inventory", Value = 253}         -- "Divine Cure"
	end
	evt.Set{"QBits", Value = 324}         -- White Cliff Cave Permission
	evt.SetMessage{Str = 777}         --[[ "Retrieve the Watcher's Ring of Elemental Earth and then we’ll discuss promotions.  The Ring is guarded by Greckaw, Hurler of Mountains, a powerful Earth Elemental who dwells in the White Cliff Caves in Harmondale. 

Be extremely cautious when you enter this cave, children.  The Mad Mage Pascal, Diviner of Strange Flesh has sent his army of Trolls to take this ring by force, and a battle rages between Greckaw’s minions and these invaders.  You would do well to let them fight it out and then kill the survivors.  But make no mistake, young ones, either side will turn on you in a heartbeat! 

Make sure you have some healing potents with you.  You’ll need them!" ]]
end

-- "Let's go!"
evt.global[32] = function()
	evt.SetMessage{Str = 24}         -- "Sorry mates, this vessel's moored until a winner has been declared in the contest."
end

-- "Let's Go!"
evt.global[33] = function()
	evt.SetMessage{Str = 43}         -- "Good job, mates!  We'll be heading off for Harmondale right now.  Congratulations."
	evt.Subtract{"QBits", Value = 16}         -- "Find the missing contestants on Emerald Island and bring back proof to Lord Markham."
	evt.SetNPCTopic{NPC = 1, Index = 3, Event = 0}         -- "Lord Markham"
	evt.Add{"History1", Value = 0}
	evt.Add{"History2", Value = 0}
	evt.MoveNPC{NPC = 1, HouseId = 275}         -- "Lord Markham" -> "Lord Markham's Chamber"
	evt.SetNPCGreeting{NPC = 1, Greeting = 205}         -- "Lord Markham" : "Hmmph.  You don't actually expect me to act as though you really were a noble, do you?  Once a peasant, always a peasant, that's what my mother used to say.  Really, could you use the servant's entrance next time you stop by?  It really is embarrassing to have you dusty, mud spattered peasants coming in through the front door.  What will the neighbors think?"
	evt.Add{"QBits", Value = 136}         -- Party doesn't come back to Out01 temple anymore
	evt.ShowMovie{DoubleSize = 1, ExitCurrentScreen = true, Name = "pcout01 "}
	evt.MoveToMap{X = -17331, Y = 12547, Z = 465, Direction = 1024, LookAngle = 0, SpeedZ = 0, HouseId = 0, Icon = 0, Name = "Out02.odm"}
end

-- "Do you have any quests for us?"
evt.global[34] = function()
	evt.SetMessage{Str = 44}         -- "Keep in mind I have a 1000 gold reward for the group to bring back information on the contestants that have disappeared."
	evt.SetNPCTopic{NPC = 1, Index = 3, Event = 35}         -- "Lord Markham" : "About the missing contestants..."
	evt.Set{"QBits", Value = 16}         -- "Find the missing contestants on Emerald Island and bring back proof to Lord Markham."
end

-- "About the missing contestants..."
evt.global[35] = function()
	evt.ForPlayer(-- ERROR: Const not found
"All")
	if evt.Cmp{"Inventory", Value = 658} then         -- "Contestant's Shield"
		evt.SetMessage{Str = 46}         -- "Killed by another group of contestants?!  Beyond belief!  Is there no end to the Greed of Man?!  Thanks for dispatching these criminals for me!  Here's your reward."
		evt.Subtract{"Inventory", Value = 658}         -- "Contestant's Shield"
		evt.Add{"Awards", Value = 3}         -- "Found the missing contestants on Emerald Island"
		evt.Add{"Experience", Value = 1000}
		evt.ForPlayer(-- ERROR: Const not found
"Current")
		evt.Add{"Gold", Value = 1000}
		evt.Subtract{"Reputation", Value = 5}
		evt.Subtract{"QBits", Value = 16}         -- "Find the missing contestants on Emerald Island and bring back proof to Lord Markham."
		evt.SetNPCTopic{NPC = 1, Index = 3, Event = 0}         -- "Lord Markham"
	else
		evt.SetMessage{Str = 45}         -- "No news on the missing people yet?"
	end
end

-- "The Coding Wizard"
evt.global[36] = function()
	evt.SetMessage{Str = 770}         -- "“BDJ the Coding Wizard, lives on the mainland. All those who have gained Grandmaster status in their chosen profession should seek out this wizard.  It is reported that he offers to ‘cross-train’ them into a second profession, thereby granting dual-character classes to all who meet his requirements.”"
end

-- "Is the cave behind your house the abandoned temple?"
evt.global[37] = function()
	evt.SetMessage{Str = 48}         -- "The cave right behind my house is not the Abandoned Temple.  It belongs to Morcarack the Pitiless, the Dragon of Emerald Island.  You don't have to worry, though.  The cave has been magically sealed for ages by the Watchers.  The Abandoned Temple is buried in the hill south of my house.  You can get to it by entering the caves at the top of the hill."
end

-- "The Watchers"
evt.global[38] = function()
	evt.SetMessage{Str = 49}         -- "In the beginning, the Watchers forged four Scarab Rings of Elemental Magic and hid them in the land under the protection of a fierce guardian.  Powerful indeed is the wizard who obtains these rings!!"
end

-- "How can we get to the mainland from here?"
evt.global[39] = function()
	evt.SetMessage{Str = 50}         -- "Getting to the mainland is no problem.  The Lady Margaret makes daily trips to Harmondale.  Getting back, now that's a different story. The fine Lady only carries cargo back to here. I have heard rumors that there is a teleporter hub in Harmondale, but I don't know if it can return you to our island."
end

-- "Let's Go!"
evt.global[40] = function()
	evt.ForPlayer(-- ERROR: Const not found
"All")
	if evt.Cmp{"Inventory", Value = 675} then         -- "Control Cube"
		evt.SetMessage{Str = 325}         -- "Gladly, friends!"
		evt.SetMonGroupBit{NPCGroup = 11, Bit = const.MonsterBits.Invisible, On = true}         -- "Main village in Harmondy"
		evt.Set{"NPCs", Value = 21}         -- "Zedd True Shot"
		evt.SetNPCTopic{NPC = 21, Index = 1, Event = 0}         -- "Zedd True Shot"
	else
		evt.SetMessage{Str = 340}         -- "We cannot leave until we have the Control Cube."
	end
end

-- "Have you seen any other contestants?"
evt.global[41] = function()
	evt.SetMessage{Str = 52}         -- "I'd watch those other contestants-- some of them seem ruthless.  One particularly nasty group headed to the north side of the island, and I haven't seen them since.  I'm surprised at the attention this contest has received, apparently people are hoping to get on the good side of the contestants for future favors if they win."
end

-- "Good Bye."
evt.global[42] = function()
	evt.StatusText{Str = 42}         -- "Enjoy the Game!"
	evt.SetNPCTopic{NPC = 3, Index = 0, Event = 0}         -- "Big Daddy Jim"
	evt.SetNPCTopic{NPC = 3, Index = 1, Event = 0}         -- "Big Daddy Jim"
	evt.Subtract{"NPCs", Value = 3}         -- "Big Daddy Jim"
end

-- "We need your help!"
evt.global[43] = function()
	evt.SetMessage{Str = 54}         -- "You have decided to listen to my tour about the points of interest on Emerald Island.  If you decide that you no longer want me to point out areas of interest then select Tour Off."
	evt.Subtract{"QBits", Value = 17}         -- No more docent babble
	evt.SetNPCTopic{NPC = 3, Index = 2, Event = 42}         -- "Big Daddy Jim" : "Good Bye."
end

-- "Rogue "
evt.global[44] = function()
	evt.SetMessage{Str = 55}         -- "Though the law may decide who is guilty and who is not, I decide who is called Thief, and who is just a criminal.  Bring me that lovely vase I saw on the mantle in Lord Markham’s manor, and I shall call you Rogue."
	evt.Add{"QBits", Value = 18}         -- "Go to Lord Markham's estate in Tatalia, steal the vase there, and return it to William Lasker in the Erathian Sewers."
	evt.SetNPCTopic{NPC = 15, Index = 0, Event = 45}         -- "William Lasker" : "Rogue "
end

-- "Rogue "
evt.global[45] = function()
	evt.ForPlayer(-- ERROR: Const not found
"All")
	if not evt.Cmp{"Inventory", Value = 624} then         -- "Vase"
		evt.SetMessage{Str = 56}         -- "Common criminals steal whatever catches their eye; Rogues steal what I tell them to steal.  I shall not grant titles to failures.  Return with Lord Markham’s Vase and I will promote all Thieves to Rogues, and all non-thieves to Honorary Rogues."
		return
	end
	evt.SetMessage{Str = 57}         -- "Well done.  Stealing that vase took guts and skill.  I grant you the title of Rogue, and a small payment for your services. "
	evt.ForPlayer(-- ERROR: Const not found
0)
	if evt.Cmp{"ClassIs", Value = const.Class.Thief} then
		evt.Set{"ClassIs", Value = const.Class.Rogue}
		evt.Add{"Awards", Value = 10}         -- "Promoted to Rogue"
		evt.Add{"Experience", Value = 30000}
	else
		evt.Add{"Awards", Value = 11}         -- "Promoted to Honorary Rogue"
		evt.Add{"Experience", Value = 15000}
	end
	evt.ForPlayer(-- ERROR: Const not found
1)
	if evt.Cmp{"ClassIs", Value = const.Class.Thief} then
		evt.Set{"ClassIs", Value = const.Class.Rogue}
		evt.Add{"Awards", Value = 10}         -- "Promoted to Rogue"
		evt.Add{"Experience", Value = 30000}
	else
		evt.Add{"Awards", Value = 11}         -- "Promoted to Honorary Rogue"
		evt.Add{"Experience", Value = 15000}
	end
	evt.ForPlayer(-- ERROR: Const not found
2)
	if evt.Cmp{"ClassIs", Value = const.Class.Thief} then
		evt.Set{"ClassIs", Value = const.Class.Rogue}
		evt.Add{"Awards", Value = 10}         -- "Promoted to Rogue"
		evt.Add{"Experience", Value = 30000}
	else
		evt.Add{"Awards", Value = 11}         -- "Promoted to Honorary Rogue"
		evt.Add{"Experience", Value = 15000}
	end
	evt.ForPlayer(-- ERROR: Const not found
3)
	if evt.Cmp{"ClassIs", Value = const.Class.Thief} then
		evt.Set{"ClassIs", Value = const.Class.Rogue}
		evt.Add{"Awards", Value = 10}         -- "Promoted to Rogue"
		evt.Add{"Experience", Value = 30000}
	else
		evt.Add{"Awards", Value = 11}         -- "Promoted to Honorary Rogue"
		evt.Add{"Experience", Value = 15000}
	end
	evt.Subtract{"Inventory", Value = 624}         -- "Vase"
	evt.Subtract{"QBits", Value = 212}         -- Vase - I lost it
	evt.ForPlayer(-- ERROR: Const not found
"All")
	evt.ForPlayer(-- ERROR: Const not found
"Current")
	evt.Add{"Gold", Value = 5000}
	evt.Subtract{"QBits", Value = 18}         -- "Go to Lord Markham's estate in Tatalia, steal the vase there, and return it to William Lasker in the Erathian Sewers."
	evt.SetNPCTopic{NPC = 15, Index = 0, Event = 46}         -- "William Lasker" : "Spy"
end

-- "Spy"
evt.global[46] = function()
	evt.ForPlayer(-- ERROR: Const not found
"All")
	if evt.Cmp{"QBits", Value = 99} then         -- Chose the path of Light
		evt.SetMessage{Str = 60}         -- "Your next task is somewhat more difficult…more suited for Spies than Rogues.  I have been asked to ensure that Watchtower 6, the only tower to survive the recent wars against the Necromancers, be unable to defend itself the next time it is attacked.  Killing the guards inside won’t help—the Necromancers will just fill it again with more troops.  The tower is on the southern edge of the Necromancers’ land.  I want you to slip inside and move the counterweight in the gatehouse at the top of the tower to the gatehouse at the bottom of the tower.  It is a heavy weight that can be found in a slot against the wall with a rope tied to it.  When the time comes for an attack, the misplaced weights will be noticed too late, and the gate will not close.  If you can do this, you will have proven your status as a Spy."
		evt.Set{"QBits", Value = 19}         -- "Go to Watchtower 6 in the Deyja Moors, and move the weight from the top of the tower to the bottom of the tower.  Then return to William Lasker in the Erathian Sewers."
		evt.SetNPCTopic{NPC = 15, Index = 0, Event = 47}         -- "William Lasker" : "Spy"
	else
		if evt.Cmp{"QBits", Value = 100} then         -- Chose the path of Dark
			evt.SetMessage{Str = 58}         -- "You have chosen the path of Darkness, and I will promote you no further.  Perhaps an Assassin would have something to teach you.  I hear there is one in Deyja."
		else
			evt.SetMessage{Str = 59}         -- "You are not quite ready to take the next step.  The time is fast approaching when you must decide whether to follow the path of light, or the path of darkness.  If you choose the Light, return to me to complete your training."
		end
	end
end

-- "Spy"
evt.global[47] = function()
	evt.ForPlayer(-- ERROR: Const not found
"All")
	if not evt.Cmp{"QBits", Value = 20} then         -- Watchtower 6.  Weight in the appropriate box.  Important for Global event 47 (Spy promotion)
		if evt.Cmp{-- ERROR: Not found
"Inventory", Value = 999} then
			evt.SetMessage{Str = 61}         -- "Um…The weight needs to go in the box in the lower gatehouse—not here.  Go back to Watchtower 6 and put the weight in the right box!"
		else
			if evt.Cmp{"QBits", Value = 56} then         -- Watchtower 6.  Taken the weight from the upper gatehouse.  Spy promo quest
				evt.SetMessage{Str = 62}         -- "Hmm.  Removing the weight from the upper gatehouse was a start, but where is it now?!?  The plan won’t work unless you put the weight in the lower gatehouse!  Go back to Watchtower 6 and put the weight in the right box!"
			else
				evt.SetMessage{Str = 63}         -- "You haven’t done the job yet!  Remember, you must go to Watchtower 6 and move the weight from the box in the upper gatehouse to the lower gatehouse.  I will not promote you until that is done. "
			end
		end
		return
	end
	evt.SetMessage{Str = 64}         -- "Good work!  Some day, your sabotage of that watchtower will save hundreds of lives.  For your services, I hereby promote the Rogues among you to the status of Spy, and the Honorary Rogues to Honorary Spies! Oh, and here’s some gold as payment. "
	evt.ForPlayer(-- ERROR: Const not found
0)
	if evt.Cmp{"ClassIs", Value = const.Class.Rogue} then
		evt.Set{"ClassIs", Value = const.Class.Spy}
		evt.Add{"Awards", Value = 12}         -- "Promoted to Spy"
		evt.Add{"Experience", Value = 80000}
	else
		evt.Add{"Awards", Value = 13}         -- "Promoted to Honorary Spy"
		evt.Add{"Experience", Value = 40000}
	end
	evt.ForPlayer(-- ERROR: Const not found
1)
	if evt.Cmp{"ClassIs", Value = const.Class.Rogue} then
		evt.Set{"ClassIs", Value = const.Class.Spy}
		evt.Add{"Awards", Value = 12}         -- "Promoted to Spy"
		evt.Add{"Experience", Value = 80000}
	else
		evt.Add{"Awards", Value = 13}         -- "Promoted to Honorary Spy"
		evt.Add{"Experience", Value = 40000}
	end
	evt.ForPlayer(-- ERROR: Const not found
2)
	if evt.Cmp{"ClassIs", Value = const.Class.Rogue} then
		evt.Set{"ClassIs", Value = const.Class.Spy}
		evt.Add{"Awards", Value = 12}         -- "Promoted to Spy"
		evt.Add{"Experience", Value = 80000}
	else
		evt.Add{"Awards", Value = 13}         -- "Promoted to Honorary Spy"
		evt.Add{"Experience", Value = 40000}
	end
	evt.ForPlayer(-- ERROR: Const not found
3)
	if evt.Cmp{"ClassIs", Value = const.Class.Rogue} then
		evt.Set{"ClassIs", Value = const.Class.Spy}
		evt.Add{"Awards", Value = 12}         -- "Promoted to Spy"
		evt.Add{"Experience", Value = 80000}
	else
		evt.Add{"Awards", Value = 13}         -- "Promoted to Honorary Spy"
		evt.Add{"Experience", Value = 40000}
	end
	evt.Add{"Gold", Value = 15000}
	evt.Subtract{"QBits", Value = 19}         -- "Go to Watchtower 6 in the Deyja Moors, and move the weight from the top of the tower to the bottom of the tower.  Then return to William Lasker in the Erathian Sewers."
	evt.ForPlayer(-- ERROR: Const not found
"All")
	evt.SetNPCTopic{NPC = 15, Index = 0, Event = 0}         -- "William Lasker"
	evt.SetNPCGreeting{NPC = 15, Greeting = 39}         -- "William Lasker" : "Greetings Rogues, how may I be of service?"
end

-- "Greetings from BDJ!"
evt.global[48] = function()
	evt.SetMessage{Str = 71}         --[[ "BDJ’s the name, coding wizard’s the Game! And I do trust that you are enjoying the ‘game’.

I see that you have survived The Gauntlet in good fashion.  Congratulations!  You may now select a new profession for each qualified party member.  Each member will be presented with three choices for a new profession.  Based upon the choice, twenty ‘bonus’ points will be distributed to one-or-more attributes: re, a new fighter will gain +15 Endurance and +5 Might; a new sorcerer will gain +20 Intellect.

When you select the new profession, the member will automatically be promoted to the highest rating in that character class; re, a Fighter will immediately become a Champion, a Sorcerer an Arch Mage.  Once you’ve selected your new profession, you will no longer continue to advance in your original profession, although you will retain all or your previous skill and spell abilities." ]]
	evt.ForPlayer(-- ERROR: Const not found
"All")
	evt.SetNPCTopic{NPC = 456, Index = 0, Event = 49}         -- "The Coding Wizard" : "How does this work?"
	evt.MoveNPC{NPC = 460, HouseId = 470}         -- "Lord Godwinson" -> "Godwinson Estate"
	evt.SetNPCTopic{NPC = 460, Index = 0, Event = 96}         -- "Lord Godwinson" : "Coding Wizard Quest"
	evt.SetNPCGreeting{NPC = 460, Greeting = 26}         -- "Lord Godwinson" : "Well met, my friends!  Sit a-spell and tell me all about your recent adventures."
end

-- "How does this work?"
evt.global[49] = function()
	evt.SetMessage{Str = 72}         --[[ "Here’s how the process works.  You have four members in your party; member 1, member 2, member 3, and member 4 (from left-to-right).  Each time you select “New Profession”, you will ‘index’ to a different party member, starting at member 1.  The member will be presented with a single ‘fast track’ choice.  You may either select this choice or ‘EXIT’ and then select me a second time to be presented with three choices.

When the selected party member has chosen a new profession, proceed to the Brazier to acquire the new profession and then return to me.  When all four members have selected their new Profession, return to me one more time and then we’re done.  So let’s get started, ok?" ]]
	evt.ForPlayer(-- ERROR: Const not found
"All")
	evt.SetNPCTopic{NPC = 456, Index = 0, Event = 50}         -- "The Coding Wizard" : "New Profession."
end

-- "New Profession."
evt.global[50] = function()
	evt.ForPlayer(-- ERROR: Const not found
"All")
	if evt.Cmp{"QBits", Value = 338} then         -- BDJ Final
		evt.SetMessage{Str = 86}         -- "Adventurer 4, select your new profession."
		evt.ForPlayer(-- ERROR: Const not found
3)
	else
		if evt.Cmp{"QBits", Value = 337} then         -- BDJ 3
			evt.SetMessage{Str = 85}         -- "Adventurer 3, select your new profession."
			evt.ForPlayer(-- ERROR: Const not found
2)
		else
			if evt.Cmp{"QBits", Value = 336} then         -- BDJ 2
				evt.SetMessage{Str = 84}         -- "Adventurer 2, select your new profession."
				evt.ForPlayer(-- ERROR: Const not found
1)
			else
				evt.SetMessage{Str = 83}         -- "Adventurer 1, select your new profession."
				evt.ForPlayer(-- ERROR: Const not found
0)
			end
		end
	end
	evt.Set{"QBits", Value = 349}         -- One Use
	if evt.Cmp{"ClassIs", Value = const.Class.ArchMage} then
		evt.SetNPCTopic{NPC = 456, Index = 0, Event = 70}         -- "The Coding Wizard" : "Archer"
		evt.SetNPCTopic{NPC = 456, Index = 1, Event = 86}         -- "The Coding Wizard" : "Paladin"
		evt.SetNPCTopic{NPC = 456, Index = 2, Event = 57}         -- "The Coding Wizard" : "Cleric"
	else
		if evt.Cmp{"ClassIs", Value = const.Class.PriestLight} then
			evt.SetNPCTopic{NPC = 456, Index = 0, Event = 75}         -- "The Coding Wizard" : "Druid"
			evt.SetNPCTopic{NPC = 456, Index = 1, Event = 86}         -- "The Coding Wizard" : "Paladin"
			evt.SetNPCTopic{NPC = 456, Index = 2, Event = 70}         -- "The Coding Wizard" : "Archer"
		else
			if evt.Cmp{"ClassIs", Value = const.Class.MasterArcher} then
				evt.SetNPCTopic{NPC = 456, Index = 0, Event = 86}         -- "The Coding Wizard" : "Paladin"
				evt.SetNPCTopic{NPC = 456, Index = 1, Event = 81}         -- "The Coding Wizard" : "Monk"
				evt.SetNPCTopic{NPC = 456, Index = 2, Event = 75}         -- "The Coding Wizard" : "Druid"
			else
				if evt.Cmp{"ClassIs", Value = const.Class.ArchDruid} then
					evt.SetNPCTopic{NPC = 456, Index = 0, Event = 70}         -- "The Coding Wizard" : "Archer"
					evt.SetNPCTopic{NPC = 456, Index = 1, Event = 81}         -- "The Coding Wizard" : "Monk"
					evt.SetNPCTopic{NPC = 456, Index = 2, Event = 56}         -- "The Coding Wizard" : "Sorcerer"
				else
					if evt.Cmp{"ClassIs", Value = const.Class.Champion} then
						evt.SetNPCTopic{NPC = 456, Index = 0, Event = 70}         -- "The Coding Wizard" : "Archer"
						evt.SetNPCTopic{NPC = 456, Index = 1, Event = 76}         -- "The Coding Wizard" : "Ranger"
						evt.SetNPCTopic{NPC = 456, Index = 2, Event = 75}         -- "The Coding Wizard" : "Druid"
					else
						if evt.Cmp{"ClassIs", Value = const.Class.Master} then
							evt.SetNPCTopic{NPC = 456, Index = 0, Event = 82}         -- "The Coding Wizard" : "Thief"
							evt.SetNPCTopic{NPC = 456, Index = 1, Event = 75}         -- "The Coding Wizard" : "Druid"
							evt.SetNPCTopic{NPC = 456, Index = 2, Event = 70}         -- "The Coding Wizard" : "Archer"
						else
							if evt.Cmp{"ClassIs", Value = const.Class.Hero} then
								evt.SetNPCTopic{NPC = 456, Index = 0, Event = 75}         -- "The Coding Wizard" : "Druid"
								evt.SetNPCTopic{NPC = 456, Index = 1, Event = 76}         -- "The Coding Wizard" : "Ranger"
								evt.SetNPCTopic{NPC = 456, Index = 2, Event = 70}         -- "The Coding Wizard" : "Archer"
							else
								if evt.Cmp{"ClassIs", Value = const.Class.RangerLord} then
									evt.SetNPCTopic{NPC = 456, Index = 0, Event = 70}         -- "The Coding Wizard" : "Archer"
									evt.SetNPCTopic{NPC = 456, Index = 1, Event = 86}         -- "The Coding Wizard" : "Paladin"
									evt.SetNPCTopic{NPC = 456, Index = 2, Event = 82}         -- "The Coding Wizard" : "Thief"
								else
									if not evt.Cmp{"ClassIs", Value = const.Class.Spy} then
										evt.Subtract{"QBits", Value = 349}         -- One Use
										evt.SetMessage{Str = 40}         -- "You don't Qualify"
										return
									end
									evt.SetNPCTopic{NPC = 456, Index = 0, Event = 70}         -- "The Coding Wizard" : "Archer"
									evt.SetNPCTopic{NPC = 456, Index = 1, Event = 69}         -- "The Coding Wizard" : "Fighter"
									evt.SetNPCTopic{NPC = 456, Index = 2, Event = 81}         -- "The Coding Wizard" : "Monk"
								end
							end
						end
					end
				end
			end
		end
	end
	evt.SetNPCTopic{NPC = 456, Index = 3, Event = 123}         -- "The Coding Wizard" : "No Thanks."
end

-- "Crusader"
evt.global[51] = function()
	evt.ForPlayer(-- ERROR: Const not found
"Current")
	evt.SetMessage{Str = 74}         -- "If you wish to be promoted to Crusader, you must first bring me the map that indicates the location of Sir BunGleau's panoply. Here, take this scroll of the Saints.  It will provide you with a firm foundation as you begin your quest."
	evt.Set{"QBits", Value = 22}         -- "Find the map that shows the location of Sir BunGleau's panoply and return it to the Massenger of the Saints.."
	evt.Add{"Inventory", Value = 730}         -- "Saints of Selinas Scroll 2"
	evt.SetNPCGreeting{NPC = 450, Greeting = 10}         -- "Messenger of the Saints" : "Greetings again, friends."
	evt.SetNPCTopic{NPC = 450, Index = 0, Event = 52}         -- "Messenger of the Saints" : "Crusader"
end

-- "Crusader"
evt.global[52] = function()
	evt.ForPlayer(-- ERROR: Const not found
"All")
	if not evt.Cmp{"Inventory", Value = 739} then         -- "Map to Treasure"
		evt.SetMessage{Str = 76}         -- "You must bring the map to me before I can name thee Crusaders."
		return
	end
	evt.SetMessage{Str = 75}         -- "Ahh!  I see you've completed your quest and have returned with the map.  May the Saints be praised! I hereby promote all Paladins to Crusaders, and all others to Honorary Crusaders!  Congratulations!"
	evt.ForPlayer(-- ERROR: Const not found
0)
	if evt.Cmp{"ClassIs", Value = const.Class.Paladin} then
		evt.Set{"ClassIs", Value = const.Class.Crusader}
		evt.Add{"Awards", Value = 40}         -- "Promoted to Crusader"
		evt.Add{"Experience", Value = 30000}
	else
		evt.Add{"Awards", Value = 41}         -- "Promoted to Honorary Crusader"
		evt.Add{"Experience", Value = 15000}
	end
	evt.ForPlayer(-- ERROR: Const not found
1)
	if evt.Cmp{"ClassIs", Value = const.Class.Paladin} then
		evt.Set{"ClassIs", Value = const.Class.Crusader}
		evt.Add{"Awards", Value = 40}         -- "Promoted to Crusader"
		evt.Add{"Experience", Value = 30000}
	else
		evt.Add{"Awards", Value = 41}         -- "Promoted to Honorary Crusader"
		evt.Add{"Experience", Value = 15000}
	end
	evt.ForPlayer(-- ERROR: Const not found
2)
	if evt.Cmp{"ClassIs", Value = const.Class.Paladin} then
		evt.Set{"ClassIs", Value = const.Class.Crusader}
		evt.Add{"Awards", Value = 40}         -- "Promoted to Crusader"
		evt.Add{"Experience", Value = 30000}
	else
		evt.Add{"Awards", Value = 41}         -- "Promoted to Honorary Crusader"
		evt.Add{"Experience", Value = 15000}
	end
	evt.ForPlayer(-- ERROR: Const not found
3)
	if evt.Cmp{"ClassIs", Value = const.Class.Paladin} then
		evt.Set{"ClassIs", Value = const.Class.Crusader}
		evt.Add{"Awards", Value = 40}         -- "Promoted to Crusader"
		evt.Add{"Experience", Value = 30000}
	else
		evt.Add{"Awards", Value = 41}         -- "Promoted to Honorary Crusader"
		evt.Add{"Experience", Value = 15000}
	end
	evt.Subtract{"QBits", Value = 22}         -- "Find the map that shows the location of Sir BunGleau's panoply and return it to the Massenger of the Saints.."
	evt.Subtract{"NPCs", Value = 17}         -- "Sally"
	evt.Subtract{"Inventory", Value = 739}         -- "Map to Treasure"
	evt.Subtract{"Inventory", Value = 729}         -- "Saints of Selinas Scroll 1"
	evt.Subtract{"Inventory", Value = 733}         -- "Saints of Selinas Scroll 5"
	evt.Subtract{"Inventory", Value = 730}         -- "Saints of Selinas Scroll 2"
	evt.Subtract{"Inventory", Value = 735}         -- "Saints of Selinas Scroll 6"
	evt.Subtract{"Inventory", Value = 731}         -- "Saints of Selinas Scroll 3"
	evt.Subtract{"Inventory", Value = 732}         -- "Saints of Selinas Scroll 4"
	evt.ForPlayer(-- ERROR: Const not found
"All")
	evt.SetNPCTopic{NPC = 450, Index = 0, Event = 53}         -- "Messenger of the Saints" : "Hero"
end

-- "Hero"
evt.global[53] = function()
	if evt.Cmp{"QBits", Value = 99} then         -- Chose the path of Light
		evt.SetMessage{Str = 77}         -- "I am pleased to see you have chosen the path of Light, Crusaders!  It is now time to retrieve the panoply of Sir BunGleau and once again employ it in the fight against the Dark!!  To accomplish this you must return to Emerald Island and drink from the Well of Luck.  This will transport you to the Place of Hiding where you will find the panoply.  Return to me with this panoply to complete your promotion.  ** Oh ... beware of the Blue Guardians!! *"
		evt.SetNPCTopic{NPC = 450, Index = 0, Event = 54}         -- "Messenger of the Saints" : "Hero"
		evt.Set{"QBits", Value = 24}         -- "Find the Blessed Panoply of Sir BunGleau and return to the Angel in Castle Harmondale""
		evt.SetNPCGreeting{NPC = 450, Greeting = 10}         -- "Messenger of the Saints" : "Greetings again, friends."
	else
		if evt.Cmp{"QBits", Value = 100} then         -- Chose the path of Dark
			evt.SetMessage{Str = 78}         -- "I will not have truck with thee further, scoundrel!  I see now thee hath chosen the path of Darkness.  Mayhaps thee should seek a villain like thyself for training."
		else
			evt.SetMessage{Str = 79}         -- "Ah, my Crusader friends!  I know you seek another task with which to hone your Crusading skills, but first you must pass a far more serious test.  You must agree to follow the Path of Light before I can help you further.  You will know when you have made this choice.  Return to me then."
		end
	end
end

-- "Hero"
evt.global[54] = function()
	if not evt.Cmp{"Inventory", Value = 557} then         -- "SBG's Blessed Gauntlets"
		evt.SetMessage{Str = 81}         -- "Though your deeds remain impressive indeed, crusaders, I cannot declare you Heroes until you return the panoply to me."
		return
	end
	evt.SetMessage{Str = 80}         -- "You’ve done it! I knew you could do it!  I’m so proud of you!  Another victory for the Light!  You can keep the panoply and use it for Truth, Justice, and the Erathian way! [The Angel sighs and smiles broadly] Well.  My work here is done!  You have passed the tests and deserve your reward.  Therefore do I solemnly declare you Heroes! "
	evt.ForPlayer(-- ERROR: Const not found
0)
	if evt.Cmp{"ClassIs", Value = const.Class.Crusader} then
		evt.Set{"ClassIs", Value = const.Class.Hero}
		evt.Add{"Awards", Value = 42}         -- "Promoted to Hero"
		evt.Add{"Experience", Value = 80000}
	else
		evt.Add{"Awards", Value = 43}         -- "Promoted to Honorary Hero"
		evt.Add{"Experience", Value = 40000}
	end
	evt.ForPlayer(-- ERROR: Const not found
1)
	if evt.Cmp{"ClassIs", Value = const.Class.Crusader} then
		evt.Set{"ClassIs", Value = const.Class.Hero}
		evt.Add{"Awards", Value = 42}         -- "Promoted to Hero"
		evt.Add{"Experience", Value = 80000}
	else
		evt.Add{"Awards", Value = 43}         -- "Promoted to Honorary Hero"
		evt.Add{"Experience", Value = 40000}
	end
	evt.ForPlayer(-- ERROR: Const not found
2)
	if evt.Cmp{"ClassIs", Value = const.Class.Crusader} then
		evt.Set{"ClassIs", Value = const.Class.Hero}
		evt.Add{"Awards", Value = 42}         -- "Promoted to Hero"
		evt.Add{"Experience", Value = 80000}
	else
		evt.Add{"Awards", Value = 43}         -- "Promoted to Honorary Hero"
		evt.Add{"Experience", Value = 40000}
	end
	evt.ForPlayer(-- ERROR: Const not found
3)
	if evt.Cmp{"ClassIs", Value = const.Class.Crusader} then
		evt.Set{"ClassIs", Value = const.Class.Hero}
		evt.Add{"Awards", Value = 42}         -- "Promoted to Hero"
		evt.Add{"Experience", Value = 80000}
	else
		evt.Add{"Awards", Value = 43}         -- "Promoted to Honorary Hero"
		evt.Add{"Experience", Value = 40000}
	end
	evt.Subtract{"QBits", Value = 24}         -- "Find the Blessed Panoply of Sir BunGleau and return to the Angel in Castle Harmondale""
	evt.Subtract{"NPCs", Value = 54}         -- "Alice Hargreaves"
	evt.Subtract{"Reputation", Value = 10}
	evt.ForPlayer(-- ERROR: Const not found
"All")
	evt.SetNPCGreeting{NPC = 450, Greeting = 46}         -- "Messenger of the Saints" : "Salutations Heroes!  I am certain thou hast much to accomplish before we dally about."
	evt.SetMonGroupBit{NPCGroup = 5, Bit = const.MonsterBits.Invisible, On = true}         -- "Generic Monster Group for Dungeons"
	evt.SetNPCTopic{NPC = 450, Index = 0, Event = 0}         -- "Messenger of the Saints"
	evt.Set{"QBits", Value = 373}         -- Harm no respawn
end

-- "Hello?"
evt.global[55] = function()
	if evt.Cmp{"QBits", Value = 99} then         -- Chose the path of Light
		if evt.Cmp{"QBits", Value = 25} then         -- Mini-dungeon Area 5.  Rescued/Captured Alice Hargreaves.
			evt.SetMessage{Str = 85}         -- "Adventurer 3, select your new profession."
		else
			evt.SetMessage{Str = 84}         -- "Adventurer 2, select your new profession."
			evt.Set{"QBits", Value = 25}         -- Mini-dungeon Area 5.  Rescued/Captured Alice Hargreaves.
			evt.Set{"NPCs", Value = 54}         -- "Alice Hargreaves"
		end
	else
		if not evt.Cmp{"QBits", Value = 100} then         -- Chose the path of Dark
			evt.SetMessage{Str = 83}         -- "Adventurer 1, select your new profession."
		else
			if evt.Cmp{"QBits", Value = 25} then         -- Mini-dungeon Area 5.  Rescued/Captured Alice Hargreaves.
				evt.SetMessage{Str = 87}         -- "There ya go!  Now return this scroll to Lord Godwinson to complete this quest.  Then he’ll know that I am more than a myth."
			else
				evt.SetMessage{Str = 86}         -- "Adventurer 4, select your new profession."
				evt.Set{"QBits", Value = 25}         -- Mini-dungeon Area 5.  Rescued/Captured Alice Hargreaves.
				evt.Set{"NPCs", Value = 54}         -- "Alice Hargreaves"
			end
		end
	end
end

-- "Sorcerer"
evt.global[56] = function()
	evt.ForPlayer(-- ERROR: Const not found
"All")
	evt.Set{"QBits", Value = 339}         -- Sorcerer
	evt.SetNPCTopic{NPC = 456, Index = 0, Event = 0}         -- "The Coding Wizard"
	evt.SetNPCTopic{NPC = 456, Index = 1, Event = 0}         -- "The Coding Wizard"
	evt.SetNPCTopic{NPC = 456, Index = 2, Event = 0}         -- "The Coding Wizard"
	evt.SetMessage{Str = 41}         -- "Proceed to the Brazier to acquire your new profession."
end

-- "Cleric"
evt.global[57] = function()
	evt.ForPlayer(-- ERROR: Const not found
"All")
	evt.Set{"QBits", Value = 340}         -- Cleric
	evt.SetNPCTopic{NPC = 456, Index = 0, Event = 0}         -- "The Coding Wizard"
	evt.SetNPCTopic{NPC = 456, Index = 1, Event = 0}         -- "The Coding Wizard"
	evt.SetNPCTopic{NPC = 456, Index = 2, Event = 0}         -- "The Coding Wizard"
	evt.SetMessage{Str = 41}         -- "Proceed to the Brazier to acquire your new profession."
end

-- "Initiate"
evt.global[58] = function()
	evt.SetMessage{Str = 93}         -- "Ah, it is normal for novice Monks to ask for the path of enlightenment.  I shall tell you of the path, though the journey is yours to make.  In the Barrow Downs is a series of tombs-- one of which was constructed on a site of great natural power.  You will know the right barrow because it is different from the rest.  Reach this barrow and meditate by the water, and your promotion to Initiate will be complete."
	evt.Set{"QBits", Value = 27}         -- "Find the lost meditation spot in the Dwarven Barrows."
	evt.SetNPCTopic{NPC = 38, Index = 1, Event = 59}         -- "Bartholomew Hume" : "Initiate"
end

-- "Initiate"
evt.global[59] = function()
	evt.SetMessage{Str = 95}         -- "You have not finished your journey.  Return to me only when you have completed your task."
end

-- "Initiate"
evt.global[60] = function()
	evt.SetMessage{Str = 94}         -- "[Bartholomew Hume contacts you mentally] Congratulations, young ones.  My final lesson given to you as Monks is this:  enlightenment is gained by the journey, not the destination.  In this case, the destination was critical to prove that you were capable of the journey.  I shall now promote all Monks to Initiates and everyone else to Honorary Initiates-- congratulations."
	evt.ForPlayer(-- ERROR: Const not found
0)
	if evt.Cmp{"ClassIs", Value = const.Class.Monk} then
		evt.Set{"ClassIs", Value = const.Class.Initiate}
		evt.Add{"Awards", Value = 22}         -- "Promoted to Initiate"
		evt.Add{"Experience", Value = 30000}
	else
		evt.Add{"Awards", Value = 23}         -- "Promoted to Honorary Initiate"
		evt.Add{"Experience", Value = 15000}
	end
	evt.ForPlayer(-- ERROR: Const not found
1)
	if evt.Cmp{"ClassIs", Value = const.Class.Monk} then
		evt.Set{"ClassIs", Value = const.Class.Initiate}
		evt.Add{"Awards", Value = 22}         -- "Promoted to Initiate"
		evt.Add{"Experience", Value = 30000}
	else
		evt.Add{"Awards", Value = 23}         -- "Promoted to Honorary Initiate"
		evt.Add{"Experience", Value = 15000}
	end
	evt.ForPlayer(-- ERROR: Const not found
2)
	if evt.Cmp{"ClassIs", Value = const.Class.Monk} then
		evt.Set{"ClassIs", Value = const.Class.Initiate}
		evt.Add{"Awards", Value = 22}         -- "Promoted to Initiate"
		evt.Add{"Experience", Value = 30000}
	else
		evt.Add{"Awards", Value = 23}         -- "Promoted to Honorary Initiate"
		evt.Add{"Experience", Value = 15000}
	end
	evt.ForPlayer(-- ERROR: Const not found
3)
	if evt.Cmp{"ClassIs", Value = const.Class.Monk} then
		evt.Set{"ClassIs", Value = const.Class.Initiate}
		evt.Add{"Awards", Value = 22}         -- "Promoted to Initiate"
		evt.Add{"Experience", Value = 30000}
	else
		evt.Add{"Awards", Value = 23}         -- "Promoted to Honorary Initiate"
		evt.Add{"Experience", Value = 15000}
	end
	evt.Subtract{"QBits", Value = 27}         -- "Find the lost meditation spot in the Dwarven Barrows."
	evt.ForPlayer(-- ERROR: Const not found
"All")
	evt.SetNPCTopic{NPC = 38, Index = 1, Event = 61}         -- "Bartholomew Hume" : "Master"
	evt.SetNPCTopic{NPC = 55, Index = 0, Event = 0}         -- "Bartholomew Hume"
end

-- "Master"
evt.global[61] = function()
	if evt.Cmp{"QBits", Value = 100} then         -- Chose the path of Dark
		evt.SetMessage{Str = 97}         -- "I am sorry, but I am permitted to train you no longer.  You will need to find a new Master to learn from."
	else
		if evt.Cmp{"QBits", Value = 99} then         -- Chose the path of Light
			evt.SetMessage{Str = 96}         -- "I see you wish to continue your journey.  Excellent!  Have no fear, for you are prepared for your next step.  You must extinguish the remnants of an evil order- the Order of Baa.  Defeat their High Priest and return to me and I shall complete your training and promote you to Master."
			evt.Set{"QBits", Value = 28}         -- "Go to the Temple of Baa in Avlee and kill the High Priest of Baa, then return to Bartholomew Hume in Harmondale."
			evt.SetNPCTopic{NPC = 38, Index = 1, Event = 62}         -- "Bartholomew Hume" : "Master"
		else
			evt.SetMessage{Str = 98}         -- "A fork approaches in your path.  I will only train you after you've chosen to walk the lighter path."
		end
	end
end

-- "Master"
evt.global[62] = function()
	evt.ForPlayer(-- ERROR: Const not found
"All")
	if not evt.Cmp{"QBits", Value = 243} then         -- Killed High Preist of Baa
		evt.SetMessage{Str = 135}         -- "The Temple of Baa still stands, their High Priest still lives.  Until this is completed, you are not ready for the title of Master.  Go now and do not fail."
		return
	end
	evt.SetMessage{Str = 134}         -- "Good work.  No longer shall the Order of Baa stain the lands of Erathia.  Now, allow me to promote all Initiates to Masters, and all Honorary Initiates to Honorary Masters.  Keep in mind that this is but a stop along the path of enlightenment.  Your journey only ends with your eventual death-- never close your mind."
	evt.ForPlayer(-- ERROR: Const not found
0)
	if evt.Cmp{"ClassIs", Value = const.Class.Initiate} then
		evt.Set{"ClassIs", Value = const.Class.Master}
		evt.Add{"Awards", Value = 24}         -- "Promoted to Master"
		evt.Add{"Experience", Value = 80000}
	else
		evt.Add{"Awards", Value = 25}         -- "Promoted to Honorary Master"
		evt.Add{"Experience", Value = 40000}
	end
	evt.ForPlayer(-- ERROR: Const not found
1)
	if evt.Cmp{"ClassIs", Value = const.Class.Initiate} then
		evt.Set{"ClassIs", Value = const.Class.Master}
		evt.Add{"Awards", Value = 24}         -- "Promoted to Master"
		evt.Add{"Experience", Value = 80000}
	else
		evt.Add{"Awards", Value = 25}         -- "Promoted to Honorary Master"
		evt.Add{"Experience", Value = 40000}
	end
	evt.ForPlayer(-- ERROR: Const not found
2)
	if evt.Cmp{"ClassIs", Value = const.Class.Initiate} then
		evt.Set{"ClassIs", Value = const.Class.Master}
		evt.Add{"Awards", Value = 24}         -- "Promoted to Master"
		evt.Add{"Experience", Value = 80000}
	else
		evt.Add{"Awards", Value = 25}         -- "Promoted to Honorary Master"
		evt.Add{"Experience", Value = 40000}
	end
	evt.ForPlayer(-- ERROR: Const not found
3)
	if evt.Cmp{"ClassIs", Value = const.Class.Initiate} then
		evt.Set{"ClassIs", Value = const.Class.Master}
		evt.Add{"Awards", Value = 24}         -- "Promoted to Master"
		evt.Add{"Experience", Value = 80000}
	else
		evt.Add{"Awards", Value = 25}         -- "Promoted to Honorary Master"
		evt.Add{"Experience", Value = 40000}
	end
	evt.Add{"Gold", Value = 7500}
	evt.Subtract{"QBits", Value = 28}         -- "Go to the Temple of Baa in Avlee and kill the High Priest of Baa, then return to Bartholomew Hume in Harmondale."
	evt.Subtract{"Reputation", Value = 10}
	evt.ForPlayer(-- ERROR: Const not found
"All")
	evt.SetNPCTopic{NPC = 38, Index = 1, Event = 0}         -- "Bartholomew Hume"
	evt.SetNPCGreeting{NPC = 38, Greeting = 52}         -- "Bartholomew Hume" : "Greetings again, Masters.  How can Bartholomew aid you?"
end

-- "Quest"
evt.global[63] = function()
	evt.ForPlayer(-- ERROR: Const not found
"All")
	if evt.Cmp{"Inventory", Value = 552} then         -- "Grognard's Cutlass"
		evt.SetMessage{Str = 53}         -- "I see you’ve cleared the area of Goblins and have returned with Grognard’s Cutlass.  Good job!  The stables will now renew our services."
		evt.Set{"Awards", Value = 26}         -- "Reopened Harmondale Stables"
		evt.Add{"Experience", Value = 7500}
		evt.Add{"Gold", Value = 500}
		evt.Subtract{"QBits", Value = 383}         -- "Bring the Grognard's Cutlass to Christian at the J.V.C Corral."
		evt.SetNPCTopic{NPC = 461, Index = 0, Event = 0}         -- "Christian the Stablemaster"
	else
		evt.SetMessage{Str = 2}         --[[ "The Stable Guild has discovered that a raiding force of Goblins, lead by the infamous Grognard, is poised to launch an incursion into Harmondale.  Until this threat is ‘neutralized’, the stables will remain closed.

The Guild has intercepted and ‘detained’ a Goblin courier who has revealed that the Goblin force will launch their attack shortly after ‘signal fires’ are lighted.  Don’t know about these ‘signal fires’, but if you can find them, light them, and then ambush the invasion force, perhaps you could deal with this threat decisively.

If you will ‘neutralize’ this threat and bring me proof that it is safe once again to renew our services, I will re-open the stables.  The proof I will need is the Grognard’s Cutlass carried by the Goblin leader." ]]
		evt.Set{"QBits", Value = 383}         -- "Bring the Grognard's Cutlass to Christian at the J.V.C Corral."
	end
end

-- "Ninja"
evt.global[64] = function()
	evt.ForPlayer(-- ERROR: Const not found
"All")
	if not evt.Cmp{"QBits", Value = 242} then         -- Opened chest with shadow mask
		if evt.Cmp{"QBits", Value = 57} then         -- Solved the code puzzle.  Ninja promo quest
			evt.SetMessage{Str = 140}         -- "So you have the key, but you haven't followed the directions in the message.  Remember, the tomb is in Southern Erathia.  Complete your task, and return to me to report success.  If you can't complete your mission, don't bother returning to me.  Failure is pathetic."
		else
			evt.SetMessage{Str = 141}         -- "[Sand sighs] Once again, the cipher key is the third word of the first paragraph of the Scroll of Waves.  You can find it somewhere in the School of Wizardry.  I don't care how you get in there--kill anyone who gets in your way, or sneak in.  Whatever you want.  The only thing that matters is success.  Everything else is an excuse for personal weakness."
		end
		return
	end
	evt.SetMessage{Str = 142}         -- "Well done.  No one can argue with success except apologists for the weak and the cowardly.  I hearby promote all Initiates to Ninjas, and all non-Initiates to Honorary Ninjas.  Oh yeah, go ahead and keep that little trinket you stole from the tomb.  This was just a training exercise, after all."
	evt.ForPlayer(-- ERROR: Const not found
0)
	if evt.Cmp{"ClassIs", Value = const.Class.Initiate} then
		evt.Set{"ClassIs", Value = const.Class.Ninja}
		evt.Add{"Awards", Value = 26}         -- "Reopened Harmondale Stables"
		evt.Add{"Experience", Value = 80000}
	else
		evt.Add{"Awards", Value = 27}         -- "Promoted to Honorary Ninja"
		evt.Add{"Experience", Value = 40000}
	end
	evt.ForPlayer(-- ERROR: Const not found
1)
	if evt.Cmp{"ClassIs", Value = const.Class.Initiate} then
		evt.Set{"ClassIs", Value = const.Class.Ninja}
		evt.Add{"Awards", Value = 26}         -- "Reopened Harmondale Stables"
		evt.Add{"Experience", Value = 80000}
	else
		evt.Add{"Awards", Value = 27}         -- "Promoted to Honorary Ninja"
		evt.Add{"Experience", Value = 40000}
	end
	evt.ForPlayer(-- ERROR: Const not found
2)
	if evt.Cmp{"ClassIs", Value = const.Class.Initiate} then
		evt.Set{"ClassIs", Value = const.Class.Ninja}
		evt.Add{"Awards", Value = 26}         -- "Reopened Harmondale Stables"
		evt.Add{"Experience", Value = 80000}
	else
		evt.Add{"Awards", Value = 27}         -- "Promoted to Honorary Ninja"
		evt.Add{"Experience", Value = 40000}
	end
	evt.ForPlayer(-- ERROR: Const not found
3)
	if evt.Cmp{"ClassIs", Value = const.Class.Initiate} then
		evt.Set{"ClassIs", Value = const.Class.Ninja}
		evt.Add{"Awards", Value = 26}         -- "Reopened Harmondale Stables"
		evt.Add{"Experience", Value = 80000}
	else
		evt.Add{"Awards", Value = 27}         -- "Promoted to Honorary Ninja"
		evt.Add{"Experience", Value = 40000}
	end
	evt.Subtract{"QBits", Value = 29}         -- "Kill the creatures in the Kennel and return to Queen Catherine with the Journal of Experiments.."
	evt.Subtract{"Reputation", Value = 10}
	evt.ForPlayer(-- ERROR: Const not found
"All")
	evt.SetNPCTopic{NPC = 39, Index = 0, Event = 0}         -- "Stephan Sand"
	evt.SetNPCGreeting{NPC = 39, Greeting = 55}         -- "Stephan Sand" : "Now that you've achieved the exaulted status of Ninja, I have nothing further to give you.  I hope my teachings take you far."
end

-- "Master Archer"
evt.global[65] = function()
	if not evt.Cmp{"Awards", Value = 34} then         -- "Promoted to Warrior Mage"
		if not evt.Cmp{"Awards", Value = 35} then         -- "Promoted to Honorary Warrior Mage"
			evt.SetMessage{Str = 146}         -- "I am the person to see if you want to become Master Archers, but you have come too soon!  You must have the proper background to become a Master, and that means first becoming a warrior mage.  Return when you are ready."
			return
		end
	end
	if evt.Cmp{"QBits", Value = 99} then         -- Chose the path of Light
		evt.SetMessage{Str = 143}         -- "A few generations ago, an enchanted bow was created by alchemists in the Tularean Forest to seal another peace treaty between the elves and the humans.  While en route to Erathia, the bow was taken from the couriers by the Titans in Avlee.  They have no use for the thing, so it's probably in their stronghold still.  Strike a blow for our profession, and get that bow back.  It is absolutely the finest thing of its kind ever made.  Oh, and while you're there, feel free to cut some of those bullies down to size--They stole it out of cruelty, not need!  If you are successful, I will promote all Warrior Mages to Master Archers, or honorary Master Archers, as the case may be."
		evt.Add{"QBits", Value = 30}         -- "Retrieve the Perfect Bow from the Titans' Stronghold in Avlee and return it to Lawrence Mark in Harmondale."
		evt.SetNPCTopic{NPC = 40, Index = 0, Event = 66}         -- "Lawrence Mark" : "Master Archer"
	else
		if evt.Cmp{"QBits", Value = 100} then         -- Chose the path of Dark
			evt.SetMessage{Str = 145}         -- "You have chosen the path of Darkness.  I will never help you improve, for fear you will use your skills to advance your selfish goals!"
		else
			evt.SetMessage{Str = 144}         -- "So, you've achieved the rank of Warrior Mage, and wish to advance to Master Archer!  A worthy goal, but I only promote those who's heart and courage match their skill.  Come back to me when you have firmly committed to the Light.  Then I will help you."
		end
	end
end

-- "Master Archer"
evt.global[66] = function()
	evt.ForPlayer(-- ERROR: Const not found
"All")
	if not evt.Cmp{"Inventory", Value = 542} then         -- "The Perfect Bow"
		evt.SetMessage{Str = 148}         -- "No luck getting the bow?  Well, take your time, and plan your assault against the Titans carefully.  Against such powerful opponents, there is no shame in striking and retreating.  Do what you must to defeat these monsters."
		return
	end
	evt.SetMessage{Str = 147}         -- "You found the bow!  Let me take some measurements and adjust it to your specific style of archery. Once I have finished you should keep it, and use it in defense the of the land and the people.  I am happy to promote all Warrior Mages to Master Archers, and all Honorary Warrior Mages to Honorary Master Archers."
	evt.ForPlayer(-- ERROR: Const not found
0)
	if evt.Cmp{"ClassIs", Value = const.Class.WarriorMage} then
		evt.Set{"ClassIs", Value = const.Class.MasterArcher}
		evt.Add{"Awards", Value = 36}         -- "Promoted to Master Archer"
		evt.Add{"Experience", Value = 80000}
	else
		evt.Add{"Awards", Value = 37}         -- "Promoted to Honorary Master Archer"
		evt.Add{"Experience", Value = 40000}
	end
	evt.ForPlayer(-- ERROR: Const not found
1)
	if evt.Cmp{"ClassIs", Value = const.Class.WarriorMage} then
		evt.Set{"ClassIs", Value = const.Class.MasterArcher}
		evt.Add{"Awards", Value = 36}         -- "Promoted to Master Archer"
		evt.Add{"Experience", Value = 80000}
	else
		evt.Add{"Awards", Value = 37}         -- "Promoted to Honorary Master Archer"
		evt.Add{"Experience", Value = 40000}
	end
	evt.ForPlayer(-- ERROR: Const not found
2)
	if evt.Cmp{"ClassIs", Value = const.Class.WarriorMage} then
		evt.Set{"ClassIs", Value = const.Class.MasterArcher}
		evt.Add{"Awards", Value = 36}         -- "Promoted to Master Archer"
		evt.Add{"Experience", Value = 80000}
	else
		evt.Add{"Awards", Value = 37}         -- "Promoted to Honorary Master Archer"
		evt.Add{"Experience", Value = 40000}
	end
	evt.ForPlayer(-- ERROR: Const not found
3)
	if evt.Cmp{"ClassIs", Value = const.Class.WarriorMage} then
		evt.Set{"ClassIs", Value = const.Class.MasterArcher}
		evt.Add{"Awards", Value = 36}         -- "Promoted to Master Archer"
		evt.Add{"Experience", Value = 80000}
	else
		evt.Add{"Awards", Value = 37}         -- "Promoted to Honorary Master Archer"
		evt.Add{"Experience", Value = 40000}
	end
	evt.Subtract{"QBits", Value = 30}         -- "Retrieve the Perfect Bow from the Titans' Stronghold in Avlee and return it to Lawrence Mark in Harmondale."
	evt.Add{"Inventory", Value = 543}         -- "The Perfect Bow"
	evt.Subtract{"Reputation", Value = 10}
	evt.ForPlayer(-- ERROR: Const not found
"All")
	if evt.Cmp{"Inventory", Value = 542} then         -- "The Perfect Bow"
		evt.Subtract{"Inventory", Value = 542}         -- "The Perfect Bow"
	end
	evt.SetNPCTopic{NPC = 40, Index = 0, Event = 0}         -- "Lawrence Mark"
	evt.SetNPCGreeting{NPC = 40, Greeting = 57}         -- "Lawrence Mark" : "Welcome my friends!  That's a fine weapon you have there, but don't think for a moment you'll best me in this year's Tourney--I'm still the Master!"
end

-- "Warrior Mage"
evt.global[67] = function()
	evt.SetMessage{Str = 149}         -- "So you want to become Warrior Mages, do you?  It isn't easy.  You must be equally proficient in magical skills and physical skills.  There is a test of this.  Visit the Red Dwarf Mines.  Inside you will find two kinds of beasts--one that can be harmed only with magic, and one that can be harmed only with steel.  In the back of the lower section of the mines you will find a machine created by the Dwarves that powers the lift-- the only access between the upper and lower sections of the mines.  To keep the creatures trapped in the lower section, you will have to replace the belt in the machine with this one, a worn belt that will only last about an hour before breaking.  This should give you enough time to get to the lift and get out before you are trapped down there.  Seal away these creatures and return to me-- only then will I call you Warrior Mages."
	evt.Add{"Inventory", Value = 649}         -- "Worn Belt"
	evt.Add{"QBits", Value = 31}         -- "Sabotage the lift in the Red Dwarf Mines in the Bracada Desert then return to Zedd True Shot on Emerald Island."
	evt.Add{"QBits", Value = 216}         -- Worn Belt - I lost it
	evt.SetNPCTopic{NPC = 21, Index = 1, Event = 68}         -- "Zedd True Shot" : "Warrior Mage"
end

-- "Warrior Mage"
evt.global[68] = function()
	if not evt.Cmp{"QBits", Value = 58} then         -- Destroyed critter generator in dungeon.  Warrior Mage promo quest.
		evt.SetMessage{Str = 151}         -- "You haven't sabotaged the machine yet.  You must finish this before I'll promote you to Warrior Mage."
		return
	end
	evt.SetMessage{Str = 150}         -- "Very Good.  You have passed the test.  Now the creatures are sealed away and won't be able to prey on the dwarves any longer, and you have proven your ability in both sorcery and steel.  I am proud to declare all Archers amongst you Warrior Mages, and everyone else Honorary Warrior Mages.  Congratulations!  See you later in 'The Game'. "
	evt.ForPlayer(-- ERROR: Const not found
0)
	if evt.Cmp{"ClassIs", Value = const.Class.Archer} then
		evt.Set{"ClassIs", Value = const.Class.WarriorMage}
		evt.Add{"Awards", Value = 34}         -- "Promoted to Warrior Mage"
		evt.Add{"Experience", Value = 30000}
	else
		evt.Add{"Awards", Value = 35}         -- "Promoted to Honorary Warrior Mage"
		evt.Add{"Experience", Value = 15000}
	end
	evt.ForPlayer(-- ERROR: Const not found
1)
	if evt.Cmp{"ClassIs", Value = const.Class.Archer} then
		evt.Set{"ClassIs", Value = const.Class.WarriorMage}
		evt.Add{"Awards", Value = 34}         -- "Promoted to Warrior Mage"
		evt.Add{"Experience", Value = 30000}
	else
		evt.Add{"Awards", Value = 35}         -- "Promoted to Honorary Warrior Mage"
		evt.Add{"Experience", Value = 15000}
	end
	evt.ForPlayer(-- ERROR: Const not found
2)
	if evt.Cmp{"ClassIs", Value = const.Class.Archer} then
		evt.Set{"ClassIs", Value = const.Class.WarriorMage}
		evt.Add{"Awards", Value = 34}         -- "Promoted to Warrior Mage"
		evt.Add{"Experience", Value = 30000}
	else
		evt.Add{"Awards", Value = 35}         -- "Promoted to Honorary Warrior Mage"
		evt.Add{"Experience", Value = 15000}
	end
	evt.ForPlayer(-- ERROR: Const not found
3)
	if evt.Cmp{"ClassIs", Value = const.Class.Archer} then
		evt.Set{"ClassIs", Value = const.Class.WarriorMage}
		evt.Add{"Awards", Value = 34}         -- "Promoted to Warrior Mage"
		evt.Add{"Experience", Value = 30000}
	else
		evt.Add{"Awards", Value = 35}         -- "Promoted to Honorary Warrior Mage"
		evt.Add{"Experience", Value = 15000}
	end
	evt.Subtract{"QBits", Value = 31}         -- "Sabotage the lift in the Red Dwarf Mines in the Bracada Desert then return to Zedd True Shot on Emerald Island."
	evt.Add{"Gold", Value = 7500}
	evt.Subtract{"Reputation", Value = 5}
	evt.ForPlayer(-- ERROR: Const not found
"All")
	evt.SetNPCTopic{NPC = 21, Index = 1, Event = 0}         -- "Zedd True Shot"
end

-- "Fighter"
evt.global[69] = function()
	evt.ForPlayer(-- ERROR: Const not found
"All")
	evt.Set{"QBits", Value = 341}         -- Fighter
	evt.SetNPCTopic{NPC = 456, Index = 0, Event = 0}         -- "The Coding Wizard"
	evt.SetNPCTopic{NPC = 456, Index = 1, Event = 0}         -- "The Coding Wizard"
	evt.SetNPCTopic{NPC = 456, Index = 2, Event = 0}         -- "The Coding Wizard"
	evt.SetMessage{Str = 41}         -- "Proceed to the Brazier to acquire your new profession."
end

-- "Archer"
evt.global[70] = function()
	evt.ForPlayer(-- ERROR: Const not found
"All")
	evt.Set{"QBits", Value = 346}         -- Archer
	evt.SetNPCTopic{NPC = 456, Index = 0, Event = 0}         -- "The Coding Wizard"
	evt.SetNPCTopic{NPC = 456, Index = 1, Event = 0}         -- "The Coding Wizard"
	evt.SetNPCTopic{NPC = 456, Index = 2, Event = 0}         -- "The Coding Wizard"
	evt.SetMessage{Str = 41}         -- "Proceed to the Brazier to acquire your new profession."
end

-- "Champion"
evt.global[71] = function()
	if not evt.Cmp{"Awards", Value = 16} then         -- "Promoted to Cavalier"
		if not evt.Cmp{"Awards", Value = 17} then         -- "Promoted to Honorary Cavalier"
			evt.SetMessage{Str = 160}         -- "I am the person to talk to if you want to be called Champions.  First, though, you must practice.  Return to me when you've become Cavaliers.  Then, if you have the right outlook, I will tell you what you must do to become Champions."
			return
		end
	end
	if evt.Cmp{"QBits", Value = 100} then         -- Chose the path of Dark
		evt.SetMessage{Str = 159}         -- "Call you Champions?  Never!  The only reason I'm not hacking you evil doers to bits is that you came here peacefully.  Leave now, before I change my mind and rid the world of another problem."
	else
		if evt.Cmp{"QBits", Value = 99} then         -- Chose the path of Light
			evt.SetMessage{Str = 157}         -- "So you want to be champions, do you?  Ha!  How can you be a champion if you don't win any tournaments?  You know, I can't really promote you to Champion status--you have to do it yourself, just like everything else.  Go and win five championship tournaments in the Arena at Knight level, and come back to me.  I'll call you Champions then, if you want."
			evt.Set{"QBits", Value = 33}         -- "Win five arena challenges then return to Leda Rowan in the Bracada Desert."
			evt.SetNPCTopic{NPC = 42, Index = 0, Event = 72}         -- "Leda Rowan" : "Champion"
		else
			evt.SetMessage{Str = 158}         -- "I can see you very much want to be called Champions, but I'm not so sure I should help you.  Prove to me that you follow the Path of Light, and then we'll talk about promotion."
		end
	end
end

-- "Champion"
evt.global[72] = function()
	if not evt.Cmp{"ArenaWinsKnight", Value = 5} then
		evt.SetMessage{Str = 162}         -- "You have not yet won 5 championship tournaments in the Arena.  Return to me when you have won five, and I will promote you.  Remember, these battles MUST be at the Knight difficulty level."
		return
	end
	evt.SetMessage{Str = 161}         -- "Congratulations for you recent tourney victories, my friends!  I gladly name the Cavaliers among you Champions, and the Honorary Cavaliers I name Honorary Champions!  Always fight for the Light, Champions!"
	evt.ForPlayer(-- ERROR: Const not found
0)
	if evt.Cmp{"ClassIs", Value = const.Class.Cavalier} then
		evt.Set{"ClassIs", Value = const.Class.Champion}
		evt.Add{"Awards", Value = 18}         -- "Promoted to Champion"
		evt.Add{"Experience", Value = 80000}
	else
		evt.Add{"Awards", Value = 19}         -- "Promoted to Honorary Champion"
		evt.Add{"Experience", Value = 40000}
	end
	evt.ForPlayer(-- ERROR: Const not found
1)
	if evt.Cmp{"ClassIs", Value = const.Class.Cavalier} then
		evt.Set{"ClassIs", Value = const.Class.Champion}
		evt.Add{"Awards", Value = 18}         -- "Promoted to Champion"
		evt.Add{"Experience", Value = 80000}
	else
		evt.Add{"Awards", Value = 19}         -- "Promoted to Honorary Champion"
		evt.Add{"Experience", Value = 40000}
	end
	evt.ForPlayer(-- ERROR: Const not found
2)
	if evt.Cmp{"ClassIs", Value = const.Class.Cavalier} then
		evt.Set{"ClassIs", Value = const.Class.Champion}
		evt.Add{"Awards", Value = 18}         -- "Promoted to Champion"
		evt.Add{"Experience", Value = 80000}
	else
		evt.Add{"Awards", Value = 19}         -- "Promoted to Honorary Champion"
		evt.Add{"Experience", Value = 40000}
	end
	evt.ForPlayer(-- ERROR: Const not found
3)
	if evt.Cmp{"ClassIs", Value = const.Class.Cavalier} then
		evt.Set{"ClassIs", Value = const.Class.Champion}
		evt.Add{"Awards", Value = 18}         -- "Promoted to Champion"
		evt.Add{"Experience", Value = 80000}
	else
		evt.Add{"Awards", Value = 19}         -- "Promoted to Honorary Champion"
		evt.Add{"Experience", Value = 40000}
	end
	evt.Subtract{"QBits", Value = 33}         -- "Win five arena challenges then return to Leda Rowan in the Bracada Desert."
	evt.Subtract{"Reputation", Value = 10}
	evt.ForPlayer(-- ERROR: Const not found
"All")
	evt.SetNPCTopic{NPC = 42, Index = 0, Event = 0}         -- "Leda Rowan"
	evt.SetNPCGreeting{NPC = 42, Greeting = 61}         -- "Leda Rowan" : "Hail, champions!  Your courage and skill has all the tongues in the Kingdom wagging!  I am very proud of you!"
end

-- "Cavalier"
evt.global[73] = function()
	evt.SetMessage{Str = 163}         -- "The hallmark of the Cavalier is courage.  I can promote you to Cavalier status, but before I'll do that, you'll have to prove to me your bravery in battle.  Since most people are yellow bellied cowards at heart, I doubt you'll succeed.  But if you want to try, here is what you must do: Destroy all the undead in the haunted mansion in the Barrow Downs."
	evt.Set{"QBits", Value = 34}         -- "Destroy all the undead in the Haunted House in the Barrow Downs and return to Frederick Org in Erathia."
	evt.SetNPCTopic{NPC = 43, Index = 0, Event = 74}         -- "Frederick Org" : "Cavalier"
end

-- "Cavalier"
evt.global[74] = function()
	evt.ForPlayer(-- ERROR: Const not found
"All")
	if not evt.Cmp{"QBits", Value = 140} then         -- Cleaned out the haunted mansion (Cavalier promo)
		evt.SetMessage{Str = 165}         -- "Did one little haunted house send you packing in fear?  I've seen chocolate eclairs with more backbone than you!  Get you gone, and don't come back 'til you've stiffened your spine!"
		return
	end
	evt.SetMessage{Str = 164}         -- "So you're back!  And from the look on your faces I see you have finished the job.  Well done!  I hereby officially promote all Knights amongst you to Cavaliers, and everyone else to honorary Cavaliers.  Carry your title with pride!"
	evt.ForPlayer(-- ERROR: Const not found
0)
	if evt.Cmp{"ClassIs", Value = const.Class.Knight} then
		evt.Set{"ClassIs", Value = const.Class.Cavalier}
		evt.Add{"Awards", Value = 16}         -- "Promoted to Cavalier"
		evt.Add{"Experience", Value = 30000}
	else
		evt.Add{"Awards", Value = 17}         -- "Promoted to Honorary Cavalier"
		evt.Add{"Experience", Value = 15000}
	end
	evt.ForPlayer(-- ERROR: Const not found
1)
	if evt.Cmp{"ClassIs", Value = const.Class.Knight} then
		evt.Set{"ClassIs", Value = const.Class.Cavalier}
		evt.Add{"Awards", Value = 16}         -- "Promoted to Cavalier"
		evt.Add{"Experience", Value = 30000}
	else
		evt.Add{"Awards", Value = 17}         -- "Promoted to Honorary Cavalier"
		evt.Add{"Experience", Value = 15000}
	end
	evt.ForPlayer(-- ERROR: Const not found
2)
	if evt.Cmp{"ClassIs", Value = const.Class.Knight} then
		evt.Set{"ClassIs", Value = const.Class.Cavalier}
		evt.Add{"Awards", Value = 16}         -- "Promoted to Cavalier"
		evt.Add{"Experience", Value = 30000}
	else
		evt.Add{"Awards", Value = 17}         -- "Promoted to Honorary Cavalier"
		evt.Add{"Experience", Value = 15000}
	end
	evt.ForPlayer(-- ERROR: Const not found
3)
	if evt.Cmp{"ClassIs", Value = const.Class.Knight} then
		evt.Set{"ClassIs", Value = const.Class.Cavalier}
		evt.Add{"Awards", Value = 16}         -- "Promoted to Cavalier"
		evt.Add{"Experience", Value = 30000}
	else
		evt.Add{"Awards", Value = 17}         -- "Promoted to Honorary Cavalier"
		evt.Add{"Experience", Value = 15000}
	end
	evt.Subtract{"QBits", Value = 34}         -- "Destroy all the undead in the Haunted House in the Barrow Downs and return to Frederick Org in Erathia."
	evt.Subtract{"Reputation", Value = 5}
	evt.ForPlayer(-- ERROR: Const not found
"All")
	evt.SetNPCTopic{NPC = 43, Index = 0, Event = 0}         -- "Frederick Org"
	evt.MoveNPC{NPC = 43, HouseId = 0}         -- "Frederick Org"
end

-- "Druid"
evt.global[75] = function()
	evt.ForPlayer(-- ERROR: Const not found
"All")
	evt.Set{"QBits", Value = 347}         -- Druid
	evt.SetNPCTopic{NPC = 456, Index = 0, Event = 0}         -- "The Coding Wizard"
	evt.SetNPCTopic{NPC = 456, Index = 1, Event = 0}         -- "The Coding Wizard"
	evt.SetNPCTopic{NPC = 456, Index = 2, Event = 0}         -- "The Coding Wizard"
	evt.SetMessage{Str = 41}         -- "Proceed to the Brazier to acquire your new profession."
end

-- "Ranger"
evt.global[76] = function()
	evt.ForPlayer(-- ERROR: Const not found
"All")
	evt.Set{"QBits", Value = 345}         -- Ranger
	evt.SetNPCTopic{NPC = 456, Index = 0, Event = 0}         -- "The Coding Wizard"
	evt.SetNPCTopic{NPC = 456, Index = 1, Event = 0}         -- "The Coding Wizard"
	evt.SetNPCTopic{NPC = 456, Index = 2, Event = 0}         -- "The Coding Wizard"
	evt.SetMessage{Str = 41}         -- "Proceed to the Brazier to acquire your new profession."
end

-- "Ranger Lord"
evt.global[77] = function()
	if not evt.Cmp{"Awards", Value = 28} then         -- "Promoted to Hunter"
		if not evt.Cmp{"Awards", Value = 29} then         -- "Promoted to Honorary Hunter"
			evt.SetMessage{Str = 173}         -- "[Lysander shakes his head, smiling gently] Too soon, eager ones.  I train only the most advanced students.  Seek me out again when you reach Hunter status."
			return
		end
	end
	if evt.Cmp{"QBits", Value = 99} then         -- Chose the path of Light
		evt.SetMessage{Str = 171}         -- "Well, it looks like you might be able to do the job I have in mind.  The fundamental task a Ranger Lord faces is caring for the land.  Recently, poachers removed a magical gemstone called the ""heart of the forest"" from the Tularean Forest.  The forest has become restless, and attacks travelers who come too close.  The forest blames all 'Walkers' for the theft, and won't calm down until the stone is returned.  Find the stone and return it to the oldest tree in the Forest.  Come back to me when you've done this."
		evt.Set{"QBits", Value = 36}         -- "Calm the trees in the Tularean Forest by speaking to the Oldest Tree then return to Lysander Sweet in the Bracada Desert."
		evt.SetNPCTopic{NPC = 44, Index = 0, Event = 78}         -- "Lysander Sweet" : "Ranger Lord"
	else
		if evt.Cmp{"QBits", Value = 100} then         -- Chose the path of Dark
			evt.SetMessage{Str = 174}         -- "[Lysander frowns] You've chosen the path of darkness.  I refuse to teach such as you--you would only use my lessons to further your selfish goals.  May Heaven have mercy on your souls."
		else
			evt.SetMessage{Str = 172}         -- "I would like to be your teacher--I really would, but I'm not sure you're cut out to be a Ranger Lord.  Soon you must make a decision of the heart.  If you choose the Path of Light, return to me.  I would be honored to be your teacher."
		end
	end
end

-- "Ranger Lord"
evt.global[78] = function()
	if not evt.Cmp{"QBits", Value = 41} then         -- Solved Tree quest
		if evt.Cmp{"QBits", Value = 40} then         -- Talked to the Oldest Tree
			evt.SetMessage{Str = 176}         -- "Well, you've spoken with the tree, and now know as much as I do about the theft.  If you manage to find the stone, take it directly to the tree and then come see me."
		else
			evt.SetMessage{Str = 175}         -- "If you can't figure out where to start, you should try finding the oldest tree in the forest.  It should be somewhere outside of Pierpont in Avlee.  The oldest tree has the power of speech, and may know something helpful.  It will be happy to tell you whatever you want to hear, plus a whole lot more.  You'll see."
		end
		return
	end
	evt.SetMessage{Str = 177}         -- "You've done a good thing, returning the Heart.  The forest is quieter now, and no longer attacks travelers.  You've probably saved many lives.  For service to the Land and the Light, I hereby promote all Hunters among you to Ranger Lords, and all honorary Hunters to honorary Ranger Lords!"
	evt.ForPlayer(-- ERROR: Const not found
0)
	if evt.Cmp{"ClassIs", Value = const.Class.Hunter} then
		evt.Set{"ClassIs", Value = const.Class.RangerLord}
		evt.Add{"Awards", Value = 30}         -- "Promoted to Ranger Lord"
		evt.Add{"Experience", Value = 80000}
	else
		evt.Add{"Awards", Value = 31}         -- "Promoted to Honorary Ranger Lord"
		evt.Add{"Experience", Value = 40000}
	end
	evt.ForPlayer(-- ERROR: Const not found
1)
	if evt.Cmp{"ClassIs", Value = const.Class.Hunter} then
		evt.Set{"ClassIs", Value = const.Class.RangerLord}
		evt.Add{"Awards", Value = 30}         -- "Promoted to Ranger Lord"
		evt.Add{"Experience", Value = 80000}
	else
		evt.Add{"Awards", Value = 31}         -- "Promoted to Honorary Ranger Lord"
		evt.Add{"Experience", Value = 40000}
	end
	evt.ForPlayer(-- ERROR: Const not found
2)
	if evt.Cmp{"ClassIs", Value = const.Class.Hunter} then
		evt.Set{"ClassIs", Value = const.Class.RangerLord}
		evt.Add{"Awards", Value = 30}         -- "Promoted to Ranger Lord"
		evt.Add{"Experience", Value = 80000}
	else
		evt.Add{"Awards", Value = 31}         -- "Promoted to Honorary Ranger Lord"
		evt.Add{"Experience", Value = 40000}
	end
	evt.ForPlayer(-- ERROR: Const not found
3)
	if evt.Cmp{"ClassIs", Value = const.Class.Hunter} then
		evt.Set{"ClassIs", Value = const.Class.RangerLord}
		evt.Add{"Awards", Value = 30}         -- "Promoted to Ranger Lord"
		evt.Add{"Experience", Value = 80000}
	else
		evt.Add{"Awards", Value = 31}         -- "Promoted to Honorary Ranger Lord"
		evt.Add{"Experience", Value = 40000}
	end
	evt.Subtract{"QBits", Value = 36}         -- "Calm the trees in the Tularean Forest by speaking to the Oldest Tree then return to Lysander Sweet in the Bracada Desert."
	evt.Subtract{"Reputation", Value = 10}
	evt.ForPlayer(-- ERROR: Const not found
"All")
	evt.SetNPCTopic{NPC = 44, Index = 0, Event = 0}         -- "Lysander Sweet"
	evt.SetNPCGreeting{NPC = 44, Greeting = 65}         -- "Lysander Sweet" : "Your good works have served the forest well.  And, I can see, the experience has served you well in turn.  May you continue to reap the rewards of your good deeds, my friends!"
end

-- "Hunter"
evt.global[79] = function()
	evt.SetMessage{Str = 178}         -- "Think you can improve?  I have a test for you.  A hunter needs to understand the woods, and a hunter needs to be as skilled with magic as with a blade.  The best teachers for that are the faeries.  There's a faerie mound in Northern Avlee.  Figure out how to get in, and the Faeries will grant magic to the genuine rangers among you, meaning that they will be promoted to Hunter status.  The rest of you will be honorary hunters. "
	evt.Set{"QBits", Value = 37}         -- "Solve the secret to the entrance of the Faerie Mound in Avlee and speak to the Faerie King."
	evt.SetNPCTopic{NPC = 45, Index = 0, Event = 80}         -- "Ebednezer Sower" : "Hunter"
end

-- "Hunter"
evt.global[80] = function()
	evt.SetMessage{Str = 179}         -- "Foxed by the Faeries? [Ebednezer snickers, then begins to laugh uproariously at his own wit] Foxed?  Faeries?  Hahahah!  Get it?  Foxed… you know…ah ahahah.  Maybe not.  Well, I've already told you how to become Hunters.  Get inside the Faerie Mound in Avlee.  Now, stop bothering me!  "
end

-- "Monk"
evt.global[81] = function()
	evt.ForPlayer(-- ERROR: Const not found
"All")
	evt.Set{"QBits", Value = 343}         -- Monk
	evt.SetNPCTopic{NPC = 456, Index = 0, Event = 0}         -- "The Coding Wizard"
	evt.SetNPCTopic{NPC = 456, Index = 1, Event = 0}         -- "The Coding Wizard"
	evt.SetNPCTopic{NPC = 456, Index = 2, Event = 0}         -- "The Coding Wizard"
	evt.SetMessage{Str = 41}         -- "Proceed to the Brazier to acquire your new profession."
end

-- "Thief"
evt.global[82] = function()
	evt.ForPlayer(-- ERROR: Const not found
"All")
	evt.Set{"QBits", Value = 344}         -- Thief
	evt.SetNPCTopic{NPC = 456, Index = 0, Event = 0}         -- "The Coding Wizard"
	evt.SetNPCTopic{NPC = 456, Index = 1, Event = 0}         -- "The Coding Wizard"
	evt.SetNPCTopic{NPC = 456, Index = 2, Event = 0}         -- "The Coding Wizard"
	evt.SetMessage{Str = 41}         -- "Proceed to the Brazier to acquire your new profession."
end

-- "Hunter?"
evt.CanShowTopic[83] = function()
	return evt.Cmp{"QBits", Value = 37}         -- "Solve the secret to the entrance of the Faerie Mound in Avlee and speak to the Faerie King."
end

evt.global[83] = function()
	evt.SetMessage{Str = 185}         -- "Come to my door looking for magic?  Thee've always had it, if thee knew where to look.  Some I tell this to, and they still can't see it, though it be plain as the nose on their face.  Those amongst thee that are simple Rangers are now Hunters, and those who aren't are but Honorary Hunters.  Clever the ones who can knock on my door!"
	evt.ForPlayer(-- ERROR: Const not found
0)
	if evt.Cmp{"ClassIs", Value = const.Class.Ranger} then
		evt.Set{"ClassIs", Value = const.Class.Hunter}
		evt.Add{"Awards", Value = 28}         -- "Promoted to Hunter"
		evt.Add{"Experience", Value = 30000}
	else
		evt.Add{"Awards", Value = 29}         -- "Promoted to Honorary Hunter"
		evt.Add{"Experience", Value = 15000}
	end
	evt.ForPlayer(-- ERROR: Const not found
1)
	if evt.Cmp{"ClassIs", Value = const.Class.Ranger} then
		evt.Set{"ClassIs", Value = const.Class.Hunter}
		evt.Add{"Awards", Value = 28}         -- "Promoted to Hunter"
		evt.Add{"Experience", Value = 30000}
	else
		evt.Add{"Awards", Value = 29}         -- "Promoted to Honorary Hunter"
		evt.Add{"Experience", Value = 15000}
	end
	evt.ForPlayer(-- ERROR: Const not found
2)
	if evt.Cmp{"ClassIs", Value = const.Class.Ranger} then
		evt.Set{"ClassIs", Value = const.Class.Hunter}
		evt.Add{"Awards", Value = 28}         -- "Promoted to Hunter"
		evt.Add{"Experience", Value = 30000}
	else
		evt.Add{"Awards", Value = 29}         -- "Promoted to Honorary Hunter"
		evt.Add{"Experience", Value = 15000}
	end
	evt.ForPlayer(-- ERROR: Const not found
3)
	if evt.Cmp{"ClassIs", Value = const.Class.Ranger} then
		evt.Set{"ClassIs", Value = const.Class.Hunter}
		evt.Add{"Awards", Value = 28}         -- "Promoted to Hunter"
		evt.Add{"Experience", Value = 30000}
	else
		evt.Add{"Awards", Value = 29}         -- "Promoted to Honorary Hunter"
		evt.Add{"Experience", Value = 15000}
	end
	evt.Subtract{"QBits", Value = 37}         -- "Solve the secret to the entrance of the Faerie Mound in Avlee and speak to the Faerie King."
	evt.ForPlayer(-- ERROR: Const not found
"All")
	evt.SetNPCTopic{NPC = 45, Index = 0, Event = 0}         -- "Ebednezer Sower"
	evt.SetNPCTopic{NPC = 52, Index = 0, Event = 0}         -- "Faerie King"
	evt.MoveNPC{NPC = 45, HouseId = 0}         -- "Ebednezer Sower"
end

-- "Heart of the Wood"
evt.CanShowTopic[84] = function()
	return evt.Cmp{"QBits", Value = 36}         -- "Calm the trees in the Tularean Forest by speaking to the Oldest Tree then return to Lysander Sweet in the Bracada Desert."
end

evt.global[84] = function()
	evt.SetMessage{Str = 186}         -- "The thieves reached deep inside me to take my Heart.  The grapevines say they are hiding in the Mercenary Guild in Tatalia.  We would squeeze them, but they aren't close enough to reach.  Walkers are needed to catch walkers.  Catch the thieves for us.  Ok?"
	evt.Set{"QBits", Value = 39}         -- "Find the Heart of the Forest in the Mercenary Guild in Tatalia and return it to the Oldest Tree in the Tularean Forest."
	evt.SetNPCTopic{NPC = 53, Index = 0, Event = 85}         -- "The Oldest Tree" : "Heart of the Wood"
end

-- "Heart of the Wood"
evt.global[85] = function()
	evt.ForPlayer(-- ERROR: Const not found
"All")
	if evt.Cmp{"Inventory", Value = 600} then         -- "Heart of the Wood"
		evt.SetMessage{Str = 187}         -- "Ahhh!  [The tree sighs happily]  You have the heart!  The forest sings with joy!  Tonight we will recite the song of the ancestors.  Will you stay and recite with us?"
		evt.Subtract{"Inventory", Value = 600}         -- "Heart of the Wood"
		evt.Subtract{"QBits", Value = 217}         -- Heart of Wood - I lost it
		evt.Add{"Experience", Value = 5000}
		evt.Subtract{"QBits", Value = 39}         -- "Find the Heart of the Forest in the Mercenary Guild in Tatalia and return it to the Oldest Tree in the Tularean Forest."
		evt.Set{"QBits", Value = 41}         -- Solved Tree quest
		evt.SetNPCTopic{NPC = 53, Index = 0, Event = 0}         -- "The Oldest Tree"
		evt.SetNPCGreeting{NPC = 53, Greeting = 71}         -- "The Oldest Tree" : "Ohhhhh…It's the Walkers from the South.  I remember you!  You returned the Heart.  The trees are very happy, and promise not to kill any more walkers.  Come and talk to me any time."
		evt.Set{"Awards", Value = 61}         -- "Retrieved the Heart of the Wood"
		evt.SetMonGroupBit{NPCGroup = 10, Bit = const.MonsterBits.Hostile, On = false}         -- "Southern Village Group in Harmondy"
	else
		evt.SetMessage{Str = 188}         -- "Oh, the forest is still very angry.  The grapevines say the thieves have not left their hiding place.  You will catch the thieves for us, won't you?"
	end
end

-- "Paladin"
evt.global[86] = function()
	evt.ForPlayer(-- ERROR: Const not found
"All")
	evt.Set{"QBits", Value = 342}         -- Paladin
	evt.SetNPCTopic{NPC = 456, Index = 0, Event = 0}         -- "The Coding Wizard"
	evt.SetNPCTopic{NPC = 456, Index = 1, Event = 0}         -- "The Coding Wizard"
	evt.SetNPCTopic{NPC = 456, Index = 2, Event = 0}         -- "The Coding Wizard"
	evt.SetMessage{Str = 41}         -- "Proceed to the Brazier to acquire your new profession."
end

-- "Let's Continue."
evt.global[87] = function()
	evt.ForPlayer(-- ERROR: Const not found
"All")
	evt.SetMessage{Str = 87}         -- "There ya go!  Now return this scroll to Lord Godwinson to complete this quest.  Then he’ll know that I am more than a myth."
	evt.SetNPCTopic{NPC = 456, Index = 0, Event = 0}         -- "The Coding Wizard"
	evt.Set{"QBits", Value = 206}         -- Harmondale - Town Portal
	evt.Set{"QBits", Value = 207}         -- Erathia - Town Portal
	evt.Set{"QBits", Value = 208}         -- Tularean Forest - Town Portal
	evt.SetMonGroupBit{NPCGroup = 9, Bit = const.MonsterBits.Invisible, On = true}         -- "Group for Malwick's Assc."
	evt.ForPlayer(-- ERROR: Const not found
"Current")
	evt.Add{"Inventory", Value = 775}         -- "LG's Proof"
end

-- "Priest"
evt.global[88] = function()
	evt.SetMessage{Str = 195}         -- "[Falk gives you a grandfatherly smile] You have, perhaps, an ambition to be priests?  I can help you, if you'll help me.  There is an island south of Bracada where stands an old temple that I need to find again.  I think the pirates west of Erathia must know where the island is.  The Erathian navy is rather feeble, and hasn't been able to root them out of their hiding places amongst the Tidewater Caverns.  Perhaps the pirates have a map.  If you can bring me that map, I would promote you to Priest status immediately."
	evt.Set{"QBits", Value = 43}         -- "Find the lost pirate map in the Tidewater Caverns in Tatalia and return to Daedalus Falk on Emerald Island."
	evt.SetNPCTopic{NPC = 47, Index = 0, Event = 89}         -- "Daedalus Falk" : "Priest"
end

-- "Priest"
evt.global[89] = function()
	evt.ForPlayer(-- ERROR: Const not found
"All")
	if not evt.Cmp{"Inventory", Value = 683} then         -- "Map to Evenmorn Island"
		evt.SetMessage{Str = 197}         -- "If there is a map that says where that island is, the map would be in the Tidewater Caverns of western Erathia.  When you bring me that map, then I will be happy to promote you all to Priests."
		return
	end
	evt.SetMessage{Str = 196}         -- "The Map!  You found it!  [Falk looks at the map, and points at the island] There it is.  The island has been shrouded in mist since the Churches of the Sun and Moon began fighting over a century ago.  Keep the map--I have the coordinates now, and will have no trouble finding the place when I need to.  I am proud to declare the Clerics amongst you to be Priests, and the rest to be honorary Priests.  Thank you so much for your good work!"
	evt.ForPlayer(-- ERROR: Const not found
0)
	if evt.Cmp{"ClassIs", Value = const.Class.Cleric} then
		evt.Set{"ClassIs", Value = const.Class.Priest}
		evt.Add{"Awards", Value = 62}         -- "Promoted to Priest"
		evt.Add{"Experience", Value = 30000}
	else
		evt.Add{"Awards", Value = 63}         -- "Promoted to Honorary Priest"
		evt.Add{"Experience", Value = 15000}
	end
	evt.ForPlayer(-- ERROR: Const not found
1)
	if evt.Cmp{"ClassIs", Value = const.Class.Cleric} then
		evt.Set{"ClassIs", Value = const.Class.Priest}
		evt.Add{"Awards", Value = 62}         -- "Promoted to Priest"
		evt.Add{"Experience", Value = 30000}
	else
		evt.Add{"Awards", Value = 63}         -- "Promoted to Honorary Priest"
		evt.Add{"Experience", Value = 15000}
	end
	evt.ForPlayer(-- ERROR: Const not found
2)
	if evt.Cmp{"ClassIs", Value = const.Class.Cleric} then
		evt.Set{"ClassIs", Value = const.Class.Priest}
		evt.Add{"Awards", Value = 62}         -- "Promoted to Priest"
		evt.Add{"Experience", Value = 30000}
	else
		evt.Add{"Awards", Value = 63}         -- "Promoted to Honorary Priest"
		evt.Add{"Experience", Value = 15000}
	end
	evt.ForPlayer(-- ERROR: Const not found
3)
	if evt.Cmp{"ClassIs", Value = const.Class.Cleric} then
		evt.Set{"ClassIs", Value = const.Class.Priest}
		evt.Add{"Awards", Value = 62}         -- "Promoted to Priest"
		evt.Add{"Experience", Value = 30000}
	else
		evt.Add{"Awards", Value = 63}         -- "Promoted to Honorary Priest"
		evt.Add{"Experience", Value = 15000}
	end
	evt.Subtract{"QBits", Value = 43}         -- "Find the lost pirate map in the Tidewater Caverns in Tatalia and return to Daedalus Falk on Emerald Island."
	evt.Add{"Gold", Value = 5000}
	evt.Subtract{"Reputation", Value = 5}
	evt.ForPlayer(-- ERROR: Const not found
"All")
	evt.Subtract{"Inventory", Value = 683}         -- "Map to Evenmorn Island"
	evt.Subtract{"QBits", Value = 218}         -- Map to Evenmorn - I lost it
	evt.SetNPCTopic{NPC = 47, Index = 0, Event = 90}         -- "Daedalus Falk" : "Priest of Light"
	evt.Set{"QBits", Value = 64}         -- Activate boat to area 9.  Priest promo quest
end

-- "Priest of Light"
evt.global[90] = function()
	if evt.Cmp{"QBits", Value = 100} then         -- Chose the path of Dark
		evt.SetMessage{Str = 200}         -- "How dare you insult me with your presence?  You have chosen the Path of Darkness, and have forever renounced me as your teacher.  Go now, and be consumed by your own selfish desires.  Get out of my sight!"
	else
		if evt.Cmp{"QBits", Value = 99} then         -- Chose the path of Light
			evt.SetMessage{Str = 198}         -- "Priests.  [Falk gazes warmly at you] Well it is that you have come to see the purity of the Path of Light.  Never regret your decision, and never look back.  South of Bracada is an island called Evenmorn, and upon that island are the old temples of the Sun and the Moon.  Both are inhabited by the remnants of the two religions, their once proud churches reduced to two old temples fighting for a small island.  The Church of the Sun was the founding religion for our current faith, the Path of Lights.  I propose we help them out and tip the balance in favor of the Church of the Sun.  Using the map that I sent you to find, convince a sea captain to bring you to the island.  There, bring aid and comfort to the Church of the Sun by purifying the altar in the Church of the Moon.  This will so weaken theMoon cult that the Church of the Sun will be able to overcome them in battle.  Return to me when you have done this.   "
			evt.Set{"QBits", Value = 42}         -- "Purify the Altar of Evil in the Temple of the Moon on Evenmorn Isle then return to Daedalus Falk on Emerald Island."
			evt.SetNPCTopic{NPC = 47, Index = 0, Event = 91}         -- "Daedalus Falk" : "Priest of Light"
		else
			evt.SetMessage{Str = 199}         -- "If you wish to follow the Path of Light, first you must formally choose it.  Soon you will be asked to make the choice, and the way will be clear.  Until then, I cannot be your guide."
		end
	end
end

-- "Priest of Light"
evt.global[91] = function()
	if not evt.Cmp{"QBits", Value = 62} then         -- Purified the Altar of Evil.  Priest of Light promo quest.
		evt.SetMessage{Str = 202}         -- "You must visit Evenmorn island and purify the Altar of Darkness in the Church of the Moon.  Only then can I promote you to Priests of the Light."
		return
	end
	evt.SetMessage{Str = 201}         -- "Your bravery has advanced our faith tremendously, Priests.  It's with pleasure that I can hereby promote all Priests to Priests of the Light, and all honorary Priests to Honorary Priests of the Light.  Thank you so much for your help!"
	evt.ForPlayer(-- ERROR: Const not found
0)
	if evt.Cmp{"ClassIs", Value = const.Class.Priest} then
		evt.Set{"ClassIs", Value = const.Class.PriestLight}
		evt.Add{"Awards", Value = 64}         -- "Promoted to Priest of the Light"
		evt.Add{"Experience", Value = 80000}
	else
		evt.Add{"Awards", Value = 65}         -- "Promoted to Honorary Priest of the Light"
		evt.Add{"Experience", Value = 40000}
	end
	evt.ForPlayer(-- ERROR: Const not found
1)
	if evt.Cmp{"ClassIs", Value = const.Class.Priest} then
		evt.Set{"ClassIs", Value = const.Class.PriestLight}
		evt.Add{"Awards", Value = 64}         -- "Promoted to Priest of the Light"
		evt.Add{"Experience", Value = 80000}
	else
		evt.Add{"Awards", Value = 65}         -- "Promoted to Honorary Priest of the Light"
		evt.Add{"Experience", Value = 40000}
	end
	evt.ForPlayer(-- ERROR: Const not found
2)
	if evt.Cmp{"ClassIs", Value = const.Class.Priest} then
		evt.Set{"ClassIs", Value = const.Class.PriestLight}
		evt.Add{"Awards", Value = 64}         -- "Promoted to Priest of the Light"
		evt.Add{"Experience", Value = 80000}
	else
		evt.Add{"Awards", Value = 65}         -- "Promoted to Honorary Priest of the Light"
		evt.Add{"Experience", Value = 40000}
	end
	evt.ForPlayer(-- ERROR: Const not found
3)
	if evt.Cmp{"ClassIs", Value = const.Class.Priest} then
		evt.Set{"ClassIs", Value = const.Class.PriestLight}
		evt.Add{"Awards", Value = 64}         -- "Promoted to Priest of the Light"
		evt.Add{"Experience", Value = 80000}
	else
		evt.Add{"Awards", Value = 65}         -- "Promoted to Honorary Priest of the Light"
		evt.Add{"Experience", Value = 40000}
	end
	evt.Subtract{"QBits", Value = 42}         -- "Purify the Altar of Evil in the Temple of the Moon on Evenmorn Isle then return to Daedalus Falk on Emerald Island."
	evt.Add{"Gold", Value = 10000}
	evt.Subtract{"Reputation", Value = 10}
	evt.ForPlayer(-- ERROR: Const not found
"All")
	evt.SetNPCTopic{NPC = 47, Index = 0, Event = 0}         -- "Daedalus Falk"
	evt.SetNPCGreeting{NPC = 47, Greeting = 75}         -- "Daedalus Falk" : "Shadow Conceal, Brethren.  My time is always yours."
end

-- "Wizard"
evt.global[92] = function()
	evt.SetMessage{Str = 203}         --[[ "I am indeed the one to speak to if you wish to become Wizards.  Every student of mine must complete a project before I name them Wizards.  This year's project is to build a golem.  There are spare parts scattered about the lands from here to Avlee.  You'll need all four limbs plus the torso and the head.  Pay special attention to where you get the head--one of my students made a mistake while making a head last summer and gave the defective head away as a joke.  

When you have all the parts, come talk to me.  I'll promote you to Wizards then, and I'll animate your Golem.  Well, on your way, and have fun!" ]]
	evt.Set{"QBits", Value = 45}         -- "Collect the six golem pieces and construct a complete golem, then return to Thomas Grey in the School of Sorcery."
	evt.Set{"NPCs", Value = 56}         -- "Golem"
	evt.SetNPCTopic{NPC = 48, Index = 0, Event = 93}         -- "Thomas Grey" : "Wizard"
end

-- "Wizard"
evt.global[93] = function()
	if not evt.Cmp{"QBits", Value = 74} then         -- Finished constructing Golem with normal head
		if not evt.Cmp{"QBits", Value = 73} then         -- Finished constructing Golem with Abbey normal head
			evt.SetMessage{Str = 205}         -- "You have to have all the parts together and properly assembled for me to animate it, students!  I can't animate incomplete golems."
			return
		end
	end
	evt.SetMessage{Str = 204}         -- "[You proudly display your assembled golem to Master Grey, and he nods approvingly] Well done.  Head looks alright, but you can never be sure…Well, good work!  Clearly, you qualify for Wizard status.  All Sorcerers amongst you are now Wizards, and all non Sorcerers are now honorary Wizards!  [Master Grey spends awhile casting the spell that animates your golem] He's all yours!  Take him back to your castle and put him where you want.  He'll attack intruders relentlessly.  "
	evt.ForPlayer(-- ERROR: Const not found
0)
	if evt.Cmp{"ClassIs", Value = const.Class.Sorcerer} then
		evt.Set{"ClassIs", Value = const.Class.Wizard}
		evt.Add{"Awards", Value = 74}         -- "Promoted to Wizard"
		evt.Add{"Experience", Value = 30000}
	else
		evt.Add{"Awards", Value = 75}         -- "Promoted to Honorary Wizard"
		evt.Add{"Experience", Value = 15000}
	end
	evt.ForPlayer(-- ERROR: Const not found
1)
	if evt.Cmp{"ClassIs", Value = const.Class.Sorcerer} then
		evt.Set{"ClassIs", Value = const.Class.Wizard}
		evt.Add{"Awards", Value = 74}         -- "Promoted to Wizard"
		evt.Add{"Experience", Value = 30000}
	else
		evt.Add{"Awards", Value = 75}         -- "Promoted to Honorary Wizard"
		evt.Add{"Experience", Value = 15000}
	end
	evt.ForPlayer(-- ERROR: Const not found
2)
	if evt.Cmp{"ClassIs", Value = const.Class.Sorcerer} then
		evt.Set{"ClassIs", Value = const.Class.Wizard}
		evt.Add{"Awards", Value = 74}         -- "Promoted to Wizard"
		evt.Add{"Experience", Value = 30000}
	else
		evt.Add{"Awards", Value = 75}         -- "Promoted to Honorary Wizard"
		evt.Add{"Experience", Value = 15000}
	end
	evt.ForPlayer(-- ERROR: Const not found
3)
	if evt.Cmp{"ClassIs", Value = const.Class.Sorcerer} then
		evt.Set{"ClassIs", Value = const.Class.Wizard}
		evt.Add{"Awards", Value = 74}         -- "Promoted to Wizard"
		evt.Add{"Experience", Value = 30000}
	else
		evt.Add{"Awards", Value = 75}         -- "Promoted to Honorary Wizard"
		evt.Add{"Experience", Value = 15000}
	end
	evt.Subtract{"QBits", Value = 45}         -- "Collect the six golem pieces and construct a complete golem, then return to Thomas Grey in the School of Sorcery."
	evt.ForPlayer(-- ERROR: Const not found
"All")
	evt.SetNPCTopic{NPC = 48, Index = 0, Event = 94}         -- "Thomas Grey" : "Archmage"
	evt.SetNPCGreeting{NPC = 56, Greeting = 84}         -- "Golem" : "I am yours to command, master."
	evt.Set{"QBits", Value = 46}         -- Player Castle.  Golem should appear in castle bit.
	evt.Subtract{"QBits", Value = 219}         -- Golem Head - I lost it
	evt.Subtract{"QBits", Value = 220}         -- Abby normal head - I lost it
end

-- "Archmage"
evt.global[94] = function()
	if evt.Cmp{"QBits", Value = 99} then         -- Chose the path of Light
		evt.SetMessage{Str = 18}         --[[ "Our Diviners have been unable to discover who, or what, caused the unmaking of the Town Portal spell, but they have located the book that was used to accomplish this dastardly deed.  It’s called the Book of UnMakings.  The book was  kept under guard in the Strange Temple here in the Bracada.  However, several years ago, the temple was swallowed up by a terrible tremor that shook the Bracada, and the book went down with it.  This temple is now buried deep within the depths of the land, with no known entrance from the surface.

However, after consulting with Torrent, the Grandmaster of Water Migicks, we have been able to open an astral tunnel into the temple and link it to the Home Portal here in Bracada.  The tunnel is not too stable, and we aren’t sure how long we can keep it open.

If you desire this promotion, you must enter the tunnel, find the Book of UnMakings, and return it to me.  But you must go NOW.  We cannot afford to wait even an hour, lest the tunnel close." ]]
		evt.Set{"QBits", Value = 47}         -- "Recover the Book of Unmakings from the Strange Temple and return it to Thomas Grey in the School of Sorcery."
		evt.SetNPCTopic{NPC = 48, Index = 0, Event = 95}         -- "Thomas Grey" : "We've retrieved the Book of UnMakings!"
	else
		if evt.Cmp{"QBits", Value = 100} then         -- Chose the path of Dark
			evt.SetMessage{Str = 208}         -- "You've chosen Darkness, my students.  I will teach you no more."
		else
			evt.SetMessage{Str = 207}         -- "Archmage training is reserved only for people dedicated to the Path of Light.  Prove to me you have chosen the right way, and I will be proud to be your teacher."
		end
	end
end

-- "We've retrieved the Book of UnMakings!"
evt.global[95] = function()
	evt.ForPlayer(-- ERROR: Const not found
"All")
	if not evt.Cmp{"Inventory", Value = 499} then         -- "Book of UnMakings"
		evt.SetMessage{Str = 20}         --[[ "“The portal has collapsed!  Had you but heeded my words there would have been a chance to recover the Book of UnMakings.  But your hesitation has lost the book forever.

Get out of my sight.  You don’t have what it takes for this advancement."" ]]
		evt.SetNPCTopic{NPC = 48, Index = 0, Event = 0}         -- "Thomas Grey"
		evt.Subtract{"QBits", Value = 47}         -- "Recover the Book of Unmakings from the Strange Temple and return it to Thomas Grey in the School of Sorcery."
		return
	end
	evt.SetMessage{Str = 210}         --[[ "The Book of UnMakings!  Good work at recovering this book!  Now we can undo its work and remake the Town Portal spell!

Have you discovered who, or what, performed this dastardly deed of unMaking?  [You recount the encounter with the Golems, the Angels, and the Devils]    Devils, you say?  And they were in-league with the Golems and the Angels?!  This is not good ... not good at all!!!  But who, or what, could have engineered such a twisted coalition?

I sense that we haven’t unveiled the real source for this unnatural corruption.  I will consult our Diviners to see if they can unlock this mystery.  As for your party, you have done well and have earned your promotion.  Congratulations! " ]]
	evt.ForPlayer(-- ERROR: Const not found
0)
	if evt.Cmp{"ClassIs", Value = const.Class.Wizard} then
		evt.Set{"ClassIs", Value = const.Class.ArchMage}
		evt.Add{"Awards", Value = 76}         -- "Promoted to Archmage"
		evt.Add{"Experience", Value = 80000}
	else
		evt.Add{"Awards", Value = 77}         -- "Promoted to Honorary Archmage"
		evt.Add{"Experience", Value = 40000}
	end
	evt.ForPlayer(-- ERROR: Const not found
1)
	if evt.Cmp{"ClassIs", Value = const.Class.Wizard} then
		evt.Set{"ClassIs", Value = const.Class.ArchMage}
		evt.Add{"Awards", Value = 76}         -- "Promoted to Archmage"
		evt.Add{"Experience", Value = 80000}
	else
		evt.Add{"Awards", Value = 77}         -- "Promoted to Honorary Archmage"
		evt.Add{"Experience", Value = 40000}
	end
	evt.ForPlayer(-- ERROR: Const not found
2)
	if evt.Cmp{"ClassIs", Value = const.Class.Wizard} then
		evt.Set{"ClassIs", Value = const.Class.ArchMage}
		evt.Add{"Awards", Value = 76}         -- "Promoted to Archmage"
		evt.Add{"Experience", Value = 80000}
	else
		evt.Add{"Awards", Value = 77}         -- "Promoted to Honorary Archmage"
		evt.Add{"Experience", Value = 40000}
	end
	evt.ForPlayer(-- ERROR: Const not found
3)
	if evt.Cmp{"ClassIs", Value = const.Class.Wizard} then
		evt.Set{"ClassIs", Value = const.Class.ArchMage}
		evt.Add{"Awards", Value = 76}         -- "Promoted to Archmage"
		evt.Add{"Experience", Value = 80000}
	else
		evt.Add{"Awards", Value = 77}         -- "Promoted to Honorary Archmage"
		evt.Add{"Experience", Value = 40000}
	end
	evt.Subtract{"QBits", Value = 47}         -- "Recover the Book of Unmakings from the Strange Temple and return it to Thomas Grey in the School of Sorcery."
	evt.Subtract{"QBits", Value = 226}         -- Book of Divine Intervention - I lost it
	evt.Add{"Gold", Value = 10000}
	evt.ForPlayer(-- ERROR: Const not found
"All")
	evt.SetNPCTopic{NPC = 48, Index = 0, Event = 0}         -- "Thomas Grey"
	evt.SetNPCGreeting{NPC = 48, Greeting = 77}         -- "Thomas Grey" : "I am honored to be graced with your presence, my lords."
	evt.Set{"QBits", Value = 206}         -- Harmondale - Town Portal
	evt.Set{"QBits", Value = 207}         -- Erathia - Town Portal
	evt.Set{"QBits", Value = 208}         -- Tularean Forest - Town Portal
	evt.Subtract{"Inventory", Value = 499}         -- "Book of UnMakings"
	evt.SetNPCTopic{NPC = 93, Index = 1, Event = 0}         -- "Tarin Withern"
end

-- "Coding Wizard Quest"
evt.global[96] = function()
	evt.ForPlayer(-- ERROR: Const not found
"All")
	if evt.Cmp{"Inventory", Value = 775} then         -- "LG's Proof"
		evt.SetMessage{Str = 88}         --[[ "What’s this? [You proudly hand the scroll to Lord Godwinson].  A message for me written in the hand of the legendary Coding Wizard!?  I just **knew** that I was right!  He does exist!  Thank you soooo much for this scroll!

Here, take this reward of 50 Skill Points for each party member.  It should help you in upgrading your new skills!

Now tell me all about your adventure!" ]]
		evt.Subtract{"Inventory", Value = 775}         -- "LG's Proof"
		evt.Add{"SkillPoints", Value = 50}
		evt.Subtract{"QBits", Value = 353}         -- "Bring proof of the Coding Wizard's existence to Lord Godwinson."
		evt.Set{"Awards", Value = 8}         -- "Completed Coding Wizard Quest"
		evt.SetNPCTopic{NPC = 460, Index = 0, Event = 0}         -- "Lord Godwinson"
		evt.Subtract{"NPCs", Value = 18}         -- "Lord Godwinson"
		evt.MoveNPC{NPC = 460, HouseId = 470}         -- "Lord Godwinson" -> "Godwinson Estate"
	else
		if evt.Cmp{"QBits", Value = 353} then         -- "Bring proof of the Coding Wizard's existence to Lord Godwinson."
			evt.SetMessage{Str = 89}         -- "Bring me proof that the Coding Wizard is more than just a myth."
		else
			evt.SetMessage{Str = 67}         --[[ "Erathian folklore mentions a mysterious ‘coding wizard’ named ‘BDJ’. The legend says he has mastered the ‘coding magicks’ that control ‘The Game’. As the story goes, he is able to offer a second character class to those who have already mastered their chosen profession.

I spent much of my youth in search of this wizard, but alas, I was never able to find him.  Maybe he’s just a myth to entice the Young into the world of adventuring; maybe not.  For my peace of mind, I’ve got to know if he is more than a myth.  If you can find this wizard and return to me with proof of his existence, I will reward you handsomely.

I have a dear friend, the Lady Kathryn, who may be able to assist you with this quest.  She resides on Evenmorn Island.  Seek her out and heed her advise.

Good luck, adventurers!" ]]
			evt.Set{"QBits", Value = 353}         -- "Bring proof of the Coding Wizard's existence to Lord Godwinson."
			evt.MoveNPC{NPC = 457, HouseId = 115}         -- "Lady K" -> "The Laughing Monk"
			evt.SetNPCTopic{NPC = 457, Index = 0, Event = 97}         -- "Lady K" : "Lord Godwinson sent us!"
		end
	end
end

-- "Lord Godwinson sent us!"
evt.global[97] = function()
	evt.SetMessage{Str = 68}         --[[ "Ah, my old friend Lord Godwinson!  I trust that he is doing well?

So you’ve decided to take the journey to find BDJ the Coding Wizard?  He’s a strange one, that Wizard.  A mysterious legend in Erathia who, above all, covets his privacy and guards his secrets closely.  But if you can find him, the rewards are worth the journey!

I do know this.  To reach this wizard you must first run The Gauntlet.  The Lector EAO is the foremost authority on this ‘gauntlet’.  She travels quite a bit, but she does return to her home in Erathia each Summer.  Seek her out.  She may be able to assist you on your journey." ]]
	evt.Set{"QBits", Value = 354}         -- 0
	evt.SetNPCTopic{NPC = 457, Index = 0, Event = 0}         -- "Lady K"
end

-- "Great Druid"
evt.global[98] = function()
	evt.SetMessage{Str = 217}         -- "Advancement as a Druid is simple.  You must visit the three ancient temples to nature we erected centuries ago and pray at their centers.  They are in Tatalia, Evenmorn Isle, and Avlee, and look like circles of stone with an altar of water in their centers.  Where exactly I will not say, but exploring the land about them is part of the process.  When you have visited all three Circles, return to me to detail your experience."
	evt.Set{"QBits", Value = 49}         -- "Visit the three stonehenge monoliths in Tatalia, the Evenmorn Islands, and Avlee, then return to Anthony Green in the Tularean Forest."
	evt.SetNPCTopic{NPC = 50, Index = 0, Event = 99}         -- "Anthony Green" : "Great Druid"
end

-- "Great Druid"
evt.global[99] = function()
	if evt.Cmp{"QBits", Value = 50} then         -- Visited all stonehenges
		evt.SetMessage{Str = 220}         -- "I have only to look into your eyes to see where you've been.  You have seen the circles, and they have left their imprint upon you.  Telling you that all Druids amongst you are now Great Druids is but a formality.  Telling the rest of you that you're now honorary Druids is showing you respect for the respect you have shown me and my faith.  "
		evt.ForPlayer(-- ERROR: Const not found
0)
		if evt.Cmp{"ClassIs", Value = const.Class.Druid} then
			evt.Set{"ClassIs", Value = const.Class.GreatDruid}
			evt.Add{"Awards", Value = 68}         -- "Promoted to Great Druid"
			evt.Add{"Experience", Value = 30000}
		else
			evt.Add{"Awards", Value = 69}         -- "Promoted to Honorary Great Druid"
			evt.Add{"Experience", Value = 15000}
		end
		goto _17
	end
	if not evt.Cmp{"QBits", Value = 51} then         -- Visited stonehenge 1 (area 9)
		if not evt.Cmp{"QBits", Value = 52} then         -- Visited stonehenge 2 (area 13)
			if not evt.Cmp{"QBits", Value = 53} then         -- Visited stonehenge 3 (area 14)
				evt.SetMessage{Str = 218}         -- "Visit the Circles, then return to me.  That is the process.  "
				return
			end
		end
	end
	evt.SetMessage{Str = 219}         -- "You've found a circle!  Very good, but you must find all three before you will be ready for promotion.  Remember, circles three, then return to me."
	do return end
::_17::
	evt.ForPlayer(-- ERROR: Const not found
1)
	if evt.Cmp{"ClassIs", Value = const.Class.Druid} then
		evt.Set{"ClassIs", Value = const.Class.GreatDruid}
		evt.Add{"Awards", Value = 68}         -- "Promoted to Great Druid"
		evt.Add{"Experience", Value = 30000}
	else
		evt.Add{"Awards", Value = 69}         -- "Promoted to Honorary Great Druid"
		evt.Add{"Experience", Value = 15000}
	end
	evt.ForPlayer(-- ERROR: Const not found
2)
	if evt.Cmp{"ClassIs", Value = const.Class.Druid} then
		evt.Set{"ClassIs", Value = const.Class.GreatDruid}
		evt.Add{"Awards", Value = 68}         -- "Promoted to Great Druid"
		evt.Add{"Experience", Value = 30000}
	else
		evt.Add{"Awards", Value = 69}         -- "Promoted to Honorary Great Druid"
		evt.Add{"Experience", Value = 15000}
	end
	evt.ForPlayer(-- ERROR: Const not found
3)
	if evt.Cmp{"ClassIs", Value = const.Class.Druid} then
		evt.Set{"ClassIs", Value = const.Class.GreatDruid}
		evt.Add{"Awards", Value = 68}         -- "Promoted to Great Druid"
		evt.Add{"Experience", Value = 30000}
	else
		evt.Add{"Awards", Value = 69}         -- "Promoted to Honorary Great Druid"
		evt.Add{"Experience", Value = 15000}
	end
	evt.Subtract{"QBits", Value = 49}         -- "Visit the three stonehenge monoliths in Tatalia, the Evenmorn Islands, and Avlee, then return to Anthony Green in the Tularean Forest."
	evt.Subtract{"Reputation", Value = 5}
	evt.ForPlayer(-- ERROR: Const not found
"All")
	evt.SetNPCTopic{NPC = 50, Index = 0, Event = 100}         -- "Anthony Green" : "Arch Druid"
end

-- "Arch Druid"
evt.global[100] = function()
	if evt.Cmp{"QBits", Value = 99} then         -- Chose the path of Light
		evt.SetMessage{Str = 221}         --[[ "To be named an Arch Druid, you must serve the land.  I know of a service you could perform.  In the land above Stone City, where the Dwarves bury their dead, is the barrow of King Zokarr IV.  He died fighting in defense of Stone City during the invasion of Erathia by Nighon.  His remains were never recovered and still lie in those tunnels.    

Retrieve his bones and place them in his coffin in his barrow.  When you have done this, the King will rest, and so will the land.  Return to me when you've performed this service, and I will perform the Ceremony of Ascension and name you Arch Druids." ]]
		evt.Set{"QBits", Value = 54}         -- "Retrieve the bones of the Dwarf King from the tunnels between Stone City and Nighon and place them in their proper resting place in the Barrow Downs, then return to Anthony Green in the Tularean Forest."
		evt.SetNPCTopic{NPC = 50, Index = 0, Event = 101}         -- "Anthony Green" : "Arch Druid"
	else
		if evt.Cmp{"QBits", Value = 100} then         -- Chose the path of Dark
			evt.SetMessage{Str = 223}         -- "Servants of Darkness, I am sorry I promoted you earlier.  I am ashamed I didn't notice the darkness in your souls until it was too late.  Leave me."
		else
			evt.SetMessage{Str = 222}         -- "I am dedicated to the service of the Light.  I will not promote you further until you are as dedicated as I.  Come back to me when you choose the Light."
		end
	end
end

-- "Arch Druid"
evt.global[101] = function()
	if not evt.Cmp{"QBits", Value = 65} then         -- Barrow downs.   Returned the bones of the Dwarf King.  Arch Druid promo quest.
		evt.SetMessage{Str = 225}         -- "The Service is not easy, but it needs to be done.  Remember, you must bring the bones of King Zokarr IV from where they lie in the tunnels between Stone City and Nighon to Zokarr's coffin in a secret dwarven barrow.  Only then can I perform the Ceremony of Ascension and promote you."
		return
	end
	evt.SetMessage{Str = 224}         --[[ "[Master Green seems beside himself with joy at your accomplishment] I felt the King's soul return to the land of the dead when you returned his bones.  The land breathed a sigh of relief--did you feel it?  

The Ceremony of Ascension is complete.  I'm happy to promote all Great Druids amongst you to Arch Druids, and all honorary Great Druids to Honorary Arch Druids.  This is a very happy day!  Your service will be remembered!" ]]
	evt.ForPlayer(-- ERROR: Const not found
0)
	if evt.Cmp{"ClassIs", Value = const.Class.GreatDruid} then
		evt.Set{"ClassIs", Value = const.Class.ArchDruid}
		evt.Add{"Awards", Value = 70}         -- "Promoted to Arch Druid"
		evt.Add{"Experience", Value = 80000}
	else
		evt.Add{"Awards", Value = 71}         -- "Promoted to Honorary Arch Druid"
		evt.Add{"Experience", Value = 40000}
	end
	evt.ForPlayer(-- ERROR: Const not found
1)
	if evt.Cmp{"ClassIs", Value = const.Class.GreatDruid} then
		evt.Set{"ClassIs", Value = const.Class.ArchDruid}
		evt.Add{"Awards", Value = 70}         -- "Promoted to Arch Druid"
		evt.Add{"Experience", Value = 80000}
	else
		evt.Add{"Awards", Value = 71}         -- "Promoted to Honorary Arch Druid"
		evt.Add{"Experience", Value = 40000}
	end
	evt.ForPlayer(-- ERROR: Const not found
2)
	if evt.Cmp{"ClassIs", Value = const.Class.GreatDruid} then
		evt.Set{"ClassIs", Value = const.Class.ArchDruid}
		evt.Add{"Awards", Value = 70}         -- "Promoted to Arch Druid"
		evt.Add{"Experience", Value = 80000}
	else
		evt.Add{"Awards", Value = 71}         -- "Promoted to Honorary Arch Druid"
		evt.Add{"Experience", Value = 40000}
	end
	evt.ForPlayer(-- ERROR: Const not found
3)
	if evt.Cmp{"ClassIs", Value = const.Class.GreatDruid} then
		evt.Set{"ClassIs", Value = const.Class.ArchDruid}
		evt.Add{"Awards", Value = 70}         -- "Promoted to Arch Druid"
		evt.Add{"Experience", Value = 80000}
	else
		evt.Add{"Awards", Value = 71}         -- "Promoted to Honorary Arch Druid"
		evt.Add{"Experience", Value = 40000}
	end
	evt.Subtract{"QBits", Value = 54}         -- "Retrieve the bones of the Dwarf King from the tunnels between Stone City and Nighon and place them in their proper resting place in the Barrow Downs, then return to Anthony Green in the Tularean Forest."
	evt.Subtract{"Reputation", Value = 10}
	evt.ForPlayer(-- ERROR: Const not found
"All")
	evt.SetNPCTopic{NPC = 50, Index = 0, Event = 0}         -- "Anthony Green"
	evt.SetNPCGreeting{NPC = 50, Greeting = 81}         -- "Anthony Green" : "Fortune be your friend, lords.  Do you seek my advice today?"
end

-- "Can you tell us about The Gauntlet?"
evt.global[102] = function()
	evt.SetMessage{Str = 69}         --[[ "The Gauntlet. Yes.  Legend has it that it was established by the recluse BDJ, commonly called the Coding Wizard, during the Second Age of Erathia, when he decided to withdraw from public life to pursue research on what he termed ‘The Game’.  The purpose of The Gauntlet is to dissuade idle curiosity seekers, indolent ‘wannabees’, and other tavern-dwellers from taking the magicks of coding for granted and unbalancing ‘The Game’.  This is in perfect harmony with the ‘TANSTAAFL!’ principle championed by Mage Emeritus R. Heinlein.

To reach this wizard, one must first ‘run The Gauntlet’, which consists of a series of ‘challenges’ in the realms of Earth, Fire, Water, and finally of Air and of Light.  The rewards of the Coding Wizard await those who emerge from these trials.

The Duchess of Deja may have information on the legendary location of The Gauntlet. Seek her out to continue your journey." ]]
	evt.SetNPCTopic{NPC = 458, Index = 0, Event = 0}         -- "EAO the Lector"
	evt.MoveNPC{NPC = 459, HouseId = 346}         -- "Duchess of Deja" -> "Duchess of Deja"
	evt.SetNPCTopic{NPC = 459, Index = 0, Event = 103}         -- "Duchess of Deja" : "Where is The Gauntlet?"
end

-- "Where is The Gauntlet?"
evt.global[103] = function()
	evt.ForPlayer(-- ERROR: Const not found
"All")
	if evt.Cmp{"QBits", Value = 355} then         -- "Bring a Red Delicious Apple to the Duchess of Deja."
		goto _4
	end
::_2::
	evt.Subtract{"Inventory", Value = 630}         -- "Red Delicious Apple"
	if evt.Cmp{"Inventory", Value = 630} then         -- "Red Delicious Apple"
		goto _2
	end
::_4::
	if evt.Cmp{"Inventory", Value = 630} then         -- "Red Delicious Apple"
		evt.SetMessage{Str = 70}         --[[ "The Apple!  Oh this is soooo delicious! [The duchess takes a large byte out of the apple and begins to chew]  Ummmm.  I have waited sooo long for this treat.  Thank you!  Now to my part of our bargain.

Unfortunately, no one knows exactly **where** The Gauntlet is located.  Some scholars believe that it has been created in the vast expanse of the Coding Void surrounded by the Null of Darkness.  Others believe that it is hidden in plain sight, cloaked in the Great Expanse of the Exclusive OR. Pure speculation if you ask me.

However, I do know **how** you can enter The Gauntlet.  You simply need to pray at the proper altar.  All you need to do is to find this alter.

Good Luck!" ]]
		evt.Subtract{"Inventory", Value = 630}         -- "Red Delicious Apple"
		evt.Subtract{"QBits", Value = 355}         -- "Bring a Red Delicious Apple to the Duchess of Deja."
		evt.Set{"QBits", Value = 356}         -- 0
		evt.SetNPCTopic{NPC = 459, Index = 0, Event = 0}         -- "Duchess of Deja"
	else
		evt.SetMessage{Str = 90}         --[[ "So you want to know the location of the legendary ‘Gauntlet’ leading to the Coding Wizard?  Perhaps I can help.  But you must first do something for me.

As you can see, Deja is not exactly the Land of Milk and Honey.  I have a terrible hunger for a fresh Red Delicious Apple from the forests in Tulerea.  Bring one of these apples to me, and then we’ll talk."" ]]
		evt.Set{"QBits", Value = 355}         -- "Bring a Red Delicious Apple to the Duchess of Deja."
	end
end

-- "Golem Parts"
evt.global[104] = function()
	evt.ForPlayer(-- ERROR: Const not found
"All")
	if not evt.Cmp{"QBits", Value = 66} then         -- Placed Golem torso
		if evt.Cmp{"Inventory", Value = 639} then         -- "Golem chest"
			evt.Add{"QBits", Value = 66}         -- Placed Golem torso
			evt.Subtract{"Inventory", Value = 639}         -- "Golem chest"
			evt.Subtract{"QBits", Value = 225}         -- Torso - I lost it
			evt.SetMessage{Str = 232}         -- "You prepare the torso for assembly with the rest of the parts."
			return
		end
	end
	if not evt.Cmp{"QBits", Value = 67} then         -- Placed Golem left leg
		if evt.Cmp{"Inventory", Value = 642} then         -- "Golem left leg"
			evt.Subtract{"Inventory", Value = 642}         -- "Golem left leg"
			evt.Subtract{"QBits", Value = 224}         -- Left leg - I lost it
			evt.Add{"QBits", Value = 67}         -- Placed Golem left leg
			evt.SetMessage{Str = 233}         -- "You prepare the left leg for assembly with the rest of the parts."
			return
		end
	end
	if not evt.Cmp{"QBits", Value = 68} then         -- Placed Golem right leg
		if evt.Cmp{"Inventory", Value = 643} then         -- "Golem right leg"
			evt.SetMessage{Str = 234}         -- "You prepare the right leg for assembly with the rest of the parts."
			evt.Subtract{"Inventory", Value = 643}         -- "Golem right leg"
			evt.Subtract{"QBits", Value = 223}         -- Right leg - I lost it
			evt.Add{"QBits", Value = 68}         -- Placed Golem right leg
			return
		end
	end
	if not evt.Cmp{"QBits", Value = 69} then         -- Placed Golem left arm
		if evt.Cmp{"Inventory", Value = 645} then         -- "Golem left arm"
			evt.SetMessage{Str = 235}         -- "You prepare the left arm for assembly with the rest of the parts."
			evt.Subtract{"Inventory", Value = 645}         -- "Golem left arm"
			evt.Subtract{"QBits", Value = 222}         -- Left arm - I lost it
			evt.Add{"QBits", Value = 69}         -- Placed Golem left arm
			return
		end
	end
	if not evt.Cmp{"QBits", Value = 70} then         -- Placed Golem left leg
		if evt.Cmp{"Inventory", Value = 644} then         -- "Golem right arm"
			evt.SetMessage{Str = 236}         -- "You prepare the right arm for assembly with the rest of the parts."
			evt.Subtract{"Inventory", Value = 644}         -- "Golem right arm"
			evt.Subtract{"QBits", Value = 221}         -- Right arm - I lost it
			evt.Add{"QBits", Value = 70}         -- Placed Golem left leg
			return
		end
	end
	if evt.Cmp{"QBits", Value = 71} then         -- Placed Golem head
		goto _71
	end
	if evt.Cmp{"QBits", Value = 72} then         -- Placed Golem Abbey normal head
		goto _71
	end
	if evt.Cmp{"Inventory", Value = 641} then         -- "Golem head"
		evt.SetMessage{Str = 237}         -- "You prepare the head for assembly with the rest of the parts."
		evt.Subtract{"Inventory", Value = 641}         -- "Golem head"
		evt.Subtract{"QBits", Value = 219}         -- Golem Head - I lost it
		evt.Add{"QBits", Value = 71}         -- Placed Golem head
		return
	end
	if evt.Cmp{"QBits", Value = 71} then         -- Placed Golem head
		goto _71
	end
	if evt.Cmp{"QBits", Value = 72} then         -- Placed Golem Abbey normal head
		goto _71
	end
	if evt.Cmp{"Inventory", Value = 640} then         -- "Abbey Normal Golem Head"
		evt.SetMessage{Str = 238}         -- "You prepare the head (with a dent in it) for assembly with the rest of the parts."
		evt.Subtract{"Inventory", Value = 640}         -- "Abbey Normal Golem Head"
		evt.Subtract{"QBits", Value = 220}         -- Abby normal head - I lost it
		evt.Add{"QBits", Value = 72}         -- Placed Golem Abbey normal head
		return
	end
::_92::
	evt.SetMessage{Str = 239}         -- "You have no parts to assemble yet."
	do return end
::_71::
	if evt.Cmp{"QBits", Value = 66} then         -- Placed Golem torso
		if evt.Cmp{"QBits", Value = 67} then         -- Placed Golem left leg
			if evt.Cmp{"QBits", Value = 68} then         -- Placed Golem right leg
				if evt.Cmp{"QBits", Value = 69} then         -- Placed Golem left arm
					if evt.Cmp{"QBits", Value = 70} then         -- Placed Golem left leg
						if evt.Cmp{"QBits", Value = 71} then         -- Placed Golem head
							evt.Add{"QBits", Value = 74}         -- Finished constructing Golem with normal head
							evt.SetMessage{Str = 240}         -- "You have all the parts together!  Now you just have to return to Master Grey for the animation process."
							evt.SetNPCTopic{NPC = 56, Index = 1, Event = 0}         -- "Golem"
							return
						end
						if evt.Cmp{"QBits", Value = 72} then         -- Placed Golem Abbey normal head
							evt.Add{"QBits", Value = 73}         -- Finished constructing Golem with Abbey normal head
							evt.SetMessage{Str = 240}         -- "You have all the parts together!  Now you just have to return to Master Grey for the animation process."
							evt.SetNPCTopic{NPC = 56, Index = 1, Event = 0}         -- "Golem"
							return
						end
					end
				end
			end
		end
	end
	goto _92
end

evt.CanShowTopic[104] = function()
	local result
	if not evt.Cmp{"QBits", Value = 73} then         -- Finished constructing Golem with Abbey normal head
		result = not evt.Cmp{"QBits", Value = 74}         -- Finished constructing Golem with normal head
	end
	return false
end

-- "Swap Heads"
evt.global[105] = function()
	evt.ForPlayer(-- ERROR: Const not found
"All")
	if evt.Cmp{"Inventory", Value = 640} then         -- "Abbey Normal Golem Head"
		evt.Subtract{"Inventory", Value = 640}         -- "Abbey Normal Golem Head"
		evt.Subtract{"QBits", Value = 220}         -- Abby normal head - I lost it
		evt.ForPlayer(-- ERROR: Const not found
"Current")
		evt.Add{"Inventory", Value = 641}         -- "Golem head"
		evt.Add{"QBits", Value = 219}         -- Golem Head - I lost it
		evt.Subtract{"QBits", Value = 71}         -- Placed Golem head
		evt.Add{"QBits", Value = 72}         -- Placed Golem Abbey normal head
		evt.SetMessage{Str = 241}         -- "You remove the normal head and replace it with the dented head."
	else
		if evt.Cmp{"Inventory", Value = 641} then         -- "Golem head"
			evt.Subtract{"Inventory", Value = 641}         -- "Golem head"
			evt.Subtract{"QBits", Value = 219}         -- Golem Head - I lost it
			evt.ForPlayer(-- ERROR: Const not found
"Current")
			evt.Add{"Inventory", Value = 640}         -- "Abbey Normal Golem Head"
			evt.Add{"QBits", Value = 220}         -- Abby normal head - I lost it
			evt.Subtract{"QBits", Value = 72}         -- Placed Golem Abbey normal head
			evt.Add{"QBits", Value = 71}         -- Placed Golem head
			evt.SetMessage{Str = 242}         -- "You remove the dented head and replace it with the normal head."
		else
			evt.SetMessage{Str = 243}         -- "I fear that talking will fail with these ruffians, my lords.  May I suggest violence?"
		end
	end
end

evt.CanShowTopic[105] = function()
	local result
	if evt.Cmp{"QBits", Value = 71} then         -- Placed Golem head
		result = evt.Cmp{"Inventory", Value = 640}         -- "Abbey Normal Golem Head"
	else
		if not evt.Cmp{"QBits", Value = 72} then         -- Placed Golem Abbey normal head
			result = false
		else
			return evt.Cmp{"Inventory", Value = 641}         -- "Golem head"
		end
	end
end

-- "Castle Harmondale"
evt.global[106] = function()
	evt.SetMessage{Str = 243}         -- "I fear that talking will fail with these ruffians, my lords.  May I suggest violence?"
	evt.SetNPCTopic{NPC = 58, Index = 0, Event = 121}         -- "Butler" : "Castle Harmondale"
	evt.MoveNPC{NPC = 58, HouseId = 108}         -- "Butler" -> "On the House"
end

-- "Rescue Dwarves"
evt.global[107] = function()
	evt.SetMessage{Str = 246}         --[[ "So…The new lords of Harmondale I have before me.  Not impressed.  Doubt other kings think much of you either.  Hrmph.  Probably get yourselves killed soon.  But maybe there's more than meets the eye here.  Yes.  Maybe you can do something for me, and I for you.  Medusas have taken my mines in eastern Bracada.  Turned a few of my people to stone.  Dangerous monsters, don't want to lose more lives on a rescue.  Ok to lose yours though.  

Take this elixir and pour it on the statues.  Wake them up.  Then I will fix up your castle.  Give you respect.  Go now, and beware the griffins in Bracada.  " ]]
	evt.Set{"QBits", Value = 76}         -- "Rescue the dwarves from the Red Dwarf Mines and return to the Dwarf King in Stone City in the Barrow Downs."
	evt.Subtract{"QBits", Value = 146}         -- "Talk to the Dwarves in Stone City in the Barrow Downs to find a way to repair Castle Harmondale."
	evt.Add{"Inventory", Value = 629}         -- "Elixir"
	evt.Add{"QBits", Value = 230}         -- Elixir - I lost it
	evt.SetNPCTopic{NPC = 59, Index = 0, Event = 108}         -- "Hothfarr IX" : "Rescue Dwarves"
end

-- "Rescue Dwarves"
evt.global[108] = function()
	if evt.Cmp{"NPCs", Value = 60} then         -- "Drathen Keldin"
		if evt.Cmp{"NPCs", Value = 61} then         -- "Jaycen Keldin"
			if evt.Cmp{"NPCs", Value = 62} then         -- "Yarrow Keldin"
				if evt.Cmp{"NPCs", Value = 63} then         -- "Fausil Keldin"
					if evt.Cmp{"NPCs", Value = 64} then         -- "Red Keldin"
						if evt.Cmp{"NPCs", Value = 65} then         -- "Thom Keldin"
							if evt.Cmp{"NPCs", Value = 66} then         -- "Arvin Keldin"
								evt.SetMessage{Str = 247}         --[[ "Welcome back, Lords of Harmondale!  Now, I will help you.  My engineer will work for you.  Fix up your castle.  You have my thanks.  You are welcome here forever..  

Oh, and before I forget .. take this teleportal key to Emerald Island.  Don't know where you can use it, but you might find it helpful in the future. Perhaps you should see Illene Farswell in Harmondale.  She may know where you can use this key. 

Hmmph.  One more thing.  Your work has interested the other courts.  They will send ambassadors to you now--check your throne room.  Watch your back, my friends." ]]
								evt.Add{"History4", Value = 0}
								evt.Add{"Gold", Value = 5000}
								evt.Subtract{"QBits", Value = 76}         -- "Rescue the dwarves from the Red Dwarf Mines and return to the Dwarf King in Stone City in the Barrow Downs."
								evt.Subtract{"Reputation", Value = 5}
								evt.ForPlayer(-- ERROR: Const not found
"All")
								evt.Add{"Awards", Value = 5}         -- "Rescued the dwarves from the Red Dwarf Mine"
								evt.Add{"Experience", Value = 12500}
								evt.Subtract{"Inventory", Value = 629}         -- "Elixir"
								evt.Subtract{"QBits", Value = 230}         -- Elixir - I lost it
								evt.Set{"QBits", Value = 98}         -- Built Castle to Level 2 (rescued dwarf guy)
								evt.Subtract{"NPCs", Value = 60}         -- "Drathen Keldin"
								evt.MoveNPC{NPC = 60, -- ERROR: Not found
HouseId = 999}         -- "Drathen Keldin"
								evt.MoveNPC{NPC = 67, HouseId = 174}         -- "Ellen Rockway" -> "Throne Room"
								evt.MoveNPC{NPC = 68, HouseId = 174}         -- "Alain Hani" -> "Throne Room"
								evt.Subtract{"NPCs", Value = 61}         -- "Jaycen Keldin"
								evt.Subtract{"NPCs", Value = 62}         -- "Yarrow Keldin"
								evt.Subtract{"NPCs", Value = 63}         -- "Fausil Keldin"
								evt.Subtract{"NPCs", Value = 64}         -- "Red Keldin"
								evt.Subtract{"NPCs", Value = 65}         -- "Thom Keldin"
								evt.Subtract{"NPCs", Value = 66}         -- "Arvin Keldin"
								evt.SetNPCTopic{NPC = 59, Index = 0, Event = 0}         -- "Hothfarr IX"
								evt.SetNPCGreeting{NPC = 59, Greeting = 88}         -- "Hothfarr IX" : "Welcome, Harmondale!  Stone city is at your disposal."
								evt.ForPlayer(-- ERROR: Const not found
0)
								evt.Add{"Inventory", Value = 664}         -- "Emerald Is. Teleportal Key"
								return
							end
						end
					end
				end
			end
		end
	end
	evt.SetMessage{Str = 248}         -- "Back again, eh?  Your part of the bargain isn't finished.  No help 'til you're done.  "
end

-- "Use Elixir"
evt.CanShowTopic[109] = function()
	return evt.Cmp{"Inventory", Value = 674}         -- "Elixir Placeholder"
end

evt.global[109] = function()
	evt.Set{"NPCs", Value = 60}         -- "Drathen Keldin"
	evt.SetNPCGreeting{NPC = 60, Greeting = 89}         -- "Drathen Keldin" : "Thanks for rescuing me.  I am at your service."
end

-- "Use Elixir"
evt.CanShowTopic[110] = function()
	return evt.Cmp{"Inventory", Value = 674}         -- "Elixir Placeholder"
end

evt.global[110] = function()
	evt.Set{"NPCs", Value = 61}         -- "Jaycen Keldin"
	evt.SetNPCGreeting{NPC = 61, Greeting = 90}         -- "Jaycen Keldin" : "Thanks for rescuing me.  I owe you my life."
end

-- "Use Elixir"
evt.CanShowTopic[111] = function()
	return evt.Cmp{"Inventory", Value = 674}         -- "Elixir Placeholder"
end

evt.global[111] = function()
	evt.Set{"NPCs", Value = 62}         -- "Yarrow Keldin"
	evt.SetNPCGreeting{NPC = 62, Greeting = 90}         -- "Yarrow Keldin" : "Thanks for rescuing me.  I owe you my life."
end

-- "Use Elixir"
evt.CanShowTopic[112] = function()
	return evt.Cmp{"Inventory", Value = 674}         -- "Elixir Placeholder"
end

evt.global[112] = function()
	evt.Set{"NPCs", Value = 63}         -- "Fausil Keldin"
	evt.SetNPCGreeting{NPC = 63, Greeting = 90}         -- "Fausil Keldin" : "Thanks for rescuing me.  I owe you my life."
end

-- "Use Elixir"
evt.CanShowTopic[113] = function()
	return evt.Cmp{"Inventory", Value = 674}         -- "Elixir Placeholder"
end

evt.global[113] = function()
	evt.Set{"NPCs", Value = 64}         -- "Red Keldin"
	evt.SetNPCGreeting{NPC = 64, Greeting = 90}         -- "Red Keldin" : "Thanks for rescuing me.  I owe you my life."
end

-- "Use Elixir"
evt.CanShowTopic[114] = function()
	return evt.Cmp{"Inventory", Value = 674}         -- "Elixir Placeholder"
end

evt.global[114] = function()
	evt.Set{"NPCs", Value = 65}         -- "Thom Keldin"
	evt.SetNPCGreeting{NPC = 65, Greeting = 90}         -- "Thom Keldin" : "Thanks for rescuing me.  I owe you my life."
end

-- "Use Elixir"
evt.CanShowTopic[115] = function()
	return evt.Cmp{"Inventory", Value = 674}         -- "Elixir Placeholder"
end

evt.global[115] = function()
	evt.Set{"NPCs", Value = 66}         -- "Arvin Keldin"
	evt.SetNPCGreeting{NPC = 66, Greeting = 90}         -- "Arvin Keldin" : "Thanks for rescuing me.  I owe you my life."
end

-- "An invitation…"
evt.global[116] = function()
	evt.SetMessage{Str = 249}         -- "I bring greetings from Queen Catherine, the rightful ruler of all Erathia.  She has taken up residence at Gryphonheart Castle in Steadwick. She is currently involved in matters of State and cannot spare the time to grant you an audience.  If the Queen needs you, she shall summon you."
end

-- "We've received the Blessings!"
-- "Artifact"
evt.CanShowTopic[118] = function()
	return evt.Cmp{"Inventory", Value = 634}         -- "Gryphonheart's Trumpet"
end

evt.global[118] = function()
	evt.SetMessage{Str = 253}         -- "[Lady Ellen gasps in delight] You have Gryphonheart's Trumpet!  This is wonderful!  When it disappeared from the strongbox, we thought it had been stolen by the enemy!  Thank you for bringing it back to us!"
	evt.Add{"Gold", Value = 5000}
	evt.ForPlayer(-- ERROR: Const not found
"All")
	evt.Add{"Experience", Value = 10000}
	evt.Subtract{"Inventory", Value = 634}         -- "Gryphonheart's Trumpet"
	evt.Subtract{"QBits", Value = 79}         -- "Retrieve Gryphonheart's Trumpet from the battle in the Tularean Forest and return it to whichever side you choose."
	evt.Set{"QBits", Value = 84}         -- Gave artifact to humans
	evt.SetNPCTopic{NPC = 67, Index = 2, Event = 0}         -- "Ellen Rockway"
end

-- "We've received the Blessings!"
evt.global[119] = function()
	evt.ForPlayer(-- ERROR: Const not found
"All")
	if not evt.Cmp{"QBits", Value = 295} then         -- Water
		if not evt.Cmp{"QBits", Value = 296} then         -- Fire
			if not evt.Cmp{"QBits", Value = 297} then         -- Air
				if not evt.Cmp{"QBits", Value = 298} then         -- Earth
					return
				end
			end
		end
	end
	evt.SetMessage{Str = 216}         --[[ "Ok then.  Here’s your briefing.

We have recently discovered that the Strange Temple is being used as a ‘staging area’ for a group known as The Corruption. This group has joined forces with the Devil-King Xenoflex to form an unholy alliance. They are currently raising an army of Golems, Devils, Angels, and other creatures of the land, both Light and Dark.  Once at-strength, they plan on storming Erathia like a plague of locusts and seizing power throughout all lands. To make things worse, The Corruption discovered some ancient weapons and is attempting to reproduce them en-mass in order to equip their army. And at the center of this unseemly coalition is one of The Pit’s own … Judas the Geek! He has betrayed all of Erathia!!

What I need you to do is to proceed to the residence of Judas, find the hidden teleport therein, and enter the Strange Temple. Once in the temple, destroy all creatures within, retrieve the ancient weapons, and return to me. Should you encounter the traitor, terminate him … with extreme prejudice." ]]
	evt.MoveNPC{NPC = 85, HouseId = 0}         -- "Maximus"
	evt.Set{"QBits", Value = 299}         -- "Clear out the Strange Temple,  retrieve the ancient weapons, and return to Maximus in The Pit"
end

-- "An invitation…"
evt.global[120] = function()
	evt.SetMessage{Str = 256}         -- "Though Avlee is not currently in charge of Harmondale, my King, Eldrich Parson of Avlee, lays claim to this territory as our rightful domain.  The reasons are complicated, but boil down to the simple fact that Erathia stole our land in the Timber Wars many years ago, and we will not give up until we have it back.  You'd be well served to stay out of this conflict.  However, if my King needs you, he will summon you."
end

-- "Castle Harmondale"
evt.global[121] = function()
	if evt.Cmp{"QBits", Value = 135} then         -- Player castle goblins are all dead
		evt.SetMessage{Str = 244}         --[[ "Thank heavens you've cleaned them out!  Now we need to find a way to clean up the castle and rebuild the damaged sections.  The only people I can think of who would have the inclination and the ability to do this are the Dwarves in Stone City, located in the Barrow Downs to the south.  The entrance to Stone City lies in the center of the Barrow Downs on one of the largest hills.

Oh, by the way … an angel appeared to me a few hours ago.  He said that he needs to speak to the new lords of Harmondale and that he would be waiting for you inside of the castle.  If I were you, I’d talk with him before going to see the Dwarf King. " ]]
		evt.ForPlayer(-- ERROR: Const not found
"All")
		evt.Add{"Experience", Value = 5000}
		evt.Subtract{"QBits", Value = 75}         -- "Clean out Castle Harmondale and return to the Butler in the tavern, On the House, in Harmondale."
		evt.Add{"Awards", Value = 4}         -- "Cleared out Castle Harmondale"
		evt.MoveNPC{NPC = 58, HouseId = 174}         -- "Butler" -> "Throne Room"
		evt.SetNPCTopic{NPC = 58, Index = 0, Event = 0}         -- "Butler"
		evt.SetNPCGreeting{NPC = 58, Greeting = 86}         -- "Butler" : "You rang, my lords?"
		evt.Set{"QBits", Value = 146}         -- "Talk to the Dwarves in Stone City in the Barrow Downs to find a way to repair Castle Harmondale."
	else
		evt.SetMessage{Str = 243}         -- "I fear that talking will fail with these ruffians, my lords.  May I suggest violence?"
	end
end

-- "Artifact"
evt.CanShowTopic[122] = function()
	return evt.Cmp{"Inventory", Value = 634}         -- "Gryphonheart's Trumpet"
end

evt.global[122] = function()
	evt.SetMessage{Str = 260}         -- "You have Gryphonheart's Trumpet!  Excellent!  We lost track of it during the raid, and were afraid that one of the Erathians got away with it.  Thank you very much for your help!"
	evt.Add{"Gold", Value = 5000}
	evt.ForPlayer(-- ERROR: Const not found
"All")
	evt.Add{"Experience", Value = 10000}
	evt.Subtract{"Inventory", Value = 634}         -- "Gryphonheart's Trumpet"
	evt.Subtract{"QBits", Value = 79}         -- "Retrieve Gryphonheart's Trumpet from the battle in the Tularean Forest and return it to whichever side you choose."
	evt.Set{"QBits", Value = 85}         -- Gave artifact to elves
	evt.SetNPCTopic{NPC = 68, Index = 2, Event = 0}         -- "Alain Hani"
end

-- "No Thanks."
evt.global[123] = function()
	evt.ForPlayer(-- ERROR: Const not found
"All")
	if evt.Cmp{"QBits", Value = 338} then         -- BDJ Final
		evt.Subtract{"QBits", Value = 349}         -- One Use
		evt.SetNPCTopic{NPC = 456, Index = 0, Event = 87}         -- "The Coding Wizard" : "Let's Continue."
	else
		if evt.Cmp{"QBits", Value = 337} then         -- BDJ 3
			evt.Set{"QBits", Value = 338}         -- BDJ Final
			evt.SetNPCTopic{NPC = 456, Index = 0, Event = 50}         -- "The Coding Wizard" : "New Profession."
		else
			if evt.Cmp{"QBits", Value = 336} then         -- BDJ 2
				evt.Set{"QBits", Value = 337}         -- BDJ 3
				evt.SetNPCTopic{NPC = 456, Index = 0, Event = 50}         -- "The Coding Wizard" : "New Profession."
			else
				evt.Set{"QBits", Value = 336}         -- BDJ 2
				evt.SetNPCTopic{NPC = 456, Index = 0, Event = 50}         -- "The Coding Wizard" : "New Profession."
			end
		end
	end
	evt.SetNPCTopic{NPC = 456, Index = 1, Event = 0}         -- "The Coding Wizard"
	evt.SetNPCTopic{NPC = 456, Index = 2, Event = 0}         -- "The Coding Wizard"
	evt.SetNPCTopic{NPC = 456, Index = 3, Event = 0}         -- "The Coding Wizard"
	evt.SetMessage{Str = 267}         -- "Ok then.  Let's move on."
end

-- "So you're the new lords of Harmondale."
evt.global[124] = function()
	evt.SetMessage{Str = 263}         -- "[Queen Catherine inclines her head regally] You are the lot that won Lord Markham's silly contest, I see.  I must admit I had little faith until the Dwarf King recognized you as the rightful rulers of Harmondale.  You must have done something to win his respect, or he would have nothing to do with you.  I'm still not sure what he saw in you, but perhaps there really is something of substance here.  Only time will tell.  If I have a need for your services, I'll summon you.  You are dismissed."
end

-- "Bow Expert"
evt.global[125] = function()
	evt.SetMessage{Str = 341}         -- "The only teacher that I know of is the renown Zedd True Shot.  You can find him on Emerald Island.  He's also the Warrior Mage promoter. "
end

-- "Let's Go!"
evt.global[126] = function()
	evt.ForPlayer(-- ERROR: Const not found
"All")
	if evt.Cmp{"Inventory", Value = 675} then         -- "Control Cube"
		evt.SetMessage{Str = 325}         -- "Gladly, friends!"
		evt.SetMonGroupBit{NPCGroup = 6, Bit = const.MonsterBits.Invisible, On = true}         -- "Group for M1"
		evt.Set{"NPCs", Value = 34}         -- "Duke Bimbasto"
		evt.SetNPCTopic{NPC = 34, Index = 1, Event = 0}         -- "Duke Bimbasto"
	else
		evt.SetMessage{Str = 340}         -- "We cannot leave until we have the Control Cube."
	end
end

-- "Let's Go!"
evt.global[127] = function()
	evt.ForPlayer(-- ERROR: Const not found
"All")
	if evt.Cmp{"Inventory", Value = 675} then         -- "Control Cube"
		evt.SetMessage{Str = 325}         -- "Gladly, friends!"
		evt.SetMonGroupBit{NPCGroup = 7, Bit = const.MonsterBits.Invisible, On = true}         -- "Group fo M2"
		evt.Set{"NPCs", Value = 35}         -- "Sir Vilx of Stone City"
		evt.SetNPCTopic{NPC = 35, Index = 1, Event = 0}         -- "Sir Vilx of Stone City"
	else
		evt.SetMessage{Str = 340}         -- "We cannot leave until we have the Control Cube."
	end
end

-- "Congratulations!"
evt.global[128] = function()
	evt.ForPlayer(-- ERROR: Const not found
"All")
	if evt.Cmp{"QBits", Value = 99} then         -- Chose the path of Light
		evt.SetMessage{Str = 323}         --[[ "You have saved Erathia, adventurers!  From henceforth, you shall be known as ‘The Heroes of Erathia’!  You may now travel safely anywhere in The Pit without harm or molestation.  However, don’t ‘pick a fight’ with our locals or all bets are off!!

Because of your service, heroes, I hereby grant all members of your party the Ancient Weapon skill and all magic users among your party the mastery in the Dark Magic skill. You can use our promoters to advance in the ancient weapon skill.  Use your new skills wisely!

Oh! and Lord Archibald, himself, has place a reward for you in the House that once belonged to Judas.  It’s in the chest on the second floor.  You may retrieve the reward at any time.

After you have rested, return to Celeste for your next assignment."" ]]
		evt.Subtract{"QBits", Value = 299}         -- "Clear out the Strange Temple,  retrieve the ancient weapons, and return to Maximus in The Pit"
		evt.Set{"QBits", Value = 303}         -- Reward
		evt.Set{"BlasterSkill", Value = 1}
		evt.Set{"Awards", Value = 7}         -- "Declared Heroes of Erathia"
		evt.Add{"Experience", Value = 200000}
		evt.Add{"Awards", Value = 60}         -- "Joined the Dark Guild"
		evt.ForPlayer(-- ERROR: Const not found
0)
		if evt.Cmp{"FireSkill", Value = 1} then
			goto _15
		end
		if evt.Cmp{"BodySkill", Value = 1} then
			goto _15
		end
		goto _16
	end
	if not evt.Cmp{"QBits", Value = 100} then         -- Chose the path of Dark
		return
	end
	evt.SetMessage{Str = 324}         --[[ "You have saved Erathia, adventurers!  From henceforth, you shall be known as ‘The Heroes of Erathia’!  You may now travel safely anywhere in Celeste without harm or molestation.  However, don’t ‘pick a fight’ with our locals or all bets are off!!

Because of your service, heroes, I hereby grant all members of your party the Ancient Weapon skill and all magic users among your party mastery in the Light Magic skill. You can use our promoters to advance in the ancient weapon skills.  Use your new skills wisely!

Oh! and Gavin Magnus, himself, has place a reward for you in the House that once belonged to Robert the Wise.  It’s in the chest on the second floor.  You may retrieve the reward at any time.

After you have rested, return to The Pit for your next assignment." ]]
	evt.Subtract{"QBits", Value = 299}         -- "Clear out the Strange Temple,  retrieve the ancient weapons, and return to Maximus in The Pit"
	evt.Set{"QBits", Value = 303}         -- Reward
	evt.Set{"BlasterSkill", Value = 1}
	evt.Set{"Awards", Value = 7}         -- "Declared Heroes of Erathia"
	evt.Add{"Experience", Value = 200000}
	evt.Add{"Awards", Value = 59}         -- "Joined the Light Guild"
	evt.ForPlayer(-- ERROR: Const not found
0)
	if evt.Cmp{"FireSkill", Value = 1} then
		goto _57
	end
	if evt.Cmp{"BodySkill", Value = 1} then
		goto _57
	end
::_58::
	evt.ForPlayer(-- ERROR: Const not found
1)
	if evt.Cmp{"FireSkill", Value = 1} then
		goto _62
	end
	if evt.Cmp{"BodySkill", Value = 1} then
		goto _62
	end
::_63::
	evt.ForPlayer(-- ERROR: Const not found
2)
	if evt.Cmp{"FireSkill", Value = 1} then
		goto _67
	end
	if evt.Cmp{"BodySkill", Value = 1} then
		goto _67
	end
::_68::
	evt.ForPlayer(-- ERROR: Const not found
3)
	if evt.Cmp{"FireSkill", Value = 1} then
		goto _72
	end
	if evt.Cmp{"BodySkill", Value = 1} then
		goto _72
	end
::_73::
	evt.ForPlayer(-- ERROR: Const not found
"All")
	evt.MoveNPC{NPC = 80, HouseId = 422}         -- "Resurectra" -> "House Devine"
	evt.SetNPCTopic{NPC = 80, Index = 0, Event = 0}         -- "Resurectra"
	evt.SetNPCTopic{NPC = 80, Index = 1, Event = 0}         -- "Resurectra"
	evt.SetNPCTopic{NPC = 80, Index = 2, Event = 0}         -- "Resurectra"
	evt.SetNPCTopic{NPC = 80, Index = 3, Event = 223}         -- "Resurectra" : "Ancient Weapon Grandmaster"
	evt.MoveNPC{NPC = 81, HouseId = 423}         -- "Crag Hack" -> "Morningstar Residence"
	evt.SetNPCTopic{NPC = 81, Index = 0, Event = 0}         -- "Crag Hack"
	evt.SetNPCTopic{NPC = 81, Index = 1, Event = 0}         -- "Crag Hack"
	evt.SetNPCTopic{NPC = 81, Index = 2, Event = 0}         -- "Crag Hack"
	evt.SetNPCTopic{NPC = 81, Index = 3, Event = 221}         -- "Crag Hack" : "Ancient Weapon Expert"
	evt.SetNPCTopic{NPC = 82, Index = 1, Event = 222}         -- "Sir Caneghem" : "Ancient Weapon Master"
	evt.SetNPCGreeting{NPC = 81, Greeting = 196}         -- "Crag Hack" : "Welcome back  Heroes!   What can I do for you?"
	evt.SetNPCGreeting{NPC = 80, Greeting = 196}         -- "Resurectra" : "Welcome back  Heroes!   What can I do for you?"
	do return end
::_15::
	evt.Set{"DarkSkill", Value = 136}
::_16::
	evt.ForPlayer(-- ERROR: Const not found
1)
	if evt.Cmp{"FireSkill", Value = 1} then
		goto _20
	end
	if evt.Cmp{"BodySkill", Value = 1} then
		goto _20
	end
::_21::
	evt.ForPlayer(-- ERROR: Const not found
2)
	if evt.Cmp{"FireSkill", Value = 1} then
		goto _25
	end
	if evt.Cmp{"BodySkill", Value = 1} then
		goto _25
	end
::_26::
	evt.ForPlayer(-- ERROR: Const not found
3)
	if evt.Cmp{"FireSkill", Value = 1} then
		goto _30
	end
	if evt.Cmp{"BodySkill", Value = 1} then
		goto _30
	end
::_31::
	evt.ForPlayer(-- ERROR: Const not found
"All")
	evt.MoveNPC{NPC = 84, HouseId = 437}         -- "Kastore" -> "Sand Residence"
	evt.SetNPCTopic{NPC = 84, Index = 0, Event = 0}         -- "Kastore"
	evt.SetNPCTopic{NPC = 84, Index = 1, Event = 0}         -- "Kastore"
	evt.SetNPCTopic{NPC = 84, Index = 2, Event = 0}         -- "Kastore"
	evt.SetNPCTopic{NPC = 84, Index = 3, Event = 223}         -- "Kastore" : "Ancient Weapon Grandmaster"
	evt.MoveNPC{NPC = 86, HouseId = 441}         -- "Dark Shade" -> "Hostel"
	evt.SetNPCTopic{NPC = 86, Index = 0, Event = 0}         -- "Dark Shade"
	evt.SetNPCTopic{NPC = 86, Index = 1, Event = 0}         -- "Dark Shade"
	evt.SetNPCTopic{NPC = 86, Index = 2, Event = 0}         -- "Dark Shade"
	evt.SetNPCTopic{NPC = 86, Index = 3, Event = 221}         -- "Dark Shade" : "Ancient Weapon Expert"
	evt.SetNPCTopic{NPC = 85, Index = 1, Event = 222}         -- "Maximus" : "Ancient Weapon Master"
	evt.SetNPCGreeting{NPC = 86, Greeting = 196}         -- "Dark Shade" : "Welcome back  Heroes!   What can I do for you?"
	evt.SetNPCGreeting{NPC = 84, Greeting = 196}         -- "Kastore" : "Welcome back  Heroes!   What can I do for you?"
	evt.MoveNPC{NPC = 80, HouseId = 182}         -- "Resurectra" -> "Throne Room"
	evt.Subtract{"QBits", Value = 302}         -- Small House only Once
	do return end
::_57::
	evt.Set{"LightSkill", Value = 136}
	goto _58
::_62::
	evt.Set{"LightSkill", Value = 136}
	goto _63
::_67::
	evt.Set{"LightSkill", Value = 136}
	goto _68
::_72::
	evt.Set{"LightSkill", Value = 136}
	goto _73
::_20::
	evt.Set{"DarkSkill", Value = 136}
	goto _21
::_25::
	evt.Set{"DarkSkill", Value = 136}
	goto _26
::_30::
	evt.Set{"DarkSkill", Value = 136}
	goto _31
end

-- "Congratulations!"
-- "Artifact"
evt.CanShowTopic[130] = function()
	return evt.Cmp{"Inventory", Value = 634}         -- "Gryphonheart's Trumpet"
end

evt.global[130] = function()
	evt.SetMessage{Str = 287}         -- "My loyal subjects!  You were the ones who took the Trumpet!  Good work.  We thought it lost forever.  Once again, my purser will deposit gold in your account.  5,000 gold, to be exact."
	evt.Add{"BankGold", Value = 5000}
	evt.Subtract{"Reputation", Value = 5}
	evt.ForPlayer(-- ERROR: Const not found
"All")
	evt.Add{"Experience", Value = 10000}
	evt.Subtract{"Inventory", Value = 634}         -- "Gryphonheart's Trumpet"
	evt.Subtract{"QBits", Value = 79}         -- "Retrieve Gryphonheart's Trumpet from the battle in the Tularean Forest and return it to whichever side you choose."
	evt.Set{"QBits", Value = 84}         -- Gave artifact to humans
	evt.SetNPCTopic{NPC = 69, Index = 4, Event = 0}         -- "Queen Catherine"
end

-- "You're the new lords,huh?"
evt.global[131] = function()
	evt.SetMessage{Str = 275}         -- "Welcome.  I understand you've been appointed Lords of Harmondale by that idiot Markham.  You know, I WILL restore Avlee's rule over Harmondale--the only question is whether you are with me, or against me.  If you're with me, I will ensure that you retain your post.  Against me, and I will have done with you once my armies occupy your lands.    [King Parson smiles affably] So, of course you're with me!  If I have a need for your services, I'll summon you.  You are dismissed."
end

-- "Map"
evt.global[132] = function()
	evt.SetMessage{Str = 277}         --[[ "Well, Seekers, I see you’ve finally arrived.  I’ve been waiting for this moment for ages! 

What?!  You think that all of us have wings and just fly around the countryside impressing the Young?  We can take any form we desire.  We often appear as peasants and beggars so that we may move freely amongst your kind.  Besides, I rather enjoy the shocked look of these foul winged beasts as their perceived ‘easy prey’ sends them to their deaths!  If you have some time on your hands, lure some of these beasties to me, stand back, and watch me in action.  I'm very good, you know!  Besides, I need some entertainment! 

But enough about me.  You came in search of The Map, I guess.  Here it is.  Return it to my kin in Castle Harmondale for your promotion and reward.  Adou. " ]]
	evt.ForPlayer(-- ERROR: Const not found
"Current")
	evt.Add{"Inventory", Value = 739}         -- "Map to Treasure"
	evt.SetNPCTopic{NPC = 454, Index = 0, Event = 0}         -- "Map Giver"
end

-- "Most Excellent!!"
evt.global[133] = function()
	evt.SetMessage{Str = 315}         -- "YOU ARE HEROES!!!  Your work against the devils was masterful!  And the rescue of King Roland was as delightful as it was unexpected.  History will never forget your names for doing what you just did!  I, for one, am very proud to know you.  "
	evt.Add{"Gold", Value = 50000}
	evt.Subtract{"Reputation", Value = 10}
	evt.ForPlayer(-- ERROR: Const not found
"All")
	evt.Add{"Experience", Value = 500000}
	evt.Subtract{"QBits", Value = 104}         -- "Go to Colony Zod in the Land of the Giants and slay Xenofex then return to Resurectra in Castle Lambent in Celeste."
	evt.Set{"QBits", Value = 120}         -- Got Hive part
	evt.SetNPCTopic{NPC = 80, Index = 1, Event = 169}         -- "Resurectra" : "Final Task"
	evt.Add{"Awards", Value = 48}         -- "Slayed Xenofex"
	evt.Subtract{"QBits", Value = 105}         -- Slayed Xenofex
	evt.Add{"SkillPoints", Value = 100}
end

-- "Let's Go!"
evt.global[134] = function()
	evt.ForPlayer(-- ERROR: Const not found
"All")
	if evt.Cmp{"Inventory", Value = 675} then         -- "Control Cube"
		evt.SetMessage{Str = 325}         -- "Gladly, friends!"
		evt.SetMonGroupBit{NPCGroup = 9, Bit = const.MonsterBits.Invisible, On = true}         -- "Group for Malwick's Assc."
		evt.Set{"NPCs", Value = 37}         -- "Pascal the Mad Mage"
		evt.SetNPCTopic{NPC = 37, Index = 1, Event = 0}         -- "Pascal the Mad Mage"
	else
		evt.SetMessage{Str = 340}         -- "We cannot leave until we have the Control Cube."
	end
end

-- "Let's Go!"
evt.global[135] = function()
	evt.ForPlayer(-- ERROR: Const not found
"All")
	if evt.Cmp{"Inventory", Value = 675} then         -- "Control Cube"
		evt.SetMessage{Str = 325}         -- "Gladly, friends!"
		evt.SetMonGroupBit{NPCGroup = 10, Bit = const.MonsterBits.Invisible, On = true}         -- "Southern Village Group in Harmondy"
		evt.Set{"NPCs", Value = 20}         -- "Baron BunGleau"
		evt.SetNPCTopic{NPC = 20, Index = 1, Event = 0}         -- "Baron BunGleau"
	else
		evt.SetMessage{Str = 340}         -- "We cannot leave until we have the Control Cube."
	end
end

-- "Let's Go!"
evt.global[136] = function()
	evt.ForPlayer(-- ERROR: Const not found
"All")
	if evt.Cmp{"Inventory", Value = 675} then         -- "Control Cube"
		evt.SetMessage{Str = 325}         -- "Gladly, friends!"
		evt.SetMonGroupBit{NPCGroup = 8, Bit = const.MonsterBits.Invisible, On = true}         -- "Group for M3"
		evt.Set{"NPCs", Value = 18}         -- "Lord Godwinson"
		evt.SetNPCTopic{NPC = 18, Index = 1, Event = 0}         -- "Lord Godwinson"
	else
		evt.SetMessage{Str = 340}         -- "We cannot leave until we have the Control Cube."
	end
end

-- "Artifact"
evt.CanShowTopic[137] = function()
	return evt.Cmp{"Inventory", Value = 634}         -- "Gryphonheart's Trumpet"
end

evt.global[137] = function()
	evt.SetMessage{Str = 288}         -- "Ah, the Trumpet!  You captured it!  We weren't sure how things turned out when news of the human raid reached us.  Thank you again, my friends.  My factor will deposit 5,000 gold in your account for your services."
	evt.Add{"BankGold", Value = 5000}
	evt.Subtract{"Reputation", Value = 5}
	evt.ForPlayer(-- ERROR: Const not found
"All")
	evt.Add{"Experience", Value = 10000}
	evt.Subtract{"Inventory", Value = 634}         -- "Gryphonheart's Trumpet"
	evt.Subtract{"QBits", Value = 79}         -- "Retrieve Gryphonheart's Trumpet from the battle in the Tularean Forest and return it to whichever side you choose."
	evt.Set{"QBits", Value = 85}         -- Gave artifact to elves
	evt.SetNPCTopic{NPC = 70, Index = 4, Event = 0}         -- "ElfKing"
end

-- "Hint"
evt.global[138] = function()
	if evt.Cmp{"QBits", Value = 98} then         -- Built Castle to Level 2 (rescued dwarf guy)
		evt.SetMessage{Str = 290}         --[[ "Once again, the Human kingdom of Erathia and the Elvish kingdom of Harmondale are fighting.  As the local Judge, it has fallen to me to patch up their differences and bring the two sides to the negotiating table.  The two sides are so evenly matched that either could prevail.  [The judge leans closer to you, lowering his voice] And I'll tell you something else--I don't much care anymore who wins.  They are like children fighting over a toy.  Neither really wants Harmondale--they just want to deny it to the other.  

So, you're on your own.  Whatever actions you take now in support of one side or another could really make a difference.  Just remember that they couldn't possibly care less what happens to you or who rules in Harmondale.  Protect yourselves and your people first.  We didn't have this conversation." ]]
	else
		evt.SetMessage{Str = 289}         --[[ "If there is one piece of advice I could give you, it would be to fix your castle.  I don't know how you're going to find the gold and workers to do it, as only wealthy nobles and kings can afford such large scale projects.  I suppose it's the old chicken and egg question...you must appear noble to gain wealth and respect, but you must have wealth and respect in order to appear noble.  

In any event, if you expect to be lords of Harmondale for more than a few months, you need to find a way to prove you're not just lucky peasants.  You must prove that you're fit to rule." ]]
	end
end

-- "I lost it"
evt.global[139] = function()
	evt.SetMessage{Str = 668}         -- "That's too bad, children.  You really ought to take better care of your toys!  It looks like you are S.O.L."
end

-- "Artifact"
evt.CanShowTopic[140] = function()
	return evt.Cmp{"Inventory", Value = 634}         -- "Gryphonheart's Trumpet"
end

evt.global[140] = function()
	evt.ForPlayer(-- ERROR: Const not found
"All")
	if evt.Cmp{"Inventory", Value = 634} then         -- "Gryphonheart's Trumpet"
		evt.SetMessage{Str = 291}         -- "You were wise to return the Trumpet to me.  Now I can use it to help shore up the weak side in this conflict and promote peace.  Thank you.  "
		evt.Set{"QBits", Value = 147}         -- Gave artifact to arbiter
		evt.Add{"Experience", Value = 12500}
		evt.Subtract{"Inventory", Value = 634}         -- "Gryphonheart's Trumpet"
		evt.Subtract{"QBits", Value = 79}         -- "Retrieve Gryphonheart's Trumpet from the battle in the Tularean Forest and return it to whichever side you choose."
		evt.SetNPCTopic{NPC = 74, Index = 2, Event = 0}         -- "Judge Grey"
	end
end

-- "I choose you!"
evt.global[141] = function()
	evt.Subtract{"NPCs", Value = 77}         -- "Judge Fairweather"
	evt.MoveNPC{NPC = 77, HouseId = 112}         -- "Judge Fairweather" -> "Familiar Place"
	evt.SetNPCGreeting{NPC = 77, Greeting = 104}         -- "Judge Fairweather" : "We need to go to Judge Grey's old house in Harmondale.  Only then can I start my new job and begin to ""sort out this mess"".  [Heh!]"
	evt.SetNPCGreeting{NPC = 78, Greeting = 102}         -- "Judge Sleen" : "We need to go to Judge Grey's old house in Harmondale.  Only then can I start my new job and begin to ""sort out this mess"".  [Heh!]"
	evt.Set{"NPCs", Value = 78}         -- "Judge Sleen"
	evt.SetMessage{Str = 292}         -- "A wise decision.  You won't regret this--believe me.  I knew you were going to make this decision, and my bags are already packed and ready to go.  All you need to do now is get me to my new home, and I'll take care of the rest."
	evt.SetNPCTopic{NPC = 78, Index = 0, Event = 0}         -- "Judge Sleen"
	evt.SetNPCTopic{NPC = 77, Index = 0, Event = 143}         -- "Judge Fairweather" : "I choose you!"
end

-- "Hint"
evt.global[142] = function()
	evt.ForPlayer(-- ERROR: Const not found
"All")
	if not evt.Cmp{"QBits", Value = 110} then         -- Finished Necro Proving Grounds
		evt.SetMessage{Str = 293}         -- "Your first order of business is to talk to Lord Ironfist and complete his 'mission.'  Once your ability and loyalty are proven, you will be allowed to help in more…interesting… ways."
	else
		if not evt.Cmp{"QBits", Value = 111} then         -- Finished Necro Task 2 - Temple of Light
			evt.SetMessage{Str = 294}         -- "Each of the advisors to Lord Ironfist has a task for you, complete each one.  Talk to Kastore, Dark Shade, and Maaximus for more information.  The completion of these tasks is vital for our future."
		else
			if not evt.Cmp{"QBits", Value = 112} then         -- Finished Necro Task 3 - Soul Jars
				evt.SetMessage{Str = 294}         -- "Each of the advisors to Lord Ironfist has a task for you, complete each one.  Talk to Kastore, Dark Shade, and Maaximus for more information.  The completion of these tasks is vital for our future."
			else
				if not evt.Cmp{"QBits", Value = 113} then         -- Finished Necro Task 4 - Clanker's Lab
					evt.SetMessage{Str = 294}         -- "Each of the advisors to Lord Ironfist has a task for you, complete each one.  Talk to Kastore, Dark Shade, and Maaximus for more information.  The completion of these tasks is vital for our future."
				else
					if not evt.Cmp{"QBits", Value = 118} then         -- Killed Good MM3 Person
						evt.SetMessage{Str = 295}         -- "Judas the Geek has a mission of great importance.  Everything we've staked so far rests on its completion.  Prepare well for his task or you will certainly fail."
					else
						if not evt.Cmp{"QBits", Value = 120} then         -- Got Hive part
							evt.SetMessage{Str = 296}         -- "Xenofex and the rest of the Kreegan must be put down; go to their 'hive' in the Land of the Giants and put a stop to Xenofex and his minions once and for all."
						else
							if evt.Cmp{"QBits", Value = 121} then         -- Got the sci-fi part
								evt.SetMessage{Str = 298}         -- "Bring the Oscillation Overthruster back to Kastore with all possible speed!  Every moment you dally allows a chance for failure!"
							else
								evt.SetMessage{Str = 297}         -- "You will need to visit the craft that brought Kastore and his men to Erathia to continue.  Go west of Avlee, and make sure to be properly outfitted."
							end
						end
					end
				end
			end
		end
	end
end

-- "I choose you!"
evt.global[143] = function()
	evt.Subtract{"NPCs", Value = 78}         -- "Judge Sleen"
	evt.MoveNPC{NPC = 78, HouseId = 111}         -- "Judge Sleen" -> "The Snobbish Goblin"
	evt.SetNPCGreeting{NPC = 78, Greeting = 101}         -- "Judge Sleen" : "Free"
	evt.SetNPCGreeting{NPC = 77, Greeting = 105}         -- "Judge Fairweather" : "We need to go to Judge Grey's old house in Harmondale.  Only then can I start my new job and put this horrible war to an end."
	evt.Set{"NPCs", Value = 77}         -- "Judge Fairweather"
	evt.SetMessage{Str = 292}         -- "A wise decision.  You won't regret this--believe me.  I knew you were going to make this decision, and my bags are already packed and ready to go.  All you need to do now is get me to my new home, and I'll take care of the rest."
	evt.SetNPCTopic{NPC = 77, Index = 0, Event = 0}         -- "Judge Fairweather"
	evt.SetNPCTopic{NPC = 78, Index = 0, Event = 141}         -- "Judge Sleen" : "I choose you!"
end

-- "Hint"
evt.global[144] = function()
	evt.ForPlayer(-- ERROR: Const not found
"All")
	if not evt.Cmp{"QBits", Value = 114} then         -- Finished Wizard Proving Grounds
		evt.SetMessage{Str = 300}         -- "First, you need to speak to Gavin Magnus in Celeste and complete his training.  After you have proven your ability and loyalty you will learn more about your role in the future of Erathia."
	else
		if not evt.Cmp{"QBits", Value = 115} then         -- Finished Wizard Task 2 - Temple of Dark
			evt.SetMessage{Str = 301}         -- "Each of Gavin's advisors has a task for you.  Talk to Resurectra, Sir Caneghem, and Crag Hack for more information.  Do not fail in these missions- in them rests the balance of the future."
		else
			if not evt.Cmp{"QBits", Value = 116} then         -- Finished Wizard Task 3 - Wine Cellar
				evt.SetMessage{Str = 301}         -- "Each of Gavin's advisors has a task for you.  Talk to Resurectra, Sir Caneghem, and Crag Hack for more information.  Do not fail in these missions- in them rests the balance of the future."
			else
				if not evt.Cmp{"QBits", Value = 117} then         -- Finished Wizard Task 4 - Soul Jars
					evt.SetMessage{Str = 301}         -- "Each of Gavin's advisors has a task for you.  Talk to Resurectra, Sir Caneghem, and Crag Hack for more information.  Do not fail in these missions- in them rests the balance of the future."
				else
					if not evt.Cmp{"QBits", Value = 119} then         -- Killed Evil MM3 Person
						evt.SetMessage{Str = 302}         -- "Robert the Wise has a regrettable, but necessary, mission for you to complete.  For any of our plans to continue, this mission must succeed.  Prepare most carefully for the task, or you invite certain failure."
					else
						if not evt.Cmp{"QBits", Value = 120} then         -- Got Hive part
							evt.SetMessage{Str = 303}         -- "The Kreegan, the Devils, and their leader Xenofex must be destroyed completely for the plan to have any long-term benefit.  You will find their 'hive' in the Land of the Giants."
						else
							if evt.Cmp{"QBits", Value = 121} then         -- Got the sci-fi part
								evt.SetMessage{Str = 305}         -- "Bring the Oscillation Overthruster back to Resurectra immediately!  Every moment wastes valuable time!"
							else
								evt.SetMessage{Str = 304}         -- "To the west of Avlee lies the craft that Resurectra and her associates used to come to Erathia.  Visit the ship and retrieve the Oscillation Overthruster to insure our victory.  Make sure to be properly outfitted for the journey."
							end
						end
					end
				end
			end
		end
	end
end

-- "Proving Grounds"
evt.global[145] = function()
	evt.SetMessage{Str = 306}         -- "The Test involves entering the 'front door' of the Walls of Mist, and exiting through the 'back door'.  I use the word 'door' loosely--you'll see when you get there.  You will not need your weapons.  You will fail the test if you kill any creature in the Walls of Mist.  If you can complete this task, you will be given membership in the Guild of Light. Good luck."
	evt.Set{"QBits", Value = 101}         -- "Complete the Walls of Mist without killing a single opponent and return to Gavin Magnus in Castle Lambent in Celeste."
	evt.Subtract{"QBits", Value = 152}         -- "Enter Celeste from the grand teleporter in the Bracada Desert, then talk to Gavin Magnus in Castle Lambent in Celeste."
	evt.SetNPCTopic{NPC = 79, Index = 0, Event = 146}         -- "Gavin Magnus" : "Proving Grounds"
end

-- "Proving Grounds"
evt.global[146] = function()
	if evt.Cmp{"QBits", Value = 102} then         -- Completed Proving Grounds without killing a single creature
		evt.SetMessage{Str = 307}         -- "You passed the Test!  That's quite an achievement--few succeed as quickly as you did.  My advisors are now eager to speak to  you; they can be found in the four houses on the eastern side of Celeste.  Once again, congratulations!"
		evt.Subtract{"QBits", Value = 101}         -- "Complete the Walls of Mist without killing a single opponent and return to Gavin Magnus in Castle Lambent in Celeste."
		evt.SetNPCTopic{NPC = 79, Index = 0, Event = 0}         -- "Gavin Magnus"
		evt.Add{"History10", Value = 0}
		evt.ForPlayer(-- ERROR: Const not found
"All")
		evt.Add{"Experience", Value = 50000}
		evt.Add{"QBits", Value = 114}         -- Finished Wizard Proving Grounds
		evt.Add{"Awards", Value = 46}         -- "Completed Wizard Proving Grounds"
		evt.SetNPCGreeting{NPC = 79, Greeting = 108}         -- "Gavin Magnus" : "Welcome back, my friends.  My advisors are anxious to speak with you.  "
		evt.MoveNPC{NPC = 80, HouseId = 425}         -- "Resurectra" -> "Hostel"
		evt.MoveNPC{NPC = 81, HouseId = 426}         -- "Crag Hack" -> "Hostel"
		evt.MoveNPC{NPC = 82, HouseId = 427}         -- "Sir Caneghem" -> "Hostel"
		evt.MoveNPC{NPC = 82, HouseId = 427}         -- "Sir Caneghem" -> "Hostel"
		evt.SetNPCGreeting{NPC = 80, Greeting = 111}         -- "Resurectra" : "Always a pleasure to see you, Lords."
		evt.SetNPCGreeting{NPC = 81, Greeting = 114}         -- "Crag Hack" : "It's good to see you again, lords.  I hope all is well with you and your realm."
		evt.SetNPCGreeting{NPC = 82, Greeting = 117}         -- "Sir Caneghem" : "Ah, welcome back my lords.  I hope all is well."
		evt.SetNPCGreeting{NPC = 83, Greeting = 120}         -- "Robert the Wise" : "I'm happy you're still alive and working for the Light.  Come and see me when you've finished my friend's tasks."
		evt.Add{"Awards", Value = 59}         -- "Joined the Light Guild"
	else
		evt.SetMessage{Str = 308}         -- "Remember, you must enter through the front door of the Walls of Mist, and exit through the back door.  You must not kill any creatures in the Walls of Mist.  When you have done this, return to me."
	end
end

-- "Temple of the Dark"
evt.CanShowTopic[147] = function()
	return evt.Cmp{"QBits", Value = 114}         -- Finished Wizard Proving Grounds
end

evt.global[147] = function()
	evt.SetMessage{Str = 309}         -- "We need your help retrieving half of a key to a very important place from our enemies, the Necromancers.  Like us, they have enshrined their half of the key in their highest temple--The Temple of the Dark.  I'm under no illusions this will be easy.  Take your time and act when you're prepared.  Also, bring our half of the key to us, as well.  It is enshrined in the Temple of the Light.  Since you're our ally, no one should trouble you when you go there to fetch the key.  By the same token, please don't harm any of them, either."
	evt.Set{"QBits", Value = 103}         -- "Retrieve the altar piece from the Temple of Light in Celeste and the Temple of Dark in the Pit and return them to Resurectra in Castle Lambent in Celeste."
	evt.SetNPCTopic{NPC = 80, Index = 0, Event = 148}         -- "Resurectra" : "Temple of the Dark"
end

-- "Temple of the Dark"
evt.global[148] = function()
	evt.ForPlayer(-- ERROR: Const not found
"All")
	if evt.Cmp{"Inventory", Value = 676} then         -- "Altar Piece"
		if evt.Cmp{"Inventory", Value = 677} then         -- "Altar Piece"
			evt.SetMessage{Str = 313}         -- "I knew you could do it!  Never doubted you for a second!  [You hand her the key halves, and she joins them by running a finger along the crack between them.  It mends before your eyes, good as new] Finally!  One piece of the plan is in place.  Your assistance has been invaluable.  We are already in your debt, and I expect we'll be even deeper in debt before our plan comes to fruition.  So have faith in us awhile longer--the future we're planning will astound you!"
			evt.Subtract{"Inventory", Value = 676}         -- "Altar Piece"
			evt.Subtract{"Inventory", Value = 677}         -- "Altar Piece"
			evt.Subtract{"QBits", Value = 232}         -- Altar Piece (Good) - I lost it
			evt.Subtract{"QBits", Value = 233}         -- Altar Piece (Evil) - I lost it
			evt.Add{"History12", Value = 0}
			evt.Add{"Experience", Value = 50000}
			evt.SetNPCTopic{NPC = 80, Index = 0, Event = 0}         -- "Resurectra"
			evt.Subtract{"QBits", Value = 103}         -- "Retrieve the altar piece from the Temple of Light in Celeste and the Temple of Dark in the Pit and return them to Resurectra in Castle Lambent in Celeste."
			evt.Set{"QBits", Value = 115}         -- Finished Wizard Task 2 - Temple of Dark
			evt.Set{"Awards", Value = 47}         -- "Retrieved Both Temple Pieces"
			evt.SetNPCGreeting{NPC = 80, Greeting = 112}         -- "Resurectra" : "Always a pleasure to see you, Lords."
			evt.ForPlayer(-- ERROR: Const not found
"Current")
			evt.Subtract{"Reputation", Value = 5}
		else
			evt.SetMessage{Str = 311}         -- "Well, I'm glad you found our half of the key, but you still need their half.  Hold onto it until you get the other half.  When you have both halves, return to me.  I will make them whole."
		end
	else
		if evt.Cmp{"Inventory", Value = 677} then         -- "Altar Piece"
			evt.SetMessage{Str = 312}         -- "Good work on retrieving their half of the key, but you still need ours.  It is located in the Temple of the Light here in Celeste."
		else
			evt.SetMessage{Str = 310}         -- "No key halves yet, I see.  Well, take your time.  It must be done eventually, and sooner is better than later, but later is better than being chained to an altar and sacrificed by the High Priest of the Dark in one of their bloody rituals.  Just bring back both halves of the key from the temples of Dark and Light, and try not to get yourselves killed doing it."
		end
	end
end

-- ""
-- ""
-- "Vampires"
evt.CanShowTopic[151] = function()
	return evt.Cmp{"QBits", Value = 114}         -- Finished Wizard Proving Grounds
end

evt.global[151] = function()
	evt.SetMessage{Str = 317}         -- "Our allies in Tatalia have been complaining for some time of a mysterious presence.  There have been numerous deaths and disappearances for the last few months, and they've asked us if we knew anything about it.  I think I do.  I suspect a vampire is preying on Tatalia.  I don't have time to pursue the question myself, but to keep our allies happy, I'm asking you to please look into it.  It's possible the monster's presence has deeper implications than just bad luck for Tatalia."
	evt.Set{"QBits", Value = 106}         -- "Investigate the Wine Cellar in Tatalia and return to Crag Hack in Castle Lambent in Celeste."
	evt.SetNPCTopic{NPC = 81, Index = 0, Event = 152}         -- "Crag Hack" : "Vampires"
end

-- "Vampires"
evt.global[152] = function()
	if evt.Cmp{"QBits", Value = 107} then         -- Slayed the vampire
		evt.SetMessage{Str = 318}         -- "Just as I suspected!  Good work.  With the death of the Vampire, Tatalia can sleep a bit easier now.  Queen Catherine is grateful as well, and has been making moves to further strengthen the ties between Bracada and Erathia."
		evt.Add{"Gold", Value = 20000}
		evt.Add{"History13", Value = 0}
		evt.Subtract{"Reputation", Value = 5}
		evt.ForPlayer(-- ERROR: Const not found
"All")
		evt.Add{"Experience", Value = 50000}
		evt.Add{"Awards", Value = 49}         -- "Solved the Mystery of the Wine Cellar"
		evt.SetNPCTopic{NPC = 81, Index = 0, Event = 0}         -- "Crag Hack"
		evt.SetNPCGreeting{NPC = 81, Greeting = 115}         -- "Crag Hack" : "It's good to see you again, lords.  I hope all is well with you and your realm."
		evt.Subtract{"QBits", Value = 106}         -- "Investigate the Wine Cellar in Tatalia and return to Crag Hack in Castle Lambent in Celeste."
		evt.Add{"QBits", Value = 116}         -- Finished Wizard Task 3 - Wine Cellar
	else
		evt.SetMessage{Str = 319}         -- "Keep looking for that Vampire.  I'm sure that's our problem, and he must be somewhere in or near Tatalia.  "
	end
end

-- "Soul Jars"
evt.CanShowTopic[153] = function()
	return evt.Cmp{"QBits", Value = 114}         -- Finished Wizard Proving Grounds
end

evt.global[153] = function()
	evt.SetMessage{Str = 320}         -- "The plan involves stealing the soul jars the Necromancers rely on to prolong their miserable lives.  They have them hidden somewhere in their Guild Castle, and are probably not prepared for the kind of small scale assault you people are so good at.  A quick strike--in and out--should do the trick.  Don't hang around the castle too long, or reinforcements will arrive, and try to get it right the first time, or they will permanently double their patrols.  Once you have the soul jars, bring them back here so we can dispose of them properly."
	evt.Set{"QBits", Value = 108}         -- "Retrieve the Case of Soul Jars from Castle Gloaming in the Pit and return to Sir Caneghem in Celeste."
	evt.SetNPCTopic{NPC = 82, Index = 0, Event = 154}         -- "Sir Caneghem" : "Soul Jars"
end

-- "Soul Jars"
evt.global[154] = function()
	evt.ForPlayer(-- ERROR: Const not found
"All")
	if evt.Cmp{"Inventory", Value = 602} then         -- "Case of Soul Jars"
		evt.SetMessage{Str = 321}         -- "[Sir Caneghem looks at the jars curiously, as though observing a poisonous snake behind glass] So these are soul jars.  I expected something more…impressive, I suppose.  Good job!  [he takes the case of jars] I will make sure these jars are never seen again."
		evt.Subtract{"Inventory", Value = 602}         -- "Case of Soul Jars"
		evt.Subtract{"QBits", Value = 231}         -- Lich Jar Case - I lost it
		evt.Add{"History11", Value = 0}
		evt.Add{"Experience", Value = 50000}
		evt.Subtract{"QBits", Value = 108}         -- "Retrieve the Case of Soul Jars from Castle Gloaming in the Pit and return to Sir Caneghem in Celeste."
		evt.Add{"QBits", Value = 117}         -- Finished Wizard Task 4 - Soul Jars
		evt.SetNPCTopic{NPC = 82, Index = 0, Event = 19}         -- "Sir Caneghem" : "Erathia has been betrayed!"
		evt.MoveNPC{NPC = 85, HouseId = 434}         -- "Maximus" -> "Hostel"
		evt.Add{"Awards", Value = 80}         -- "Retrieved Soul Jars"
		evt.ForPlayer(-- ERROR: Const not found
"Current")
		evt.Subtract{"Reputation", Value = 5}
		evt.SetNPCGreeting{NPC = 88, Greeting = 136}         -- "Archibald Ironfist" : "Back for more target practice?  You know, if you wait long enough, my people will regenerate.  Bigger challenge then."
		evt.MoveNPC{NPC = 88, HouseId = 0}         -- "Archibald Ironfist"
		evt.SetNPCTopic{NPC = 88, Index = 1, Event = 0}         -- "Archibald Ironfist"
		evt.SetNPCTopic{NPC = 85, Index = 0, Event = 22}         -- "Maximus" : "Dangerous Mission"
	else
		evt.SetMessage{Str = 322}         -- "Be well prepared when you go for the jars.  Their security won't be so lax if you have to retreat and return.  "
	end
end

-- "Strike the Devils"
evt.global[155] = function()
	if not evt.Cmp{"QBits", Value = 326} then         -- Resurectra
		evt.SetMessage{Str = 314}         --[[ "Our plans rapidly approach their conclusion, but there is a hitch.  You have defeated the unholy alliance of The Corruption, but the traitor Judas has escaped and taken refuge with Xenofex and his Devil minions. They still represent a terrible threat, and though they are licking their wounds from our recent victory, will one day regain their strength and devastate the world.  If anything we do is to have lasting effect, we must first destroy these monsters for once and for all.

You are strong, but not strong enough to defeat the devils on your own.  They are vulnerable to the brand of magic most commonly wielded by the Necromancers, and less so by our own Wizards.  It is imperative that you infiltrate the Devil's base and kill their leader Xenofex and the traitor, Judas.  That should end their threat to this world for some time.  The Warlocks have dug a tunnel from their volcano to the Land of the Giants-- the land the Devils claim as their own.  Perhaps you can use that." ]]
		evt.Set{"QBits", Value = 104}         -- "Go to Colony Zod in the Land of the Giants and slay Xenofex then return to Resurectra in Castle Lambent in Celeste."
		evt.Set{"QBits", Value = 326}         -- Resurectra
	else
		if evt.Cmp{"QBits", Value = 105} then         -- Slayed Xenofex
			evt.SetMessage{Str = 315}         -- "YOU ARE HEROES!!!  Your work against the devils was masterful!  And the rescue of King Roland was as delightful as it was unexpected.  History will never forget your names for doing what you just did!  I, for one, am very proud to know you.  "
			evt.Add{"Gold", Value = 50000}
			evt.Subtract{"Reputation", Value = 10}
			evt.ForPlayer(-- ERROR: Const not found
"All")
			evt.Add{"Experience", Value = 500000}
			evt.Subtract{"QBits", Value = 104}         -- "Go to Colony Zod in the Land of the Giants and slay Xenofex then return to Resurectra in Castle Lambent in Celeste."
			evt.Set{"QBits", Value = 120}         -- Got Hive part
			evt.SetNPCTopic{NPC = 80, Index = 1, Event = 169}         -- "Resurectra" : "Final Task"
			evt.Add{-- ERROR: Not found
"Awards", Value = 83886128}
		else
			evt.SetMessage{Str = 316}         -- "I guess there's no hurry getting this job done, but we don't want the Necromancers to grow bored waiting for us to do our part and destroy the blocker.  So, please, as soon as you feel ready you must attack the Devils.  Remember that the Warlocks have dug a tunnel from their volcano to the land of the Devils.  You should be able to use that to get yourselves there."
		end
	end
end


-- ERROR: Not found

-- "Beacon Fires"
evt.global[512] = function()
	evt.SetMessage{Str = 731}         -- "If you seek aid from Erathia, light the beacon fires near the roads to the Barrow Downs, Erathia, and the Tularean Forest.  The Erathian forces near here will see the fires and rush to your aid!"
end

-- ERROR: Unknown command: 0:10 (0xA0)
-- ERROR: Invalid command size: 2560:160 (Cmd00)
-- ERROR: Not found

-- ERROR: Invalid command size: 40970:0 (SetSnow)
-- ERROR: Not found

evt.global[40970] = function()
	evt.SetSnow{EffectId = 18, On = true}
end

-- "Strike the Devils"
-- "Soul Jars"
evt.CanShowTopic[161] = function()
	return evt.Cmp{"QBits", Value = 110}         -- Finished Necro Proving Grounds
end

evt.global[161] = function()
	evt.SetMessage{Str = 334}         -- "Archibald has asked us to find a source of soul jars for his necromancers.  These are the jars that are needed to complete the Ritual that gives them eternal life, and we're almost out.  There are far more candidates for Lichdom than we have jars, so some of our necromancers are facing the grim possibility of real death.  The makers of the jars are the Warlocks.  Go to them and convince them to give us the jars.  If they won't hand them over, take the jars by force-- I'm done negotiating prices with them."
	evt.Set{"QBits", Value = 124}         -- "Retrieve the Case of Soul Jars from the Warlocks in Thunderfist Mountain and bring them to Maximus in the Pit."
	evt.SetNPCTopic{NPC = 85, Index = 0, Event = 162}         -- "Maximus" : "Soul Jars"
end

-- "Soul Jars"
evt.global[162] = function()
	evt.ForPlayer(-- ERROR: Const not found
"All")
	if evt.Cmp{"Inventory", Value = 602} then         -- "Case of Soul Jars"
		evt.SetMessage{Str = 335}         -- "[Maximus takes the case of jars with obvious delight] Nice work.  I won't even ask what you had to do to get them.  Success speaks for itself.  "
		evt.Subtract{"Inventory", Value = 602}         -- "Case of Soul Jars"
		evt.Subtract{"QBits", Value = 231}         -- Lich Jar Case - I lost it
		evt.Add{"History18", Value = 0}
		evt.Add{"Experience", Value = 50000}
		evt.Subtract{"QBits", Value = 124}         -- "Retrieve the Case of Soul Jars from the Warlocks in Thunderfist Mountain and bring them to Maximus in the Pit."
		evt.Add{"QBits", Value = 112}         -- Finished Necro Task 3 - Soul Jars
		evt.Add{"Awards", Value = 80}         -- "Retrieved Soul Jars"
		evt.SetNPCTopic{NPC = 85, Index = 0, Event = 20}         -- "Maximus" : "Erathia has been betrayed!"
		evt.MoveNPC{NPC = 82, HouseId = 427}         -- "Sir Caneghem" -> "Hostel"
		evt.ForPlayer(-- ERROR: Const not found
"Current")
		evt.Subtract{"Reputation", Value = 5}
		evt.SetNPCTopic{NPC = 82, Index = 0, Event = 21}         -- "Sir Caneghem" : "Dangerous Mission"
	else
		evt.SetMessage{Str = 336}         -- "You don't have to be nice about getting the jars from them--just get the jars any way you can.  We can renegotiate peace with them if we must, just like we renegotiate the price for each purchase of soul jars."
	end
end

-- "Clanker's Laboratory"
evt.CanShowTopic[163] = function()
	return evt.Cmp{"QBits", Value = 110}         -- Finished Necro Proving Grounds
end

evt.global[163] = function()
	evt.SetMessage{Str = 337}         -- "Lord Archibald has another request--the creatures that have inhabited Clanker's laboratory must be evicted--and the teleport shield brought down.  The laboratory is on an island east of Pierpont in the Tularean Forest.  Be careful--the monsters in that lab were created by Clanker himself, and some of them are much more powerful than their more common fellows elsewhere in the world.  Take whatever you like from the place.  Lord Archibald is only interested in the real estate and the laboratory equipment.  Once the shield is down, Lord Archibald will be able to begin moving necromancers and equipment inside via Lloyd's Beacon. "
	evt.Set{"QBits", Value = 125}         -- "Destroy the magical defenses inside Clanker's Laboratory and return to Dark Shade in the Pit."
	evt.SetNPCTopic{NPC = 86, Index = 0, Event = 164}         -- "Dark Shade" : "Clanker's Laboratory"
end

-- "Clanker's Laboratory"
evt.global[164] = function()
	if evt.Cmp{"QBits", Value = 126} then         -- Destroyed the magical defenses in Clanker's Lab
		evt.SetMessage{Str = 338}         -- "It's good to see we can count on you.  So few of our allies are as reliable and capable as yourselves.  Thank you very much for your aid."
		evt.Add{"History21", Value = 0}
		evt.Subtract{"Reputation", Value = 5}
		evt.ForPlayer(-- ERROR: Const not found
"All")
		evt.Add{"Experience", Value = 50000}
		evt.Subtract{"QBits", Value = 125}         -- "Destroy the magical defenses inside Clanker's Laboratory and return to Dark Shade in the Pit."
		evt.Add{"QBits", Value = 113}         -- Finished Necro Task 4 - Clanker's Lab
		evt.SetNPCTopic{NPC = 86, Index = 0, Event = 0}         -- "Dark Shade"
		evt.SetNPCGreeting{NPC = 86, Greeting = 130}         -- "Dark Shade" : "Welcome, allies.  Always good to have you back."
		evt.Add{"Awards", Value = 82}         -- "Cleaned out Clanker's Laboratory"
	else
		evt.SetMessage{Str = 339}         -- "This is a simple task--get a move on!  Once again, the laboratory on an island east of Pierpont in the Tularean Forest.  Get the shield lowered, and your part of the job is done."
	end
end

-- "Robert the Wise"
evt.CanShowTopic[165] = function()
	local result
	if not evt.Cmp{"QBits", Value = 110} then         -- Finished Necro Proving Grounds
		result = false
	else
		if not evt.Cmp{"QBits", Value = 111} then         -- Finished Necro Task 2 - Temple of Light
			result = false
		else
			if not evt.Cmp{"QBits", Value = 112} then         -- Finished Necro Task 3 - Soul Jars
				result = false
			else
				return evt.Cmp{"QBits", Value = 113}         -- Finished Necro Task 4 - Clanker's Lab
			end
		end
	end
end

evt.global[165] = function()
	evt.SetMessage{Str = 340}         -- "We cannot leave until we have the Control Cube."
	evt.Set{"QBits", Value = 127}         -- "Assassinate Robert the Wise in his house in Celeste and return to Tolberti in the Pit."
	evt.SetNPCTopic{NPC = 87, Index = 0, Event = 166}         -- "Tolberti" : "Robert the Wise"
end

-- "Robert the Wise"
evt.global[166] = function()
	evt.ForPlayer(-- ERROR: Const not found
"All")
	if not evt.Cmp{"Inventory", Value = 675} then         -- "Control Cube"
		evt.SetMessage{Str = 342}         --[[ "I understand your enthusiasm adventurers.  But you are far too inexperienced for the required promotion task.  Travel about on the mainland, gain some real-world experience, and return to the ‘EI’.  Then we’ll discuss the promotion.

So I’ll await your return?  Good.  See you soon." ]]
		return
	end
	evt.SetMessage{Str = 341}         -- "The only teacher that I know of is the renown Zedd True Shot.  You can find him on Emerald Island.  He's also the Warrior Mage promoter. "
	evt.Subtract{"Inventory", Value = 675}         -- "Control Cube"
	evt.Add{"History23", Value = 0}
	evt.Add{"Experience", Value = 250000}
	evt.Subtract{"QBits", Value = 127}         -- "Assassinate Robert the Wise in his house in Celeste and return to Tolberti in the Pit."
	evt.Add{"QBits", Value = 118}         -- Killed Good MM3 Person
	evt.Add{"Awards", Value = 83}         -- "Assassinated Robert the Wise"
	evt.ForPlayer(-- ERROR: Const not found
0)
	if not evt.Cmp{"BlasterSkill", Value = 1} then
		evt.Set{"BlasterSkill", Value = 1}
	end
	evt.ForPlayer(-- ERROR: Const not found
1)
	if not evt.Cmp{"BlasterSkill", Value = 1} then
		evt.Set{"BlasterSkill", Value = 1}
	end
	evt.ForPlayer(-- ERROR: Const not found
2)
	if not evt.Cmp{"BlasterSkill", Value = 1} then
		evt.Set{"BlasterSkill", Value = 1}
	end
	evt.ForPlayer(-- ERROR: Const not found
3)
	if not evt.Cmp{"BlasterSkill", Value = 1} then
		evt.Set{"BlasterSkill", Value = 1}
	end
	evt.SetNPCTopic{NPC = 84, Index = 3, Event = 223}         -- "Kastore" : "Ancient Weapon Grandmaster"
	evt.SetNPCTopic{NPC = 85, Index = 1, Event = 222}         -- "Maximus" : "Ancient Weapon Master"
	evt.SetNPCTopic{NPC = 86, Index = 1, Event = 221}         -- "Dark Shade" : "Ancient Weapon Expert"
	evt.SetNPCGreeting{NPC = 87, Greeting = 0}         -- "Tolberti" : ""
	evt.Subtract{"Reputation", Value = 5}
	evt.SetNPCTopic{NPC = 87, Index = 0, Event = 0}         -- "Tolberti"
end

-- "Breeding Pit"
evt.CanShowTopic[167] = function()
	return not evt.Cmp{"QBits", Value = 99}         -- Chose the path of Light
end

evt.global[167] = function()
	evt.SetMessage{Str = 343}         -- "Yes, the test.  It's simple.  Near the center of the city is a place we call the Breeding Zone.  There's a lot of foul monsters in the pit, and they regenerate constantly.  It makes for a good source of slaves, spare parts, and target practice.  All of our necromancers are tested there when they want to rise above the level of initiate.  I'm sure you'll pass the test.  Just jump in the pit and find a way out.  Kill anything you want down there.  Show no mercy.  When you escape, crawl out of the pit and come see me again.  If you complete this, I will give you membership in the Guild of Dark. *If* you complete this..."
	evt.Set{"QBits", Value = 128}         -- "Complete the Breeding Zone and return to Archibald in the Pit."
	evt.Subtract{"QBits", Value = 151}         -- "Enter the Pit from the Hall of the Pit in the Deyja Moors, then talk to Archibald in Castle Gloaming in the Pit."
	evt.SetNPCTopic{NPC = 88, Index = 0, Event = 168}         -- "Archibald Ironfist" : "Breeding Pit"
end

-- "Breeding Pit"
evt.global[168] = function()
	if evt.Cmp{"QBits", Value = 129} then         -- Completed Breeding Pit.
		evt.SetMessage{Str = 344}         -- "You show promise, my friends.  A fine performance.  I think it will be sufficient proof of your skill for my advisors.  They are quite eager to assign tasks to you now; they can be found in the four houses in the western side of the Pit.  And don't worry.  Rewards will follow, of course."
		evt.Add{"History17", Value = 0}
		evt.ForPlayer(-- ERROR: Const not found
"All")
		evt.Add{"Experience", Value = 50000}
		evt.Add{"Awards", Value = 84}         -- "Completed Necromancer Breeding Pit"
		evt.Subtract{"QBits", Value = 128}         -- "Complete the Breeding Zone and return to Archibald in the Pit."
		evt.Add{"QBits", Value = 110}         -- Finished Necro Proving Grounds
		evt.SetNPCTopic{NPC = 88, Index = 0, Event = 0}         -- "Archibald Ironfist"
		evt.SetNPCGreeting{NPC = 88, Greeting = 137}         -- "Archibald Ironfist" : "Welcome back, allies.  My advisors are eager to speak with you."
		evt.MoveNPC{NPC = 84, HouseId = 442}         -- "Kastore" -> "Hostel"
		evt.MoveNPC{NPC = 85, HouseId = 434}         -- "Maximus" -> "Hostel"
		evt.MoveNPC{NPC = 86, HouseId = 441}         -- "Dark Shade" -> "Hostel"
		evt.MoveNPC{NPC = 85, HouseId = 434}         -- "Maximus" -> "Hostel"
		evt.SetNPCGreeting{NPC = 84, Greeting = 123}         -- "Kastore" : "[Kastore smiles] Welcome back, allies.  I trust you are well?"
		evt.SetNPCGreeting{NPC = 85, Greeting = 126}         -- "Maximus" : "Glad to have you back, allies."
		evt.SetNPCGreeting{NPC = 86, Greeting = 129}         -- "Dark Shade" : "Welcome, allies.  Always good to have you back."
		evt.SetNPCGreeting{NPC = 87, Greeting = 132}         -- "Tolberti" : "Glad you're still on our side!  Come and see me when you're done with my associates' missions."
		evt.Add{"Awards", Value = 60}         -- "Joined the Dark Guild"
	else
		evt.SetMessage{Str = 345}         -- "I am beginning to suspect my allies were right about you.  Can't you pass this simple test?  Are you too afraid, or too feeble to succeed?  Perhaps we need new allies?"
	end
end

-- "Final Task"
evt.global[169] = function()
	evt.SetMessage{Str = 346}         --[[ "The time has come to achieve our Goal.  The reason we have sent you on all these missions is simple:  we have been busy gathering the parts needed to open a gate to the Ancients--the ones who colonized this world ages ago.  Unfortunately, our former compatriots also seek those parts for their own dark dreams.  They wish to rebuild the Heavenly Forge from the times before the Silence, and use it to duplicate the weapons we brought with us to your world.  We have been competing with them for these parts, but at last we have what we need.  

Except for one thing.  We have been unable to find the Oscillation Overthruster on your world.  All would be lost, but there is one such device aboard the Lincoln--the vehicle that brought us to your world.  It is in the sea west of Avlee and secured against entry, even from ourselves.  Now you must wear our environment suits, enter the ship, and return with the Overthruster; you will find these suits in the chest outside this throne room.  For the suit to function properly you must not be wearing any equipment.  As for us, we must stand watch at the gate, and battle our former comrades.  " ]]
	evt.Add{"History26", Value = 0}
	evt.Set{"QBits", Value = 130}         -- "Go to the Lincoln in the sea west of Avlee and retrieve the Oscillation Overthruster and return it to Resurectra in Celeste."
	evt.SetNPCTopic{NPC = 80, Index = 1, Event = 170}         -- "Resurectra" : "Final Task"
end

-- "Final Task"
evt.global[170] = function()
	evt.ForPlayer(-- ERROR: Const not found
"All")
	if evt.Cmp{"Inventory", Value = 605} then         -- "Oscillation Overthruster"
		evt.Subtract{"Inventory", Value = 605}         -- "Oscillation Overthruster"
		evt.Subtract{"QBits", Value = 235}         -- Wetsuit - I lost it
		evt.Set{"QBits", Value = 374}         -- End Game
		evt.SetNPCTopic{NPC = 80, Index = 1, Event = 0}         -- "Resurectra"
		evt.ShowMovie{DoubleSize = 1, ExitCurrentScreen = true, Name = "\"Endgame 1 Good\" "}
		evt.SetNPCGroupNews{NPCGroup = 10, NPCNews = 33}         -- "Southern Village Group in Harmondy" : "I heard there was a gate built to the Ancients!  I wonder what they look like."
		evt.SetNPCGroupNews{NPCGroup = 11, NPCNews = 33}         -- "Main village in Harmondy" : "I heard there was a gate built to the Ancients!  I wonder what they look like."
		evt.SetNPCGroupNews{NPCGroup = 12, NPCNews = 33}         -- "Tent camp in Erathia" : "I heard there was a gate built to the Ancients!  I wonder what they look like."
		evt.SetNPCGroupNews{NPCGroup = 13, NPCNews = 33}         -- "Stedwick Group" : "I heard there was a gate built to the Ancients!  I wonder what they look like."
		evt.SetNPCGroupNews{NPCGroup = 14, NPCNews = 33}         -- "Stilt city dwellers in the Tularean Forest" : "I heard there was a gate built to the Ancients!  I wonder what they look like."
		evt.SetNPCGroupNews{NPCGroup = 15, NPCNews = 33}         -- "Group walkers in the Tularean forest" : "I heard there was a gate built to the Ancients!  I wonder what they look like."
		evt.SetNPCGroupNews{NPCGroup = 16, NPCNews = 33}         -- "Northern town on Deyja" : "I heard there was a gate built to the Ancients!  I wonder what they look like."
		evt.SetNPCGroupNews{NPCGroup = 17, NPCNews = 33}         -- "Southern town in Deyja" : "I heard there was a gate built to the Ancients!  I wonder what they look like."
		evt.SetNPCGroupNews{NPCGroup = 18, NPCNews = 35}         -- "Stable and Tele dwellers in Bracada" : "Congratulations on completing the gate!  Erathia is in your debt!"
		evt.SetNPCGroupNews{NPCGroup = 19, NPCNews = 35}         -- "Eastern village and boat dwellers in Bracada" : "Congratulations on completing the gate!  Erathia is in your debt!"
		evt.SetNPCGroupNews{NPCGroup = 20, NPCNews = 35}         -- "Ridge walkers in Bracada" : "Congratulations on completing the gate!  Erathia is in your debt!"
		evt.SetNPCGroupNews{NPCGroup = 21, NPCNews = 35}         -- "Peasents up till town fountain in Celeste" : "Congratulations on completing the gate!  Erathia is in your debt!"
		evt.SetNPCGroupNews{NPCGroup = 22, NPCNews = 35}         -- "Peasents after town fountain in Celeste" : "Congratulations on completing the gate!  Erathia is in your debt!"
		evt.SetNPCGroupNews{NPCGroup = 23, NPCNews = 33}         -- "Peasents in first area of the pit" : "I heard there was a gate built to the Ancients!  I wonder what they look like."
		evt.SetNPCGroupNews{NPCGroup = 24, NPCNews = 33}         -- "Peasents in the second area of the pit" : "I heard there was a gate built to the Ancients!  I wonder what they look like."
		evt.SetNPCGroupNews{NPCGroup = 25, NPCNews = 33}         -- "Peasents in the third area of the pit" : "I heard there was a gate built to the Ancients!  I wonder what they look like."
		evt.SetNPCGroupNews{NPCGroup = 26, NPCNews = 33}         -- "Peasents in main town of nighon" : "I heard there was a gate built to the Ancients!  I wonder what they look like."
		evt.SetNPCGroupNews{NPCGroup = 27, NPCNews = 33}         -- "Peasents in western town of Nighon" : "I heard there was a gate built to the Ancients!  I wonder what they look like."
		evt.SetNPCGroupNews{NPCGroup = 28, NPCNews = 33}         -- "Peasents in Eastern village of Nighon" : "I heard there was a gate built to the Ancients!  I wonder what they look like."
		evt.SetNPCGroupNews{NPCGroup = 29, NPCNews = 33}         -- "Peasents in the Mercenary guild village" : "I heard there was a gate built to the Ancients!  I wonder what they look like."
		evt.SetNPCGroupNews{NPCGroup = 30, NPCNews = 33}         -- "Peasents in the wharf town" : "I heard there was a gate built to the Ancients!  I wonder what they look like."
		evt.SetNPCGroupNews{NPCGroup = 31, NPCNews = 33}         -- "Peasents in the village area" : "I heard there was a gate built to the Ancients!  I wonder what they look like."
		evt.SetNPCGroupNews{NPCGroup = 32, NPCNews = 33}         -- "Peasents in the Dock area" : "I heard there was a gate built to the Ancients!  I wonder what they look like."
		evt.Set{-- ERROR: Not found
"Awards", Value = 108}
		evt.EnterHouse{Id = 600}         -- Win Good
	else
		evt.SetMessage{Str = 348}         -- "Don't forget you'll need the wetsuits to get to the Lincoln.  These suits are in the chest outside this throne room and the Lincoln is in the sea west of Avlee.  Return here with the Overthruster as soon as possible."
	end
end

-- "Final Task"
evt.global[171] = function()
	evt.SetMessage{Str = 349}         --[[ "Our finest hour is upon us.  While you have been taking care of all those important tasks, my compatriots and I have been struggling with our former friends for the parts we need to rebuild the Heavenly Forge of legend.  By former friends, I mean the four chief advisors to King Magnus of the Wizards.  They have a plan to build a gate to the Ancients.  They could have stood with us, but threw it all away on some vague hope of a 'better future'.  But you!  You have stood with us all this time.

Only one task remains--we need the Oscillation Overthruster from our old vehicle, the Lincoln.  We have been unable to find one on your world.  The ship is in the sea west of Avlee and secured against entry, even from ourselves.  Now you must wear our environment suits, enter the ship, and return with the Overthruster.  Our old environments suits have been prepared for you in the chest outside this throne room.  For the suit to function properly you must not be wearing any equipment.We will stand watch over the Forge, and defend it against our enemies.  Bring us the Overthruster, my friends, and together, we shall rule the world!" ]]
	evt.Add{"History27", Value = 0}
	evt.Set{"QBits", Value = 131}         -- "Go to the Lincoln in the sea west of Avlee and retrieve the Oscillation Overthruster and return it to Kastore in the Pit."
	evt.SetNPCTopic{NPC = 84, Index = 1, Event = 172}         -- "Kastore" : "Final Task"
end

-- "Final Task"
evt.global[172] = function()
	evt.ForPlayer(-- ERROR: Const not found
"All")
	if evt.Cmp{"Inventory", Value = 605} then         -- "Oscillation Overthruster"
		evt.Subtract{"Inventory", Value = 605}         -- "Oscillation Overthruster"
		evt.Subtract{"QBits", Value = 235}         -- Wetsuit - I lost it
		evt.Subtract{"QBits", Value = 236}         -- Final Part - I lost it
		evt.SetNPCTopic{NPC = 84, Index = 1, Event = 0}         -- "Kastore"
		evt.ShowMovie{DoubleSize = 1, ExitCurrentScreen = true, Name = "\"Endgame 2 Evil\" "}
		evt.SetNPCGroupNews{NPCGroup = 10, NPCNews = 34}         -- "Southern Village Group in Harmondy" : "I've heard rumors of goblins and undead armed with ancient weapons threatening to conquer Erathia!  How dreadful!"
		evt.SetNPCGroupNews{NPCGroup = 11, NPCNews = 34}         -- "Main village in Harmondy" : "I've heard rumors of goblins and undead armed with ancient weapons threatening to conquer Erathia!  How dreadful!"
		evt.SetNPCGroupNews{NPCGroup = 12, NPCNews = 34}         -- "Tent camp in Erathia" : "I've heard rumors of goblins and undead armed with ancient weapons threatening to conquer Erathia!  How dreadful!"
		evt.SetNPCGroupNews{NPCGroup = 13, NPCNews = 34}         -- "Stedwick Group" : "I've heard rumors of goblins and undead armed with ancient weapons threatening to conquer Erathia!  How dreadful!"
		evt.SetNPCGroupNews{NPCGroup = 14, NPCNews = 34}         -- "Stilt city dwellers in the Tularean Forest" : "I've heard rumors of goblins and undead armed with ancient weapons threatening to conquer Erathia!  How dreadful!"
		evt.SetNPCGroupNews{NPCGroup = 15, NPCNews = 34}         -- "Group walkers in the Tularean forest" : "I've heard rumors of goblins and undead armed with ancient weapons threatening to conquer Erathia!  How dreadful!"
		evt.SetNPCGroupNews{NPCGroup = 16, NPCNews = 36}         -- "Northern town on Deyja" : "Congratulations on completing the forge!  Victory will surely be ours!"
		evt.SetNPCGroupNews{NPCGroup = 17, NPCNews = 36}         -- "Southern town in Deyja" : "Congratulations on completing the forge!  Victory will surely be ours!"
		evt.SetNPCGroupNews{NPCGroup = 18, NPCNews = 34}         -- "Stable and Tele dwellers in Bracada" : "I've heard rumors of goblins and undead armed with ancient weapons threatening to conquer Erathia!  How dreadful!"
		evt.SetNPCGroupNews{NPCGroup = 19, NPCNews = 34}         -- "Eastern village and boat dwellers in Bracada" : "I've heard rumors of goblins and undead armed with ancient weapons threatening to conquer Erathia!  How dreadful!"
		evt.SetNPCGroupNews{NPCGroup = 20, NPCNews = 34}         -- "Ridge walkers in Bracada" : "I've heard rumors of goblins and undead armed with ancient weapons threatening to conquer Erathia!  How dreadful!"
		evt.SetNPCGroupNews{NPCGroup = 21, NPCNews = 34}         -- "Peasents up till town fountain in Celeste" : "I've heard rumors of goblins and undead armed with ancient weapons threatening to conquer Erathia!  How dreadful!"
		evt.SetNPCGroupNews{NPCGroup = 22, NPCNews = 34}         -- "Peasents after town fountain in Celeste" : "I've heard rumors of goblins and undead armed with ancient weapons threatening to conquer Erathia!  How dreadful!"
		evt.SetNPCGroupNews{NPCGroup = 23, NPCNews = 36}         -- "Peasents in first area of the pit" : "Congratulations on completing the forge!  Victory will surely be ours!"
		evt.SetNPCGroupNews{NPCGroup = 24, NPCNews = 36}         -- "Peasents in the second area of the pit" : "Congratulations on completing the forge!  Victory will surely be ours!"
		evt.SetNPCGroupNews{NPCGroup = 25, NPCNews = 36}         -- "Peasents in the third area of the pit" : "Congratulations on completing the forge!  Victory will surely be ours!"
		evt.SetNPCGroupNews{NPCGroup = 26, NPCNews = 34}         -- "Peasents in main town of nighon" : "I've heard rumors of goblins and undead armed with ancient weapons threatening to conquer Erathia!  How dreadful!"
		evt.SetNPCGroupNews{NPCGroup = 27, NPCNews = 34}         -- "Peasents in western town of Nighon" : "I've heard rumors of goblins and undead armed with ancient weapons threatening to conquer Erathia!  How dreadful!"
		evt.SetNPCGroupNews{NPCGroup = 28, NPCNews = 34}         -- "Peasents in Eastern village of Nighon" : "I've heard rumors of goblins and undead armed with ancient weapons threatening to conquer Erathia!  How dreadful!"
		evt.SetNPCGroupNews{NPCGroup = 29, NPCNews = 34}         -- "Peasents in the Mercenary guild village" : "I've heard rumors of goblins and undead armed with ancient weapons threatening to conquer Erathia!  How dreadful!"
		evt.SetNPCGroupNews{NPCGroup = 30, NPCNews = 34}         -- "Peasents in the wharf town" : "I've heard rumors of goblins and undead armed with ancient weapons threatening to conquer Erathia!  How dreadful!"
		evt.SetNPCGroupNews{NPCGroup = 31, NPCNews = 34}         -- "Peasents in the village area" : "I've heard rumors of goblins and undead armed with ancient weapons threatening to conquer Erathia!  How dreadful!"
		evt.SetNPCGroupNews{NPCGroup = 32, NPCNews = 34}         -- "Peasents in the Dock area" : "I've heard rumors of goblins and undead armed with ancient weapons threatening to conquer Erathia!  How dreadful!"
		evt.EnterHouse{Id = 601}         -- Win Evil
	else
		evt.SetMessage{Str = 351}         -- "Don't forget you'll need the environmental suits to get to the Lincoln.  These suits are in the chest outside the throne room, and the Lincoln is in the sea west of Avlee.  What else do you need to know?"
	end
end

-- "Enter Temple of Light"
evt.global[173] = function()
	evt.MoveToMap{X = -6784, Y = -2832, Z = 1649, Direction = 512, LookAngle = 0, SpeedZ = 0, HouseId = 0, Icon = 0, Name = "T01.blv"}
end

-- "Enter Temple of Dark"
evt.global[174] = function()
	evt.MoveToMap{X = 0, Y = -4059, Z = 513, Direction = 512, LookAngle = 0, SpeedZ = 0, HouseId = 0, Icon = 0, Name = "T02.blv"}
end

-- "Thomas Grey"
evt.global[175] = function()
	evt.SetMessage{Str = 480}         -- "Thomas Grey runs the School of Sorcery.  If you're looking for promotion to Wizard or Honorary Wizard, he's your man.  His room is right through the door behind me."
end

-- "Book Shop"
evt.CanShowTopic[176] = function()
	return not evt.Cmp{"QBits", Value = 145}         -- Membership to the School of Sorcery Scroll Shop
end

evt.global[176] = function()
	evt.SetMessage{Str = 481}         -- "Would you like a membership to the School of Sorcery Scroll Shop?  A membership allows you free access to the scrolls available in our library.  It costs 5000 gold for a six month membership, but the shop stocks once per week."
	evt.SetNPCTopic{NPC = 281, Index = 1, Event = 177}         -- "Eric Swarrel" : "Book Shop"
end

-- "Book Shop"
evt.global[177] = function()
	if evt.Cmp{"Gold", Value = 5000} then
		evt.SetMessage{Str = 482}         -- "Here's the membership, remember it only lasts for six months.  Check the shelves in the front rooms here to see what is available."
		evt.Set{"QBits", Value = 145}         -- Membership to the School of Sorcery Scroll Shop
		evt.Subtract{"Gold", Value = 5000}
		evt.SetNPCTopic{NPC = 281, Index = 1, Event = 0}         -- "Eric Swarrel"
	else
		evt.SetMessage{Str = 483}         -- "You don't have enough gold-- it's no use trying to fool a Wizard."
	end
end

-- "Zokarr's Bones"
evt.CanShowTopic[178] = function()
	return evt.Cmp{"QBits", Value = 54}         -- "Retrieve the bones of the Dwarf King from the tunnels between Stone City and Nighon and place them in their proper resting place in the Barrow Downs, then return to Anthony Green in the Tularean Forest."
end

evt.global[178] = function()
	evt.SetMessage{Str = 484}         -- "You want to bury the bones of Zokarr IV in our old barrows?  No dwarf here will brave the dangers, but Zokarr deserves to be laid to rest in the right place.  Look for the secret barrow, the one with only one entrance.  In there is a coffin waiting for Zokarr's bones."
	evt.Add{"Inventory", Value = 626}         -- "Zokarr IV's Skull"
	evt.Add{"QBits", Value = 228}         -- Dwarf Bones - I lost it
	evt.SetNPCTopic{NPC = 59, Index = 1, Event = 0}         -- "Hothfarr IX"
end

-- "Quest"
evt.global[179] = function()
	evt.SetMessage{Str = 485}         -- "We have no one to turn to but you, the new Lords of Harmondale. The Lantern of Light is a treasured holy relic, used by the temples of Erathia.  Its value is more symbolic than of power-- without it the temples servants lose faith.  This Lantern disappeared while being brought to this temple from the temple in Stone City.  We believe it was lost somewhere in the maze-like Barrows.  Please find it and return it to us."
	evt.SetNPCTopic{NPC = 93, Index = 0, Event = 180}         -- "Tarin Withern" : "Quest"
	evt.Set{"QBits", Value = 155}         -- "Retrieve the Lantern of Light from the Barrow Downs and return it to Tarin Withern in Harmondale."
end

-- "Quest"
evt.global[180] = function()
	evt.ForPlayer(-- ERROR: Const not found
"All")
	if evt.Cmp{"Inventory", Value = 648} then         -- "Lantern of Light"
		evt.SetMessage{Str = 487}         -- "Thank you, Lords of Harmondale.  The Lantern's return will bolster our faith and allows us to continue our services.  Please take this small reward as a token of our gratitude."
		evt.Subtract{"Inventory", Value = 648}         -- "Lantern of Light"
		evt.Add{"Awards", Value = 92}         -- "Returned Withern's Lantern"
		evt.Add{"Experience", Value = 5000}
		evt.ForPlayer(-- ERROR: Const not found
"Current")
		evt.Add{"Gold", Value = 1000}
		evt.Subtract{"QBits", Value = 155}         -- "Retrieve the Lantern of Light from the Barrow Downs and return it to Tarin Withern in Harmondale."
		evt.SetNPCTopic{NPC = 93, Index = 0, Event = 0}         -- "Tarin Withern"
		evt.SetNPCGreeting{NPC = 93, Greeting = 152}         -- "Tarin Withern" : "Thanks for returning the Lantern of Light.  Ceremonies can continue normally at the temple!"
		evt.Subtract{"Reputation", Value = 5}
	else
		evt.SetMessage{Str = 486}         -- "Have you found the Lantern of Light?  We're certain it was lost in the maze of Barrows in the Barrow Downs."
	end
end

-- "Quest"
evt.global[181] = function()
	evt.SetMessage{Str = 488}         -- "My, brother, Haldar passed away last month.  The family was sending his remains to me to be put to final rest.  Something happened to those delivering these remains to me; they disappeared in Nighon and not been heard from since. I fear my brothers soul will never rest unless they are found!  Please return Haldar to me if you find him? I will reward you well for this!"
	evt.SetNPCTopic{NPC = 94, Index = 0, Event = 182}         -- "Mazim Dusk" : "Quest"
	evt.Set{"QBits", Value = 156}         -- "Retrieve Haldar's Remains from the Maze in Nighon and return them to Mazim Dusk in Nighon."
end

-- "Quest"
evt.global[182] = function()
	evt.ForPlayer(-- ERROR: Const not found
"All")
	if evt.Cmp{"Inventory", Value = 628} then         -- "Haldar's Remains"
		evt.SetMessage{Str = 490}         -- "Thank you for returning my ""brother's"" remains!  He was a promising Warlock and his life was ended to soon.  Now that I have his remains, I will attempt to bring him back as a Lich, and together we will seek greater power and glory!"
		evt.Subtract{"Inventory", Value = 628}         -- "Haldar's Remains"
		evt.Add{"Awards", Value = 93}         -- "Returned Haldar's Remains"
		evt.Add{"Experience", Value = 50000}
		evt.ForPlayer(-- ERROR: Const not found
"Current")
		evt.Add{"Gold", Value = 35000}
		evt.Subtract{"QBits", Value = 156}         -- "Retrieve Haldar's Remains from the Maze in Nighon and return them to Mazim Dusk in Nighon."
		evt.SetNPCTopic{NPC = 94, Index = 0, Event = 0}         -- "Mazim Dusk"
		evt.SetNPCGreeting{NPC = 94, Greeting = 154}         -- "Mazim Dusk" : "My thanks for returning Haldar's remains!"
		evt.Subtract{"Reputation", Value = 5}
	else
		evt.SetMessage{Str = 489}         -- "Did you find Haldar's Remains?  His soul must be in sheer agony!  Please find the jar with his remains!"
	end
end

-- "Quest"
evt.global[183] = function()
	evt.SetMessage{Str = 491}         -- "My lords, I was beset by foul bandits when I returned from Avlee and they took everything I had brought with me from the Elves.  They even took my signet ring!  Without it I cannot continue my business because I cannot seal contracts between myself and other merchants.  I've heard the bandits base themselves out of a camp in Erathia, but I'm no warrior-- I'd not last a minute against them.  Please go to Erathia and see this justice done!"
	evt.SetNPCTopic{NPC = 95, Index = 0, Event = 184}         -- "Davrik Peladium" : "Quest"
	evt.Set{"QBits", Value = 157}         -- "Retrieve Davrik's Signet ring from the Bandit Caves in the northeast of Erathia and return it to Davrik Peladium in Erathia."
end

-- "Quest"
evt.global[184] = function()
	evt.ForPlayer(-- ERROR: Const not found
"All")
	if evt.Cmp{"Inventory", Value = 606} then         -- "Signet Ring"
		evt.SetMessage{Str = 493}         --[[ "My ring!  Thank you lords.  I can now continue my business and recover my losses, and you have made the trading routes safer for all the merchants! 

Take this key as your reward." ]]
		evt.Subtract{"Inventory", Value = 606}         -- "Signet Ring"
		evt.Add{"Awards", Value = 94}         -- "Returned Lord Davrik's signet Ring"
		evt.Add{"Experience", Value = 5000}
		evt.ForPlayer(-- ERROR: Const not found
"Current")
		evt.Add{"Inventory", Value = 670}         -- "Home Key"
		evt.Add{"Gold", Value = 5000}
		evt.Subtract{"QBits", Value = 157}         -- "Retrieve Davrik's Signet ring from the Bandit Caves in the northeast of Erathia and return it to Davrik Peladium in Erathia."
		evt.SetNPCTopic{NPC = 95, Index = 0, Event = 0}         -- "Davrik Peladium"
		evt.MoveNPC{NPC = 95, HouseId = 0}         -- "Davrik Peladium"
		evt.Subtract{"Reputation", Value = 5}
	else
		evt.SetMessage{Str = 492}         -- "You don't have my ring yet?  The bandits are south of Castle Gryphonheart in Erathia.  Please help me, I don't have anyone else to turn to."
	end
end

-- "Quest"
evt.global[185] = function()
	evt.SetMessage{Str = 494}         -- "So you are the Lords of Harmondale, eh?  You don’t look like much; we shall see how history judges you!  I myself am a historian and collector of rare historical items.  Lord Markham also collects such items of interest and there is one item in particular that would complete my collection, Parson's Quill-- the Quill used to sign the Treaty of Pierpont ending the first Timber War.  I know you have dealt with Lord Markham before, it's how you became Lords of this land after all, and if you would take this letter to Lord Markham in Tatalia, I'm sure he would respond favorably.  I would be even more in your debt if Lord Markham sends this item back with you!  I would be sure to favorably record your heroic acts and deeds!"
	evt.SetNPCTopic{NPC = 96, Index = 0, Event = 186}         -- "Norbert Thrush" : "Thrush's Letter"
	evt.Set{"QBits", Value = 158}         -- "Take Sealed Letter to Lord Markham in Lord Markham's Manor in Tatalia for collector Norbert Thrush."
	evt.Add{"Inventory", Value = 614}         -- "Letter from Norbert Thrush to Lord Markham"
end

-- "Thrush's Letter"
evt.global[186] = function()
	evt.ForPlayer(-- ERROR: Const not found
"All")
	if evt.Cmp{"Inventory", Value = 603} then         -- "Parson's Quill"
		evt.SetMessage{Str = 496}         -- "The actual Peacock feather that was used to sign the Treaty of Pierpont.  My collection is complete!  I will be sure to record your activities and deeds correctly and justly so that all will know you as the true Lords of Harmondale!"
		evt.Subtract{"Inventory", Value = 603}         -- "Parson's Quill"
		evt.Add{"Awards", Value = 95}         -- "Returned Parson's Quill to Norbert Thrush"
		evt.Add{"Experience", Value = 5000}
		evt.ForPlayer(-- ERROR: Const not found
"Current")
		evt.Add{"Gold", Value = 2000}
		evt.Subtract{"QBits", Value = 159}         -- "Return Parson's Quill to Norbert Thrush in Erathia."
		evt.SetNPCTopic{NPC = 96, Index = 0, Event = 0}         -- "Norbert Thrush"
		evt.SetNPCGreeting{NPC = 96, Greeting = 158}         -- "Norbert Thrush" : "Thank you for returning the Parson's Quill sent by Lord Markham.  You help has made my collection complete!"
		evt.Subtract{"Reputation", Value = 5}
	else
		evt.SetMessage{Str = 495}         -- "Did Lord Markham refuse to give you the Quill, or have you not even visited him yet?  His Manor is in Tatalia, please don't forget to help me."
	end
end

-- "Quest"
evt.global[187] = function()
	evt.ForPlayer(-- ERROR: Const not found
"All")
	evt.SetMessage{Str = 497}         -- "A letter from Norbert Thrush the Historian? Let me see it.  [Lord Markham scans the letter briefly] Hmmmmm…he wants the Peacock feather that was used to sign the Treaty of Pierpont, does he.  Well, seeing as though he has a supposed original of the Treaty, I guess the feather should go to him.  He has promised me anything else in his collection.  Take this to him and tell him that I will come collect from him shortly!"
	evt.Subtract{"Inventory", Value = 614}         -- "Letter from Norbert Thrush to Lord Markham"
	evt.ForPlayer(-- ERROR: Const not found
"Current")
	evt.Add{"Inventory", Value = 603}         -- "Parson's Quill"
	evt.Subtract{"QBits", Value = 158}         -- "Take Sealed Letter to Lord Markham in Lord Markham's Manor in Tatalia for collector Norbert Thrush."
	evt.Set{"QBits", Value = 159}         -- "Return Parson's Quill to Norbert Thrush in Erathia."
	evt.SetNPCTopic{NPC = 1, Index = 4, Event = 0}         -- "Lord Markham"
end

evt.CanShowTopic[187] = function()
	return evt.Cmp{"Inventory", Value = 614}         -- "Letter from Norbert Thrush to Lord Markham"
end

-- "Quest"
evt.global[188] = function()
	evt.SetMessage{Str = 498}         -- "I hear you folk are the new Lords of Harmondale, eh?  Perhaps you could do me a large favor, and help yourselves in the process.  To the north, in Avlee, lies the Hall under the Hill, the domain of the Faerie King.  He owes me a debt from a previous service of mine, and I would like to collect it.  Unfortunately, the faeries in the Hall and the tricks they play frighten me to death.  If you would deliver this letter to the Faerie King, and return what he gives you to me, I'd be very grateful.  You would also have the chance to meet the Faerie King for yourselves."
	evt.Add{"QBits", Value = 179}         -- "Take the sealed letter to the Faerie King in the Hall under the Hill in Avlee."
	evt.Add{"Inventory", Value = 607}         -- "Letter from Johann Kerrid to the Faerie King"
	evt.SetNPCTopic{NPC = 97, Index = 0, Event = 190}         -- "Johann Kerrid" : "Quest"
end

-- "Pipes"
evt.global[189] = function()
	evt.ForPlayer(-- ERROR: Const not found
"All")
	evt.SetMessage{Str = 65}         -- "So, Johann be wanting the Faerie Pipes, eh?  I can't say I'm surprised--he wouldn't come here himself, the coward.  The Pipes will cost you, though… all your food.  Of course, I've got some delightful food down below, should thee be wanting to restock your packs."
	evt.Subtract{"Inventory", Value = 607}         -- "Letter from Johann Kerrid to the Faerie King"
	evt.Add{"Experience", Value = 2000}
	evt.ForPlayer(-- ERROR: Const not found
"Current")
	evt.Add{"Inventory", Value = 633}         -- "Faerie Pipes"
	evt.SetNPCTopic{NPC = 52, Index = 1, Event = 0}         -- "Faerie King"
	evt.Subtract{"QBits", Value = 179}         -- "Take the sealed letter to the Faerie King in the Hall under the Hill in Avlee."
	evt.Add{"QBits", Value = 180}         -- "Take the Faerie Pipes to Johann Kerrid in the Tularean Forest."
	evt.Set{"Food", Value = 0}
end

evt.CanShowTopic[189] = function()
	return evt.Cmp{"Inventory", Value = 607}         -- "Letter from Johann Kerrid to the Faerie King"
end

-- "Quest"
evt.global[190] = function()
	evt.ForPlayer(-- ERROR: Const not found
"All")
	if evt.Cmp{"Inventory", Value = 633} then         -- "Faerie Pipes"
		evt.SetMessage{Str = 499}         -- "Excellent!  The Pipes!  You don't know what this means to me.  Here, take this as a reward and thank you again for your help in this!"
		evt.Subtract{"Inventory", Value = 633}         -- "Faerie Pipes"
		evt.Add{"Experience", Value = 5000}
		evt.ForPlayer(-- ERROR: Const not found
"Current")
		evt.Add{"Awards", Value = 96}         -- "Returned Faerie Pipes to Johann Kerrid"
		evt.Add{"Gold", Value = 1000}
		evt.Subtract{"QBits", Value = 180}         -- "Take the Faerie Pipes to Johann Kerrid in the Tularean Forest."
		evt.SetNPCTopic{NPC = 97, Index = 0, Event = 0}         -- "Johann Kerrid"
		evt.SetNPCGreeting{NPC = 97, Greeting = 160}         -- "Johann Kerrid" : "Thank you so much for returning the Faerie Pipes to me!  I would have never been able to brave the Hall under the Hill myself."
		evt.Subtract{"Reputation", Value = 5}
	else
		evt.SetMessage{Str = 500}         -- "Don't forget to give the letter to the Faerie King.  Without it, he probably won't even want to talk to you."
	end
end

-- "Quest"
evt.CanShowTopic[191] = function()
	local result
	if not evt.Cmp{"QBits", Value = 183} then         -- Failed either goto or do guild quest
		result = evt.Cmp{"QBits", Value = 99}         -- Chose the path of Light
	end
	return false
end

evt.global[191] = function()
	evt.SetMessage{Str = 501}         -- "We request your services for only one small task.  In Castle Lambent rests a valuable tapestry taken from an attack on Watchtower 3 years ago.  I would like you to get the tapestry for me, as you must have *some* access to the Castle-- my normal associates can't even come near the place.  I hear a large band of goblins and renegade swordsmen are about... it would be a shame if they happened to find a way to Harmondale.  You have one month to get the tapestry.  Don't be late."
	evt.Set{"QBits", Value = 182}         -- "Steal the Tapestry from your associate's Castle and return it to Niles Stantley in the Mercenary Guild in Tatalia."
	evt.Set{"Counter5", Value = 0}
	evt.SetNPCTopic{NPC = 99, Index = 0, Event = 193}         -- "Niles Stantley" : "Quest"
end

-- "Quest"
evt.CanShowTopic[192] = function()
	local result
	if not evt.Cmp{"QBits", Value = 183} then         -- Failed either goto or do guild quest
		result = evt.Cmp{"QBits", Value = 100}         -- Chose the path of Dark
	end
	return false
end

evt.global[192] = function()
	evt.SetMessage{Str = 502}         -- "We request your services for one task.  A rare and valuable tapestry rests in Castle Gloaming, an antique from near the Silence stolen from the wizards some time ago.  I would like you to get the tapestry for me, as my normal associates don't have access to Castle Gloaming.  In return, I'll make sure that the large band of renegade swordsmen and goblins near Harmondale don't accidentally stumble upon your quiet, little village.  You have one month; don't be late."
	evt.Set{"QBits", Value = 182}         -- "Steal the Tapestry from your associate's Castle and return it to Niles Stantley in the Mercenary Guild in Tatalia."
	evt.Set{"Counter5", Value = 0}
	evt.SetNPCTopic{NPC = 99, Index = 1, Event = 193}         -- "Niles Stantley" : "Quest"
end

-- "Quest"
evt.global[193] = function()
	evt.ForPlayer(-- ERROR: Const not found
"All")
	if evt.Cmp{"Counter5", Value = 672} then
		evt.SetMessage{Str = 504}         -- "I see.  Well, it would appear that the band of renegades has indeed discovered your little town, and has begun looting.  You may find your bank account a little, well, pinched.  Consider this a lesson in punctuality.  Go now and have a pleasant, pleasant day."
		evt.Add{"QBits", Value = 183}         -- Failed either goto or do guild quest
	else
		if evt.Cmp{"Inventory", Value = 620} then         -- "Big Tapestry"
			evt.SetMessage{Str = 503}         -- "Excellent!  I see that you can be trusted to perform well when called upon.  I'll keep that in mind the next time I need a job done.  Your reward is nothing more than status quo-- things could be much worse than they already are.  Go now, I have no more time for you."
			evt.Subtract{"Inventory", Value = 620}         -- "Big Tapestry"
			evt.Add{"Reputation", Value = 5}
			evt.Add{"QBits", Value = 190}         -- Finished with Malwick & Assc.
			evt.Subtract{"QBits", Value = 182}         -- "Steal the Tapestry from your associate's Castle and return it to Niles Stantley in the Mercenary Guild in Tatalia."
			evt.SetNPCTopic{NPC = 99, Index = 0, Event = 0}         -- "Niles Stantley"
			evt.SetNPCTopic{NPC = 99, Index = 1, Event = 0}         -- "Niles Stantley"
			evt.SetNPCTopic{NPC = 99, Index = 2, Event = 0}         -- "Niles Stantley"
		else
			evt.SetMessage{Str = 73}         -- "You don't have the tapestry yet, and the clock is ticking.  It would be prudent to keep to the task at hand rather than bothering me with your babble."
		end
	end
end

-- "Quest"
evt.global[194] = function()
	evt.SetMessage{Str = 505}         -- "A few years back, while mining underneath Stone City, we came upon quite a shock.  It seems that the Warlocks from Nighon had burrowed under the sea to make a sneak attack upon the shores of Erathia.  Their careless tunneling has sunken the earth around here until now the areas around the old dwarven barrows and, of course, Stone City, rest far above the terrain.  We discovered a force of troglodytes in our mining areas, with a tunnel leading back to Nighon.  If you could help us by ridding the tunnels of the troglodytes, we could get back to mining.  Can you help us?"
	evt.Set{"QBits", Value = 186}         -- "Kill all the Troglodytes underneath Stone City and return to Spark Burnkindle in Stone City."
	evt.SetNPCTopic{NPC = 100, Index = 0, Event = 195}         -- "Spark Burnkindle" : "Quest"
end

-- "Quest"
evt.global[195] = function()
	if not evt.CheckMonstersKilled{CheckType = 2, Id = 213, Count = 0} then
		evt.SetMessage{Str = 506}         -- "There are still troglodytes roaming the lower mine levels.  Please remove them!"
	else
		if not evt.CheckMonstersKilled{CheckType = 2, Id = 214, Count = 0} then
			evt.SetMessage{Str = 506}         -- "There are still troglodytes roaming the lower mine levels.  Please remove them!"
		else
			if evt.CheckMonstersKilled{CheckType = 2, Id = 215, Count = 0} then
				evt.SetMessage{Str = 507}         -- "They're gone?  Routed back into the connecting tunnels to Nighon!  Excellent!  We can get back to mining immediately!  Thank you so much for your help; take this as a reward for your services."
				evt.Add{"Gold", Value = 2500}
				evt.ForPlayer(-- ERROR: Const not found
"All")
				evt.Add{"Experience", Value = 5000}
				evt.Subtract{"QBits", Value = 186}         -- "Kill all the Troglodytes underneath Stone City and return to Spark Burnkindle in Stone City."
				evt.Set{"Awards", Value = 97}         -- "Troglodyte Slayer"
				evt.SetNPCTopic{NPC = 100, Index = 0, Event = 0}         -- "Spark Burnkindle"
				evt.Subtract{"Reputation", Value = 10}
				evt.SetNPCGreeting{NPC = 100, Greeting = 164}         -- "Spark Burnkindle" : "Thank you for helping us by getting rid of those nasty Troglodytes!"
			else
				evt.SetMessage{Str = 506}         -- "There are still troglodytes roaming the lower mine levels.  Please remove them!"
			end
		end
	end
end

-- "The Kennel"
evt.global[196] = function()
	evt.ForPlayer(-- ERROR: Const not found
"All")
	if evt.Cmp{"Inventory", Value = 782} then         -- "Journal of Experiments"
		evt.SetMessage{Str = 92}         -- "The Journal!!!  I knew you were up to the task.  You have done the crown a great service.  I hereby grant you the title of ‘The Queen’s Champions’."
		evt.Subtract{"QBits", Value = 29}         -- "Kill the creatures in the Kennel and return to Queen Catherine with the Journal of Experiments.."
		evt.Add{"Experience", Value = 50000}
		evt.Set{"Awards", Value = 9}         -- "Declared the Queen’s Champions"
		evt.SetNPCTopic{NPC = 69, Index = 0, Event = 0}         -- "Queen Catherine"
		evt.SetNPCGreeting{NPC = 69, Greeting = 20}         -- "Queen Catherine" : "The door to the west leads to the local Tavern.  The tavern is a safe place to sleep at night, and to buy food so you can sleep outdoors.  You can often meet interesting people in taverns, or catch the local gossip if you're looking for something to do.  To enter the tavern, just click on the front door."
		evt.Subtract{"Inventory", Value = 782}         -- "Journal of Experiments"
	else
		evt.SetMessage{Str = 91}         --[[ " During our recent disputes with the Elves, we began conducting experiments to produce the ultimate combat instrument, a creature with no fear and great predatory abilities.  These experiments were conducted in an abandoned tomb appropriately renamed ‘the Kennel’, located along the southeastern shore of the Erathian River.

Well, our experiments were far too successful and the creatures turned on their handlers and devoured them. I have sent small contingents of my personal retinue to dispense of these creatures, but none has returned.  I assume them all dead.

I need you to proceed to the Kennel, eliminate all creatures, obtain the Journal of Experiments, and return to me.  The reward will be commensurate with your efforts.

Oh! before I forget.  The entrance to the Kennel is secured by a cipher lock.  The combination is Top, Right, Bottom, Left, Center.  Good luck!" ]]
		evt.Set{"QBits", Value = 29}         -- "Kill the creatures in the Kennel and return to Queen Catherine with the Journal of Experiments.."
	end
end

-- "Control Cube"
evt.global[197] = function()
	evt.ForPlayer(-- ERROR: Const not found
"All")
	if evt.Cmp{"Inventory", Value = 675} then         -- "Control Cube"
		if evt.Cmp{"Awards", Value = 32} then         -- "Declared Friends of ‘The Game’"
			evt.Subtract{"NPCs", Value = 21}         -- "Zedd True Shot"
			evt.Subtract{"NPCs", Value = 18}         -- "Lord Godwinson"
			evt.Subtract{"NPCs", Value = 20}         -- "Baron BunGleau"
			evt.Subtract{"NPCs", Value = 35}         -- "Sir Vilx of Stone City"
			evt.Subtract{"NPCs", Value = 34}         -- "Duke Bimbasto"
			evt.Subtract{"NPCs", Value = 37}         -- "Pascal the Mad Mage"
			evt.SetMessage{Str = 251}         -- "Excellent!  Now that we have the Control Cube, you need to see Resurectra in Castle Lambent.  She will provide details on your next assignment."
			evt.Subtract{"QBits", Value = 362}         -- " Enter the Treasury in Deja, find the key and enter the Vault, retrieve the Control Cube, and return to Robert the Wise in Celeste."
			evt.Subtract{"Inventory", Value = 675}         -- "Control Cube"
			evt.SetNPCTopic{NPC = 83, Index = 0, Event = 0}         -- "Robert the Wise"
			evt.MoveNPC{NPC = 83, HouseId = 0}         -- "Robert the Wise"
			evt.Set{"Awards", Value = 14}         -- "Retrieved Control Cube"
			evt.Add{"Experience", Value = 500000}
			evt.SetNPCTopic{NPC = 80, Index = 1, Event = 155}         -- "Resurectra" : "Strike the Devils"
		else
			evt.Set{"Awards", Value = 33}         -- "Hall of Shame Award ‘Unfaithful Friends’"
			evt.Subtract{"Inventory", Value = 675}         -- "Control Cube"
			evt.Set{"Eradicated", Value = 0}
		end
	else
		if not evt.Cmp{"QBits", Value = 362} then         -- " Enter the Treasury in Deja, find the key and enter the Vault, retrieve the Control Cube, and return to Robert the Wise in Celeste."
			evt.SetMessage{Str = 23}         --[[ "Our preparations are nearing completion.  However we first need to obtain an artifact known as the ‘Control Cube’.  This artifact is guarded by Jester’s Folly, a dragon of such power that all other creatures flee from its presence!  This dragon resides in the Vault, a cavern deep within the bowls of Deja. The entrance to the Vault is guarded by the Treasury, a bulwark fortress built by the Necromancers to protect the artifact.

We need your party to break into the Treasury, find the key, enter the Vault, slay Jester’s Folly, retrieve the Control Cube, and return to me.

Duke Bimbasto and Sir Vilx.., Erathia's Greatest Champions, have offered their assistance.  They will meet you at the entrance to the Treasury.

Be careful on this quest.  The dangers are many, and the foes are plenty." ]]
			evt.Set{"QBits", Value = 362}         -- " Enter the Treasury in Deja, find the key and enter the Vault, retrieve the Control Cube, and return to Robert the Wise in Celeste."
			evt.SetNPCGreeting{NPC = 83, Greeting = 22}         -- "Robert the Wise" : "You must bring the Control Cube to me."
		end
	end
end

-- "Mourning"
evt.global[198] = function()
	evt.SetMessage{Str = 741}         -- "Pardon me, strangers, but I'm not feeling very sociable right now.  My brother Elrond has recently departed this world and my grief is great at his passing."
	evt.SetNPCTopic{NPC = 285, Index = 0, Event = 516}         -- "Darron Temper" : "Can we help?"
end

-- "Quest"
evt.global[199] = function()
	evt.ForPlayer(-- ERROR: Const not found
"All")
	if evt.Cmp{"Inventory", Value = 651} then         -- "Arcomage Deck"
		evt.SetMessage{Str = 452}         -- "Dead?  Oh dear!  Those are certainly his cards, though.  I don't want the cards; you can have them-- that game has cost me enough now.  Oh, poor Elron!  I have a little money you can keep for your help, and thank you for finding out what happened to Elron."
		evt.Add{"Experience", Value = 2000}
		evt.ForPlayer(-- ERROR: Const not found
"Current")
		evt.Subtract{"QBits", Value = 194}         -- "Find the fate of Darron's brother in the White Cliff Caves, then return to Darron Temper in Harmondale."
		evt.Add{"Gold", Value = 750}
		evt.SetNPCTopic{NPC = 285, Index = 0, Event = 0}         -- "Darron Temper"
		evt.Subtract{"Reputation", Value = 5}
	else
		evt.SetMessage{Str = 451}         -- "Still no sign of him?  I understand.  If you do happen to find out what happened to him, please let me know."
	end
end

-- "Quest"
evt.CanShowTopic[313] = function()
	return evt.Cmp{"QBits", Value = 99}         -- Chose the path of Light
end

evt.global[313] = function()
	evt.SetMessage{Str = 453}         -- "The School of Sorcery here in the Bracada Desert collects a number of odd magical paraphernalia.  A few years ago an item of particular interest was stolen from the School by raiders from Deyja.  This item, the Seasons' Stole, was worn by Priests of the Sun during religious ceremonies at the turn of the seasons.  As a representative of the School of Sorcery, I'm authorized to reward you for its return.  Our last information placed the stolen Stole in the Hall of the Pit; I would suggest checking there first."
	evt.Add{"QBits", Value = 195}         -- "Retrieve the Seasons' Stole from the Hall of the Pit and return it to Gary Zimm in the Bracada Desert."
	evt.SetNPCTopic{NPC = 286, Index = 0, Event = 314}         -- "Gary Zimm" : "Quest"
end

-- "Quest"
evt.global[314] = function()
	evt.ForPlayer(-- ERROR: Const not found
"All")
	if evt.Cmp{"Inventory", Value = 638} then         -- "Season's Stole"
		evt.SetMessage{Str = 455}         -- "Excellent!  This most certainly is the Seasons' Stole.  Here is your reward; you've done both the School of Sorcery and myself a great service."
		evt.Subtract{"Inventory", Value = 638}         -- "Season's Stole"
		evt.Add{"Experience", Value = 7500}
		evt.ForPlayer(-- ERROR: Const not found
"Current")
		evt.Add{"Gold", Value = 7500}
		evt.Subtract{"QBits", Value = 195}         -- "Retrieve the Seasons' Stole from the Hall of the Pit and return it to Gary Zimm in the Bracada Desert."
		evt.Add{"Awards", Value = 99}         -- "Retrieved the Seasons' Stole"
		evt.Subtract{"Reputation", Value = 5}
		evt.SetNPCTopic{NPC = 286, Index = 0, Event = 0}         -- "Gary Zimm"
	else
		evt.SetMessage{Str = 454}         -- "Don't forget there is a reward for the Seasons' Stole if you are able to find it and return it to me."
	end
end

-- "Elsie Pederton"
evt.global[315] = function()
	evt.SetMessage{Str = 514}         -- "The Master instructor of the Staff, Elsie Pederton, can be found in the Bracada Desert, on a ridge in the southwest region."
	evt.Set{"AutonotesBits", Value = 128}         -- "The Master instructor of the Staff, Elsie Pederton, can be found in the Bracada Desert, on a ridge in the southwest region."
end

-- "Jillian Mithrit"
evt.global[316] = function()
	evt.SetMessage{Str = 515}         -- "The ultimate teacher in the ways of the Staff, Jillian Mithrit, can be found in the elven territory of Avlee.  Her home is in the city in the northeast."
	evt.Set{"AutonotesBits", Value = 129}         -- "The ultimate teacher in the ways of the Staff, Jillian Mithrit, can be found in the elven territory of Avlee.  Her home is in the city in the northeast."
end

-- "Swordsmanship"
evt.global[317] = function()
	evt.SetMessage{Str = 516}         -- "As you can see, the Master instructor of the Sword, Tugor Slicer, maintains his residence with my brother and myself here on Emerald Island.  Return to us when you need advancement with the blade."
	evt.Set{"AutonotesBits", Value = 130}         -- "The Master instructor of the Sword, Tugor Slicer, lives with the Telmar brothers on Emerald Island."
end

-- "Chadric Townsaver"
evt.global[318] = function()
	evt.SetMessage{Str = 517}         -- "The Grandmaster of the Sword, Chadric Townsaver, can be found in a small village in Welnin, just south of the city of Harmondale."
	evt.Set{"AutonotesBits", Value = 131}         -- "The Grandmaster of the Sword, Chadric Townsaver, can be found in a small village in Welnin, just south of the city of Harmondale."
end

-- "Aznog Slasher"
evt.global[319] = function()
	evt.SetMessage{Str = 518}         -- "The Master tutor of the Dagger, Aznog Slasher, can be found in the northern region of Nighon."
	evt.Set{"AutonotesBits", Value = 132}         -- "The Master tutor of the Dagger, Aznog Slasher, can be found in the northern region of Nighon."
end

-- "Tonken Fist"
evt.global[320] = function()
	evt.SetMessage{Str = 519}         -- "The Grandmaster of the Dagger, Token Fist, can be found in city of Tidewater in Tatalia.  Rumor has it that the Master Thief in the depths of the Erathian Sewers beneath the capitol city of Steadwick can also instruct at this level."
	evt.Set{"AutonotesBits", Value = 133}         -- "The Grandmaster of the Dagger, Token Fist, can be found in city of Tidewater in Tatalia.  Rumor has it that the Master Thief in the depths of the Erathian Sewers beneath the capitol city of Steadwick can also instruct at this level."
end

-- "Dalin Keenedge"
evt.global[321] = function()
	evt.SetMessage{Str = 520}         -- "The Master Instructor of all that is the Axe, Dalin Keenedge, can be found in the northeast corner of Stone City."
	evt.Set{"AutonotesBits", Value = 134}         -- "The Master Instructor of all that is the Axe, Dalin Keenedge, can be found in the northeast corner of Stone City."
end

-- "Karn Stonecleaver"
evt.global[322] = function()
	evt.SetMessage{Str = 521}         -- "The ultimate teacher of the uses of the Axe, Karn Stonecleaver, can be found in the snowy heights of the northeast region of Tatalia."
	evt.Set{"AutonotesBits", Value = 135}         -- "The ultimate teacher of the uses of the Axe, Karn Stonecleaver, can be found in the snowy heights of the northeast region of Tatalia."
end

-- "Claderin Silverpoint"
evt.global[323] = function()
	evt.SetMessage{Str = 522}         -- "The Master teacher, Claderin Silverpoint, can be found in the northeast section of the city of Pierpont in the elven region of the Tularean Forest. There he will further you knowledge of the Spear."
	evt.Set{"AutonotesBits", Value = 136}         -- "The Master teacher, Claderin Silverpoint, can be found in the northeast section of the city of Pierpont in the elven region of the Tularean Forest. There he will further you knowledge of the Spear."
end

-- "Seline Falconeye"
evt.global[324] = function()
	evt.SetMessage{Str = 523}         -- "The Grandmaster of the Spear, Selene Falconeye, makes her home in the northeast corner of Stone City."
	evt.Set{"AutonotesBits", Value = 137}         -- "The Grandmaster of the Spear, Selene Falconeye, makes her home in the northeast corner of Stone City."
end

-- "Lanshee Ravensight"
evt.global[325] = function()
	evt.SetMessage{Str = 524}         -- "The Master tutor of the Bow, Lanshee Ravensight, lives in the northern regions of Nighon."
	evt.Set{"AutonotesBits", Value = 138}         -- "The Master tutor of the Bow, Lanshee Ravensight, lives in the northern regions of Nighon."
end

-- "Cardric the Steady"
evt.global[326] = function()
	evt.SetMessage{Str = 525}         -- "The Grandmaster of the Bow, Cardric the Steady, can be found just to the southeast of the castle in the city of Harmondale."
	evt.Set{"AutonotesBits", Value = 139}         -- "The Grandmaster of the Bow, Cardric the Steady, can be found just to the southeast of the castle in the city of Harmondale."
end

-- "Brother Rothham"
evt.global[327] = function()
	evt.SetMessage{Str = 526}         -- "The Master instructor of the Mace, Brother Rothham, can be found in the southern region of the swamps of Tatalia."
	evt.Set{"AutonotesBits", Value = 140}         -- "The Master instructor of the Mace, Brother Rothham, can be found in the southern region of the swamps of Tatalia."
end

-- "Patwin Fellbern"
evt.global[328] = function()
	evt.SetMessage{Str = 527}         -- "The Grandmaster of the Mace, Patwin Felburn, teaches from his home in the goblin village found in the eastern area of the Deyja. "
	evt.Set{"AutonotesBits", Value = 141}         -- "The Grandmaster of the Mace, Patwin Felburn, teaches from his home in the goblin village found in the eastern area of Deyja."
end

-- "Isram Gallowswell"
evt.global[329] = function()
	evt.SetMessage{Str = 528}         -- "My Master, Isram Gallowswell, can be found in the snowy heights of the northeast area of Tatalia. You will gain further instruction in the Shield there."
	evt.Set{"AutonotesBits", Value = 142}         -- "My Master, Isram Gallowswell, can be found in the snowy heights of the northeast area of Tatalia. You will gain further instruction in the Shield there."
end

-- "Fedwin Smithson"
evt.global[330] = function()
	evt.SetMessage{Str = 529}         -- "The Grandmaster of the Shield, Fedwin Smithson, can be found on the eastern island of the Evenmorn Islands."
	evt.Set{"AutonotesBits", Value = 143}         -- "The Grandmaster of the Shield, Fedwin Smithson, can be found on the eastern island of the Evenmorn Islands."
end

-- "Rabisa Nedlon"
evt.global[331] = function()
	evt.SetMessage{Str = 530}         -- "The Master tutor of Leather Armor, Rabisa Neldon, lives in the northern regions of Nighon."
	evt.Set{"AutonotesBits", Value = 144}         -- "The Master tutor of Leather Armor, Rabisa Neldon, lives in the northern regions of Nighon."
end

-- "Miyon the Quick"
evt.global[332] = function()
	evt.SetMessage{Str = 531}         -- "The Grandmaster of Leather Armor, Miyon the Quick, can be found in the eastern section of the city of Pierpont in the elven region of the Tularean Forest."
	evt.Set{"AutonotesBits", Value = 145}         -- "The Grandmaster of Leather Armor, Miyon the Quick, can be found in the eastern section of the city of Pierpont in the elven region of the Tularean Forest."
end

-- "Medwari Dragontracker"
evt.global[333] = function()
	evt.SetMessage{Str = 532}         -- "The Master instructor of uses of Chain Armor, Medwari Dragontracker, can be found in the elven territory of Avlee.  His home is in the city in the northeast."
	evt.Set{"AutonotesBits", Value = 146}         -- "The Master instructor of uses of Chain Armor, Medwari Dragontracker, can be found in the elven territory of Avlee.  His home is in the city in the northeast."
end

-- "Halian Nevermore"
evt.global[334] = function()
	evt.SetMessage{Str = 533}         -- "The Grandmaster instructor of Chain Armor, Halian Nevermore, maintains his residence in a large city in the northwest region of Deyja."
	evt.Set{"AutonotesBits", Value = 147}         -- "The Grandmaster instructor of Chain Armor, Halian Nevermore, maintains his residence in a large city in the northwest region of Deyja."
end

-- "Dekian Forgewright"
evt.global[335] = function()
	evt.SetMessage{Str = 534}         -- "My Master, Dekian Forgewright, makes his home in Erathia in the capitol city of Steadwick. He can provide further instruction in the uses of Plate Armor."
	evt.Set{"AutonotesBits", Value = 148}         -- "My Master, Dekian Forgewright, makes his home in Erathia in the capitol city of Steadwick. He can provide further instruction in the uses of Plate Armor."
end

-- "Brand the Maker"
evt.global[336] = function()
	evt.SetMessage{Str = 535}         -- "The Grandmaster of Plate Armor, Brand the Maker, can be found in the Bracada desert, on a ridge in the central region."
	evt.Set{"AutonotesBits", Value = 149}         -- "The Grandmaster of Plate Armor, Brand the Maker, can be found in the Bracada desert, on a ridge in the central region."
end

-- "Ashen Temper"
evt.global[337] = function()
	evt.SetMessage{Str = 536}         -- "The Master tutor of Fire Magic, Ashen Temper, can be found in  her home in the Tularean Forest ."
	evt.Set{"AutonotesBits", Value = 150}         -- "The Master tutor of Fire Magic, Ashen Temper, can be found in her home in the Tularean Forest "
end

-- "Blayze "
evt.global[338] = function()
	evt.SetMessage{Str = 537}         -- "The Grandmaster of Fire Magic, Blayze, makes his home on Emerald Island."
	evt.Set{"AutonotesBits", Value = 151}         -- "The Grandmaster of Fire Magic, Blayze, makes his home in Emerald Island."
end

-- "Rislyn Greenstorm"
evt.global[339] = function()
	evt.SetMessage{Str = 538}         -- "The Master tutor of Air Magic, Rislyn Greenstorm, lives in the elven territory of Avlee.  His home is in the city in the northeast."
	evt.Set{"AutonotesBits", Value = 152}         -- "The Master tutor of Air Magic, Rislyn Greenstorm, lives in the elven territory of Avlee.  His home is in the city in the northeast."
end

-- "Gayle"
evt.global[340] = function()
	evt.SetMessage{Str = 539}         -- "The Grandmaster of Air Magic, Gayle, can be found in a tower in the Bracada desert, on a ridge in the northern region."
	evt.Set{"AutonotesBits", Value = 153}         -- "The Grandmaster of Air Magic, Gayle, can be found in a tower in the Bracada desert, on a ridge in the northern region."
end

-- "Tobren Rainshield"
evt.global[341] = function()
	evt.SetMessage{Str = 540}         -- "The Master tutor of the uses of Water Magic, Tobren Rainshield, travels with the Lady Margaret which docks in Emerald Island."
	evt.Set{"AutonotesBits", Value = 154}         -- "The Master tutor of the uses of Water Magic, Tobren Rainshield, travels with the Lady Margaret.  The fine Lady docks in Emerald Island."
end

-- "Torrent"
evt.global[342] = function()
	evt.SetMessage{Str = 541}         -- "The Grandmaster of Water Magic, Torrent, lives on a ridge, south of Harmondale, overlooking the city."
	evt.Set{"AutonotesBits", Value = 155}         -- "The Grandmaster of Water Magic, Torrent, lives on a ridge, south of Harmondale, overlooking the city."
end

-- "Lara Stonewright"
evt.global[343] = function()
	evt.SetMessage{Str = 542}         -- "The Master tutor of Earth Magic, Lara Stonewright, makes her home in the elven territory of the Tularean Forest.  Her residence is in the city of Pierpont."
	evt.Set{"AutonotesBits", Value = 156}         -- "The Master tutor of Earth Magic, Lara Stonewright, makes her home in the elven territory of the Tularean Forest.  Her residence is in the city of Pierpont."
end

-- "Avalanche"
evt.global[344] = function()
	evt.SetMessage{Str = 543}         -- "The Grandmaster instructor of Earth Magic, Avalanche, maintains his residence in the western region of the Deyja."
	evt.Set{"AutonotesBits", Value = 157}         -- "The Grandmaster instructor of Earth Magic, Avalanche, maintains his residence in the western region of the Deyja."
end

-- "Heather Dreamwright"
evt.global[345] = function()
	evt.SetMessage{Str = 544}         -- "The Master who taught me, Heather Dreamwright, makes her home in Erathia, somewhere in the capitol city of Steadwick.  Further knowledge of Spirit Magic can be gained there."
	evt.Set{"AutonotesBits", Value = 158}         -- "The Master who taught me, Heather Dreamwright, makes her home in Erathia, somewhere in the capitol city of Steadwick.  Further knowledge of Spirit Magic can be gained there."
end

-- "Benjamin the Balanced"
evt.global[346] = function()
	evt.SetMessage{Str = 545}         -- "The ultimate teacher in the ways of Spirit Magic, Benjamin the Balanced, can be found in the elven territory of the Tularean Forest.  His home is in the city of Pierpont."
	evt.Set{"AutonotesBits", Value = 159}         -- "The ultimate teacher in the ways of Spirit Magic, Benjamin the Balanced, can be found in the elven territory of the Tularean Forest.  His home is in the city of Pierpont."
end

-- "Myles Featherwind"
evt.global[347] = function()
	evt.SetMessage{Str = 546}         -- "The Master teacher in the ways of Mind Magic, Myles Featherwind, can be found in the elven territory of Avlee.  His home is in the city to the northeast."
	evt.Set{"AutonotesBits", Value = 160}         -- "The Master teacher in the ways of Mind Magic, Myles Featherwind, can be found in the elven territory of Avlee.  His home is in the city to the northeast."
end

-- "Xavier Bremen"
evt.global[348] = function()
	evt.SetMessage{Str = 547}         -- "The Grandmaster of Mind Magic, Xavier Bremen, can be found in the snowy heights of the northeast area of Tatalia. "
	evt.Set{"AutonotesBits", Value = 161}         -- "The Grandmaster of Mind Magic, Xavier Bremen, can be found in the snowy heights of the northeast area of Tatalia. "
end

-- "Brother Bombah"
evt.global[349] = function()
	evt.SetMessage{Str = 548}         -- "The Master teacher in the ways of Body Magic, Brother Bombah, can be found in the swampy regions of Tatalia.  His home is somewhere in the southern region."
	evt.Set{"AutonotesBits", Value = 162}         -- "The Master teacher in the ways of Body Magic, Brother Bombah, can be found in the swampy regions of Tatalia.  His home is somewhere in the southern region."
end

-- "Tempus"
evt.global[350] = function()
	evt.SetMessage{Str = 549}         -- "The Grandmaster teacher in the ways of Body Magic, Tempus, can be found in the elven territory of Avlee.  His home is on an island somewhere in the central bay."
	evt.Set{"AutonotesBits", Value = 163}         -- "The Grandmaster teacher in the ways of Body Magic, Tempus, can be found in the elven territory of Avlee.  His home is on an island somewhere in the central bay."
end

-- "Samuel Benson"
evt.global[351] = function()
	evt.SetMessage{Str = 550}         -- "The Master of the Identify Item skill, Samuel Benson, can be found on a ridge in the central region of the Bracada desert."
	evt.Set{"AutonotesBits", Value = 164}         -- "The Master of the Identify Item skill, Samuel Benson, can be found on a ridge in the central region of the Bracada desert."
end

-- "Payge Blueswan"
evt.global[352] = function()
	evt.SetMessage{Str = 551}         -- "The Grandmaster of the Identify Item skill, Payge Blueswan, can be found in the elven territory of Avlee.  His home is just northwest of the elven city of Spaward."
	evt.Set{"AutonotesBits", Value = 165}         -- "The Grandmaster of the Identify Item skill, Payge Blueswan, can be found in the elven territory of Avlee.  His home is just northwest of the elven city of Spaward."
end

-- "Bethold Caverhill"
evt.global[353] = function()
	evt.SetMessage{Str = 552}         -- "The Master of the Merchant skill, Berthold Caverhill, can be found on the eastern most island of the Evenmorn Islands."
	evt.Set{"AutonotesBits", Value = 166}         -- "The Master of the Merchant skill, Berthold Caverhill, can be found on the eastern most island of the Evenmorn Islands."
end

-- "Brigham the Frugal"
evt.global[354] = function()
	evt.SetMessage{Str = 553}         -- "The Grandmaster of the Merchant skill, Brigham the Frugal, can be found in a tower in the Bracada desert, on a ridge in the northern region."
	evt.Set{"AutonotesBits", Value = 167}         -- "The Grandmaster of the Merchant skill, Brigham the Frugal, can be found in a tower in the Bracada desert, on a ridge in the northern region."
end

-- "Thomas Moore"
evt.global[355] = function()
	evt.SetMessage{Str = 554}         -- "The Master teacher of the Repair Item Skill, Thomas Moore, can be found in the swampy delta of the southern region of Tatalia."
	evt.Set{"AutonotesBits", Value = 168}         -- "The Grandmaster of the Merchant skill, Brigham the Frugal, can be found in a tower in the Bracada desert, on a ridge in the northern region."
end

-- "Gareth the Fixer"
evt.global[356] = function()
	evt.SetMessage{Str = 555}         -- "The Grandmaster of the Repair Item Skill, Gareth the Fixer, teaches from his home in the capitol city of Steadwick in Erathia."
	evt.Set{"AutonotesBits", Value = 169}         -- "The Grandmaster of the Repair Item Skill, Gareth the Fixer, teaches from his home in the capitol city of Steadwick in Erathia."
end

-- "Wanda Foestryke"
evt.global[357] = function()
	evt.SetMessage{Str = 556}         -- "The Master of the of the art of Body Building, Wanda Foestryke, can be found in the goblin village in eastern DeyJa Moor."
	evt.Set{"AutonotesBits", Value = 170}         -- "The Master of the of the art of Body Building, Wanda Foestryke, can be found in the goblin village in eastern Deyja."
end

-- "Evandar Thomas"
evt.global[358] = function()
	evt.SetMessage{Str = 557}         -- "The Grandmaster of the Body Building skill, Evander Thomas, makes his home in the eastern regions of Nighon."
	evt.Set{"AutonotesBits", Value = 171}         -- "The Grandmaster of the Body Building skill, Evander Thomas, makes his home in the eastern regions of Nighon."
end

-- "Tessa Greensward"
evt.global[359] = function()
	evt.SetMessage{Str = 558}         -- "The Master of Meditation, Tessa Greensward, can be found on a ridge in the southeast region of the Bracada desert."
	evt.Set{"AutonotesBits", Value = 172}         -- "The Master of Meditation, Tessa Greensward, can be found on a ridge in the southeast region of the Bracada desert."
end

-- "Kaine"
evt.global[360] = function()
	evt.SetMessage{Str = 559}         -- "The Grandmaster of Meditation, Kaine, can be found in the elven territory of Avlee.  His home is on an island somewhere in the central bay."
	evt.Set{"AutonotesBits", Value = 173}         -- "The Grandmaster of Meditation, Kaine, can be found in the elven territory of Avlee.  His home is on an island somewhere in the central bay."
end

-- "Garret Dotes"
evt.global[361] = function()
	evt.SetMessage{Str = 560}         -- "The Master of the Perception Skill, Garret Dotes, can be found in the elven area of the Tularean Forest.  His home is in the Elven city of Pierpont."
	evt.Set{"AutonotesBits", Value = 174}         -- "The Master of the Perception Skill, Garret Dotes, can be found in the elven area of the Tularean Forest.  His home is in the Elven city of Pierpont."
end

-- "Petra Cleareye"
evt.global[362] = function()
	evt.SetMessage{Str = 561}         -- "The Grandmaster of the Skill of Perception, Petra Cleareye, can be found in the city in the northwest region of the Deyja."
	evt.Set{"AutonotesBits", Value = 175}         -- "The Grandmaster of the Skill of Perception, Petra Cleareye, can be found in the city in the northwest region of Deyja."
end

-- "Lenord Skinner"
evt.global[363] = function()
	evt.SetMessage{Str = 562}         -- "The Master of Disarm Trap Skill, Lenord Skinner, lives on a ridge, south of Harmondale, overlooking the city."
	evt.Set{"AutonotesBits", Value = 176}         -- "The Master of Disarm Trap Skill, Lenord Skinner, lives on a ridge, south of Harmondale, overlooking the city."
end

-- "Silk Quicktoungue"
evt.global[364] = function()
	evt.SetMessage{Str = 563}         -- "The Grandmaster of the Disarm Trap Skill, Silk Quicktoungue, makes his home in the southern region of Nighon."
	evt.Set{"AutonotesBits", Value = 177}         -- "The Grandmaster of the Disarm Trap Skill, Silk Quicktoungue, makes his home in the southern region of Nighon."
end

-- "Oberic Crane"
evt.global[365] = function()
	evt.SetMessage{Str = 564}         -- "The Master of the Dodging Skill, Oberic Crane, can be found on the eastern most island of the Evenmorn Islands"
	evt.Set{"AutonotesBits", Value = 178}         -- "The Master of the Dodging Skill, Oberic Crane, can be found on the eastern most island of the Evenmorn Islands"
end

-- "Kenneth Wain"
evt.global[366] = function()
	evt.SetMessage{Str = 565}         -- "The Grandmaster of the Dodging Skill, Kenneth Wain, can be found in the capitol city of Steadwick, in Erathia."
	evt.Set{"AutonotesBits", Value = 179}         -- "The Grandmaster of the Dodging Skill, Kenneth Wain, can be found in the capitol city of Steadwick, in Erathia."
end

-- "Ulbrecht the Brawler"
evt.global[367] = function()
	evt.SetMessage{Str = 566}         -- "The Master of Unarmed Combat, Ulbrecht the Brawler, can be found on the eastern most island of the Evenmorn Islands."
	evt.Set{"AutonotesBits", Value = 180}         -- "The Master of Unarmed Combat, Ulbrecht the Brawler, can be found on the eastern most island of the Evenmorn Islands."
end

-- "Norris "
evt.global[368] = function()
	evt.SetMessage{Str = 567}         -- "The Grandmaster of Unarmed Combat, Norris, can be found in the capitol city of Steadwick, in Erathia."
	evt.Set{"AutonotesBits", Value = 181}         -- "The Grandmaster of Unarmed Combat, Norris, can be found in the capitol city of Steadwick, in Erathia."
end

-- "Jeni Swiftfoot"
evt.global[369] = function()
	evt.SetMessage{Str = 568}         -- "The Master instructor of the Identify Monster Skill, Jeni Swiftfoot, lives in the elven territory of Avlee.  Her home is in the city in the northeast."
	evt.Set{"AutonotesBits", Value = 182}         -- "The Master instructor of the Identify Monster Skill, Jeni Swiftfoot, lives in the elven territory of Avlee.  Her home is in the city in the northeast."
end

-- "Raven the Hunter"
evt.global[370] = function()
	evt.SetMessage{Str = 569}         -- "The Grandmaster of the Identify Monster Skill, Raven the Hunter, can be found in a small village to the south of Harmondale."
	evt.Set{"AutonotesBits", Value = 183}         -- "The Grandmaster of the Identify Monster Skill, Raven the Hunter, can be found in a small village to the south of Harmondale."
end

-- "Paula Brightspear"
evt.global[371] = function()
	evt.SetMessage{Str = 570}         -- "The Master tutor of the Armsmaster Skill, Paula Brightspear, lives in the elven territory of Avlee.  Her home is in the city in the northeast."
	evt.Set{"AutonotesBits", Value = 184}         -- "The Master tutor of the Armsmaster Skill, Paula Brightspear, lives in the elven territory of Avlee.  Her home is in the city in the northeast."
end

-- "Lasiter the Slayer"
evt.global[372] = function()
	evt.SetMessage{Str = 571}         -- "The Grandmaster of the Armsmaster Skill, Lasiter the Slayer, makes his home in the eastern region of Eeofol."
	evt.Set{"AutonotesBits", Value = 185}         -- "The Grandmaster of the Armsmaster Skill, Lasiter the Slayer, makes his home in the eastern region of Eeofol."
end

-- "Leane Shadowrunner"
evt.global[373] = function()
	evt.SetMessage{Str = 572}         -- "The Master tutor of the Stealing Skill, Leane Shadowrunner, makes her home in the goblin village in the eastern region of the Deyja."
	evt.Set{"AutonotesBits", Value = 186}         -- "The Master tutor of the Stealing Skill, Leane Shadowrunner, makes her home in the goblin village in the eastern region of the Deyja."
end

-- "Everil Nightwalker"
evt.global[374] = function()
	evt.SetMessage{Str = 573}         -- "The Grandmaster teacher of the art of Stealing, Everil Nightwalker, can be found in the swampy delta of the southern region of Tatalia."
	evt.Set{"AutonotesBits", Value = 187}         -- "The Grandmaster teacher of the art of Stealing, Everil Nightwalker, can be found in the swampy delta of the southern region of Tatalia."
end

-- "Elzbet Winterspoon"
evt.global[375] = function()
	evt.SetMessage{Str = 574}         -- "The Master of Alchemy, Elzbet Winterspoon, can be found in the western region of Nighon."
	evt.Set{"AutonotesBits", Value = 188}         -- "The Master of Alchemy, Elzbet Winterspoon, can be found in the western region of Nighon."
end

-- "Lucid Apple"
evt.global[376] = function()
	evt.SetMessage{Str = 575}         -- "The Grandmaster instructor of Alchemy, Lucid Apple, can be found in the elven territory of Avlee.  His home is on an island somewhere in the central bay."
	evt.Set{"AutonotesBits", Value = 189}         -- "The Grandmaster instructor of Alchemy, Lucid Apple, can be found in the elven territory of Avlee.  His home is on an island somewhere in the central bay."
end

-- "Dorothy Senjac"
evt.global[377] = function()
	evt.SetMessage{Str = 576}         -- "The Master of Learning, Dorothy Senjac, can be found in the southeast region of Nighon."
	evt.Set{"AutonotesBits", Value = 190}         -- "The Master of Learning, Dorothy Senjac, can be found in the southeast region of Nighon."
end

-- "William Davies"
evt.global[378] = function()
	evt.SetMessage{Str = 577}         -- "The Grandmaster of Learning, William Smithson, instructs from his home on the eastern island of the Evenmorn Islands."
	evt.Set{"AutonotesBits", Value = 191}         -- "The Grandmaster of Learning, William Smithson, instructs from his home on the eastern island of the Evenmorn Islands."
end

-- "Helena Morningstar"
evt.global[379] = function()
	evt.SetMessage{Str = 578}         -- "The Master of Light Magic, Helena Mornigstar, can be found in the cloud city of Celeste!"
	evt.Set{"AutonotesBits", Value = 192}         -- "The Master of Light Magic, Helena Mornigstar, can be found in the cloud city of Celeste!"
end

-- "Gavin Magnus"
evt.global[380] = function()
	evt.SetMessage{Str = 579}         -- "The Grand Master of Light Magic can be found in the wizards castle, Castle Lambent."
	evt.Set{"AutonotesBits", Value = 193}         -- "The Grand Master of Light Magic can be found in the wizards castle, Castle Lambent."
end

-- "Seth Darkenmore"
evt.global[381] = function()
	evt.SetMessage{Str = 580}         -- "The Master of Dark, Seth Darkenmore, can be found in The Pit beneath Deyja!"
	evt.Set{"AutonotesBits", Value = 194}         -- "The Master of Dark, Seth Darkenmore, can be found in The Pit beneath Deyja!"
end

-- "Archibald"
evt.global[382] = function()
	evt.SetMessage{Str = 581}         -- "The Grand Master of Dark Magic can be found in the necromancer castle, Castle Gloaming.  At times Archibald has been know to take the journey to Clankers Lab."
	evt.Set{"AutonotesBits", Value = 195}         -- "The Grand Master of Dark Magic can be found in the necromancer castle, Castle Gloaming.  At times Archibald has been know to take the journey to Clankers Lab."
end

-- "Empty Barrel"
evt.global[383] = function()
	evt.StatusText{Str = 582}         -- "Empty Barrel"
end

-- "Red Barrel"
evt.global[384] = function()
	evt.StatusText{Str = 583}         -- "+5 Might permanent"
	evt.Add{"BaseMight", Value = 5}
	evt.Set{"AutonotesBits", Value = 33}         -- "Red liquid grants Might."
	evt.ChangeEvent{NewEvent = 383}         -- "Empty Barrel"
end

-- "Yellow Barrel"
evt.global[385] = function()
	evt.StatusText{Str = 584}         -- "+5 Accuracy permanent"
	evt.Add{"BaseAccuracy", Value = 5}
	evt.Set{"AutonotesBits", Value = 37}         -- "Yellow liquid grants Accuracy."
	evt.ChangeEvent{NewEvent = 383}         -- "Empty Barrel"
end

-- "Blue Barrel"
evt.global[386] = function()
	evt.StatusText{Str = 585}         -- "+5 Personality permanent"
	evt.Add{"BasePersonality", Value = 5}
	evt.Set{"AutonotesBits", Value = 35}         -- "Blue liquid grants Personality."
	evt.ChangeEvent{NewEvent = 383}         -- "Empty Barrel"
end

-- "Orange Barrel"
evt.global[387] = function()
	evt.StatusText{Str = 586}         -- "+5 Intellect permanent"
	evt.Add{"BaseIntellect", Value = 5}
	evt.Set{"AutonotesBits", Value = 34}         -- "Orange liquid grants Intellect."
	evt.ChangeEvent{NewEvent = 383}         -- "Empty Barrel"
end

-- "Green Barrel"
evt.global[388] = function()
	evt.StatusText{Str = 587}         -- "+5 Endurance permanent"
	evt.Add{"BaseEndurance", Value = 5}
	evt.Set{"AutonotesBits", Value = 36}         -- "Green liquid grants Endurance."
	evt.ChangeEvent{NewEvent = 383}         -- "Empty Barrel"
end

-- "Purple Barrel"
evt.global[389] = function()
	evt.StatusText{Str = 588}         -- "+5 Speed permanent"
	evt.Add{"BaseSpeed", Value = 5}
	evt.Set{"AutonotesBits", Value = 38}         -- "Purple liquid grants Speed."
	evt.ChangeEvent{NewEvent = 383}         -- "Empty Barrel"
end

-- "White Barrel"
evt.global[390] = function()
	evt.StatusText{Str = 589}         -- "+5 Luck permanent"
	evt.Add{"BaseLuck", Value = 5}
	evt.Set{"AutonotesBits", Value = 39}         -- "White liquid grants Luck."
	evt.ChangeEvent{NewEvent = 383}         -- "Empty Barrel"
end

-- "Empty Cauldron"
evt.global[391] = function()
	evt.StatusText{Str = 590}         -- "Empty Cauldron"
end

-- "Steaming Cauldron"
evt.global[392] = function()
	evt.StatusText{Str = 591}         -- "+10 Fire Resistance permanent"
	evt.Add{"FireResistance", Value = 10}
	evt.Set{"AutonotesBits", Value = 40}         -- "Steaming liquid grants Fire Resistance."
	evt.ChangeEvent{NewEvent = 391}         -- "Empty Cauldron"
end

-- "Frosty Cauldron"
evt.global[393] = function()
	evt.StatusText{Str = 592}         -- "+10 Water Resistance permanent"
	evt.Add{"WaterResistance", Value = 10}
	evt.Set{"AutonotesBits", Value = 41}         -- "Frosty liquid grants Water Resistance."
	evt.ChangeEvent{NewEvent = 391}         -- "Empty Cauldron"
end

-- "Shocking Cauldron"
evt.global[394] = function()
	evt.StatusText{Str = 593}         -- "+10 Air Resistance permanent"
	evt.Add{"AirResistance", Value = 10}
	evt.Set{"AutonotesBits", Value = 42}         -- "Shocking liquid grants Air Resistance."
	evt.ChangeEvent{NewEvent = 391}         -- "Empty Cauldron"
end

-- "Dirty Cauldron"
evt.global[395] = function()
	evt.StatusText{Str = 594}         -- "+10 Earth Resistance permanent"
	evt.Add{"EarthResistance", Value = 10}
	evt.Set{"AutonotesBits", Value = 43}         -- "Dirty liquid grants Earth Resistance."
	evt.ChangeEvent{NewEvent = 391}         -- "Empty Cauldron"
end

-- "Trash Heap"
evt.global[396] = function()
	local i
	i = Game.Rand() % 3
	if i == 1 then
		if not evt.Cmp{"PerceptionSkill", Value = 1} then
			evt.Set{"DiseasedGreen", Value = 0}
			evt.StatusText{Str = 595}         -- "Diseased!"
		end
		goto _4
	elseif i == 2 then
		if not evt.Cmp{"PerceptionSkill", Value = 1} then
			evt.Set{"DiseasedGreen", Value = 0}
			evt.StatusText{Str = 595}         -- "Diseased!"
		end
		goto _9
	end
	if not evt.Cmp{"PerceptionSkill", Value = 1} then
		evt.Set{"DiseasedYellow", Value = 0}
		evt.StatusText{Str = 595}         -- "Diseased!"
	end
	evt.GiveItem{Strength = 3, Type = const.ItemType.Armor_, Id = 0}
::_15::
	evt.ChangeEvent{NewEvent = 411}         -- "Trash Heap"
	do return end
::_4::
	evt.GiveItem{Strength = 1, Type = const.ItemType.Armor_, Id = 0}
	goto _15
::_9::
	evt.GiveItem{Strength = 2, Type = const.ItemType.Armor_, Id = 0}
	goto _15
end

-- "Trash Heap"
evt.global[397] = function()
	local i
	i = Game.Rand() % 3
	if i == 1 then
		if not evt.Cmp{"PerceptionSkill", Value = 1} then
			evt.Set{"DiseasedGreen", Value = 0}
			evt.StatusText{Str = 595}         -- "Diseased!"
		end
		goto _4
	elseif i == 2 then
		if not evt.Cmp{"PerceptionSkill", Value = 1} then
			evt.Set{"DiseasedGreen", Value = 0}
			evt.StatusText{Str = 595}         -- "Diseased!"
		end
		goto _9
	end
	if not evt.Cmp{"PerceptionSkill", Value = 1} then
		evt.Set{"DiseasedYellow", Value = 0}
		evt.StatusText{Str = 595}         -- "Diseased!"
	end
	evt.GiveItem{Strength = 3, Type = const.ItemType.Weapon_, Id = 0}
::_15::
	evt.ChangeEvent{NewEvent = 411}         -- "Trash Heap"
	do return end
::_4::
	evt.GiveItem{Strength = 1, Type = const.ItemType.Weapon_, Id = 0}
	goto _15
::_9::
	evt.GiveItem{Strength = 2, Type = const.ItemType.Weapon_, Id = 0}
	goto _15
end

-- "Trash Heap"
evt.global[398] = function()
	local i
	i = Game.Rand() % 3
	if i == 1 then
		if not evt.Cmp{"PerceptionSkill", Value = 1} then
			evt.Set{"DiseasedGreen", Value = 0}
			evt.StatusText{Str = 595}         -- "Diseased!"
		end
		goto _4
	elseif i == 2 then
		if not evt.Cmp{"PerceptionSkill", Value = 1} then
			evt.Set{"DiseasedGreen", Value = 0}
			evt.StatusText{Str = 595}         -- "Diseased!"
		end
		goto _9
	end
	if not evt.Cmp{"PerceptionSkill", Value = 1} then
		evt.Set{"DiseasedYellow", Value = 0}
		evt.StatusText{Str = 595}         -- "Diseased!"
	end
	evt.GiveItem{Strength = 3, Type = const.ItemType.Misc, Id = 0}
::_15::
	evt.ChangeEvent{NewEvent = 411}         -- "Trash Heap"
	do return end
::_4::
	evt.GiveItem{Strength = 1, Type = const.ItemType.Misc, Id = 0}
	goto _15
::_9::
	evt.GiveItem{Strength = 2, Type = const.ItemType.Misc, Id = 0}
	goto _15
end

-- "Trash Heap"
evt.global[411] = function()
	local i
	i = Game.Rand() % 2
	if i == 1 then
		if not evt.Cmp{"PerceptionSkill", Value = 1} then
			evt.Set{"DiseasedGreen", Value = 0}
			evt.StatusText{Str = 595}         -- "Diseased!"
			return
		end
	end
	evt.StatusText{Str = 596}         -- "Nothing Here"
end

-- "Campfire"
evt.global[412] = function()
	evt.Add{"Food", Value = 2}
	if evt.Cmp{"PerceptionSkill", Value = 1} then
		evt.GiveItem{Strength = 2, Type = const.ItemType.Ring_, Id = 0}
		evt.ChangeEvent{NewEvent = 0}
	else
		evt.ChangeEvent{NewEvent = 0}
	end
end

-- "Campfire"
evt.global[413] = function()
	evt.Add{"Food", Value = 1}
	if evt.Cmp{"PerceptionSkill", Value = 1} then
		evt.GiveItem{Strength = 1, Type = const.ItemType.Ring_, Id = 0}
		evt.ChangeEvent{NewEvent = 0}
	else
		evt.ChangeEvent{NewEvent = 0}
	end
end

-- "Food Bowl"
evt.global[414] = function()
	evt.Add{"Inventory", Value = 630}         -- "Red Delicious Apple"
	evt.ChangeEvent{NewEvent = 0}
end

-- "Empty Cask"
evt.global[415] = function()
	evt.StatusText{Str = 599}         -- "Empty Cask"
end

-- "Cask"
evt.global[416] = function()
	local i
	i = Game.Rand() % 6
	if i >= 3 and i <= 5 then
		i = Game.Rand() % 6
		if i >= 3 and i <= 5 then
			evt.Set{"PoisonedGreen", Value = 0}
			evt.StatusText{Str = 597}         -- "Poisoned!"
		else
			evt.Set{"Drunk", Value = 0}
			evt.StatusText{Str = 598}         -- "Drunk!"
		end
	else
		i = Game.Rand() % 6
		if i == 1 or i == 2 then
			evt.Add{"Inventory", Value = 202}         -- "Vial of Troll Blood"
		elseif i == 3 or i == 4 then
			evt.Add{"Inventory", Value = 217}         -- "Vial of Ooze Endoplasm"
		elseif i == 5 then
			evt.Add{"Inventory", Value = 218}         -- "Mercury"
		else
			evt.Add{"Inventory", Value = 214}         -- "Vial of Devil Ichor"
		end
	end
	evt.ChangeEvent{NewEvent = 415}         -- "Empty Cask"
end

-- "Mushroom"
evt.global[417] = function()
	evt.Add{"Inventory", Value = 215}         -- "Mushroom"
	evt.ChangeEvent{NewEvent = 0}
end

-- "Lord Markham"
evt.global[418] = function()
	evt.SetMessage{Str = 601}         -- "So YOU'RE the ones that won Lord Markham's contest!  How do you like your winnings so far?  Had enough winning?  If I were you, I'd give him a piece of my mind!  His mansion is in Tatalia, near the wharf."
end

-- "The Master Thief"
evt.global[419] = function()
	evt.SetMessage{Str = 602}         -- "Watch your wallet while you're here, my friends--Steadwick abounds in thieves.  As a matter of fact, we are the world capital of thieves!  It's common knowledge that Bill Lasker, the Master Thief, lives in the sewers beneath Steadwick."
end

-- "Watchtowers"
evt.CanShowTopic[420] = function()
	local result
	if not evt.Cmp{"QBits", Value = 196} then         -- Find second entrance to Watchtower6
		result = evt.Cmp{"QBits", Value = 19}         -- "Go to Watchtower 6 in the Deyja Moors, and move the weight from the top of the tower to the bottom of the tower.  Then return to William Lasker in the Erathian Sewers."
	end
	return true
end

evt.global[420] = function()
	if evt.Cmp{"QBits", Value = 196} then         -- Find second entrance to Watchtower6
		evt.SetMessage{Str = 644}         -- "Glad you found the way in the back door.  You probably avoided a really nasty ambush that way.  I hope my advice was useful!"
	else
		evt.SetMessage{Str = 603}         -- "Back when I was in the army, I was assigned to scout out the watchtowers in Deyja.  <chuckling> It's no good trying to go through the front door, so I usually looked around for another way in.  Those Necromancers are so cowardly, they always have an escape route.  And a way out is also a way in..."
	end
end

-- "Quest"
evt.global[421] = function()
	evt.SetMessage{Str = 604}         -- "The sacred relic of the Order of Fire, the Scroll of Mage Wonka, has been lost for many years.  The caravan that was transporting this relic from Harmondale to Bracada never made it out of the Barrow Downs.  Find the Lost Scroll of Wonka and return it to me and I will grant all Elemental Magic users in your party Expert Fire Magic with a Skill of ‘8’."
	evt.Add{"QBits", Value = 272}         -- "Find the Lost Scroll of Wonka and return it to Blayze on Emerald Island."
	evt.SetNPCTopic{NPC = 139, Index = 1, Event = 573}         -- "Blayze " : "We've found the Lost Scroll!"
end

-- "Now that's what I call 'fun'!"
evt.global[422] = function()
	evt.SetMessage{Str = 252}         --[[ "Hope ya don’t mind that I left ya and went ahead to scout out the area.  Thanks for the help in dispatching them Water Elementals.

I guess we’re gonna hafta run this here ‘gauntlet’, huh?  We’ll I’m a little ‘long in the tooth’ to be runnin’, although thar’s nothin’ wrong with my sword arm.  So if ya don’t mind, I’ll stay here and keep this area safe for our exit.  When ya find the key, don’t wait for me.  I’ll join ya as you exit to the Coding Fortress.

Oh, by the way.  There’s a scroll in that chest over thar that lists some rules for this place.  I suggest ya read it so’s we don’t get into any more trouble than we need to in here.

See ya on the way back my friends." ]]
	evt.SetNPCTopic{NPC = 18, Index = 1, Event = 0}         -- "Lord Godwinson"
end

-- "Buy Speed Boost Potent"
evt.global[423] = function()
	local i
	evt.ForPlayer(-- ERROR: Const not found
"All")
	i = Game.Rand() % 6
	if i >= 2 and i <= 5 then
		evt.SetMessage{Str = 262}         -- "I just sold my only one.  Come back in an hour."
	else
		if evt.Cmp{"Gold", Value = 10000} then
			evt.SetMessage{Str = 266}         -- "Here's your Potent of Speed Boost.  It's good doing business with you!"
			evt.ForPlayer(-- ERROR: Const not found
"Current")
			evt.Subtract{"Gold", Value = 10000}
			evt.Add{"Inventory", Value = 244}         -- "Speed Boost"
		else
			evt.SetMessage{Str = 265}         -- "You don't have enough gold!"
		end
	end
end

-- ERROR: Invalid command size: 43016:1 (Cmd00)
-- ERROR: Not found

-- "A word of Caution!"
evt.global[424] = function()
	evt.SetMessage{Str = 727}         --[[ "Oh! and stay clear of Pascal and his minions of conjured Trolls!  Pascal is really quite ‘mad’ and his minions are somewhat stupid.  If you get too close to them in the heat of Battle, they may attack you!  If this occurs, all of your allies will become your enemies and you will fail the Test of Friendship!

And remember your objective!  Get the cube and gather your friends back into your party.  Once this is done you can dispatch the remaining foes if you like.

When it’s time to leave, you **must** use the exit to Celeste located immediately behind you in company with all six friends!  Don’t leave this cave by any other means or you will fail The Test and The Game!

Good luck, adventurers!" ]]
	evt.SetMonGroupBit{NPCGroup = 6, Bit = const.MonsterBits.Hostile, On = false}         -- "Group for M1"
	evt.SetMonGroupBit{NPCGroup = 7, Bit = const.MonsterBits.Hostile, On = false}         -- "Group fo M2"
	evt.SetMonGroupBit{NPCGroup = 8, Bit = const.MonsterBits.Hostile, On = false}         -- "Group for M3"
	evt.SetMonGroupBit{NPCGroup = 9, Bit = const.MonsterBits.Hostile, On = false}         -- "Group for Malwick's Assc."
	evt.SetMonGroupBit{NPCGroup = 10, Bit = const.MonsterBits.Hostile, On = false}         -- "Southern Village Group in Harmondy"
	evt.SetMonGroupBit{NPCGroup = 11, Bit = const.MonsterBits.Hostile, On = false}         -- "Main village in Harmondy"
end

-- "EMPTY"
-- "EMPTY"
-- "EMPTY"
-- ERROR: Invalid command size: 44040:1 (Cmd00)
-- ERROR: Not found

-- "Monk Training"
evt.global[428] = function()
	evt.SetMessage{Str = 611}         -- "If you're looking for a teacher to begin serious monk training, speak with Bartholomew Hume--you can find him in the Bracada."
end

-- "Medusas"
evt.global[429] = function()
	evt.SetMessage{Str = 617}         -- "There is a breed of Medusa infesting the Red Dwarf Mines that is immune to magic.  These monsters are a real terror!  I can only thank the Gods that these creatures haven't escaped the mine.  What would we do then, beat them to death with our staves?"
end

-- "Temple of Baa"
evt.CanShowTopic[430] = function()
	local result
	if not evt.Cmp{"Awards", Value = 24} then         -- "Promoted to Master"
		if not evt.Cmp{"Awards", Value = 25} then         -- "Promoted to Honorary Master"
			result = evt.Cmp{"QBits", Value = 28}         -- "Go to the Temple of Baa in Avlee and kill the High Priest of Baa, then return to Bartholomew Hume in Harmondale."
		end
	end
	return true
end

evt.global[430] = function()
	if not evt.Cmp{"Inventory", Value = 530} then         -- "Cloak of the Sheep"
		if not evt.Cmp{"Awards", Value = 24} then         -- "Promoted to Master"
			if not evt.Cmp{"Awards", Value = 25} then         -- "Promoted to Honorary Master"
				evt.SetMessage{Str = 613}         -- "A few years back, a weird cult called the Temple of Baa moved into the area.  At first they seemed popular, what with their free offers of healing, but it soon became clear they were devoted to darkness.  No one goes up there very much, now, and it seems that whatever evil gods were backing them have withdrawn their support.  But they're up there still, lurking in the shadows.  Creepy."
				return
			end
		end
	end
	evt.SetMessage{Str = 647}         -- "The Baa cult is gone?  Well that IS good news!  Everyone is in your debt, whether they know it or not.  "
end

-- "Missing Sheep"
evt.CanShowTopic[431] = function()
	local result
	if not evt.Cmp{"Awards", Value = 24} then         -- "Promoted to Master"
		if not evt.Cmp{"Awards", Value = 25} then         -- "Promoted to Honorary Master"
			result = evt.Cmp{"QBits", Value = 28}         -- "Go to the Temple of Baa in Avlee and kill the High Priest of Baa, then return to Bartholomew Hume in Harmondale."
		end
	end
	return true
end

evt.global[431] = function()
	if not evt.Cmp{"Inventory", Value = 530} then         -- "Cloak of the Sheep"
		if not evt.Cmp{"Awards", Value = 24} then         -- "Promoted to Master"
			if not evt.Cmp{"Awards", Value = 25} then         -- "Promoted to Honorary Master"
				evt.SetMessage{Str = 614}         -- "Lots of sheep have gone missing since the Baa cult moved in--and I mean lots.  No doubt they were taken to the Baa temple for sacrifice.  I'm going to go broke if someone doesn't do something about those cultists!"
				return
			end
		end
	end
	evt.SetMessage{Str = 648}         -- "Glad to hear the Baa cult has gone missing, instead of my sheep!  Good job!"
end

-- "Ciphers"
evt.global[432] = function()
	evt.SetMessage{Str = 615}         -- "Ssspies abound in places like this, my friendsss.  If you wish your letters and communiqués to remain sssecret, you should use a cipher when you write.  There is a book in the Castle library that will explain everything, my friendsss."
end

-- "The nature of ooze"
evt.global[433] = function()
	evt.SetMessage{Str = 616}         --[[ "Eight years ago, we sent a team of scholars to what is now the Red Dwarf Mine to study the strange creatures that would occasionally show up there.  

The first thing we noticed was that Ooze ectoplasm makes an excellent potion catalyst.  The second was that ooze just can't be physically damaged--they split apart or squish, then run back together. If you want to kill one, you'll have to do it with magic." ]]
end

-- "Medusas"
evt.global[434] = function()
	evt.SetMessage{Str = 617}         -- "There is a breed of Medusa infesting the Red Dwarf Mines that is immune to magic.  These monsters are a real terror!  I can only thank the Gods that these creatures haven't escaped the mine.  What would we do then, beat them to death with our staves?"
end

-- "Titans' Stronghold"
evt.global[435] = function()
	evt.SetMessage{Str = 618}         -- "If you head south past the Wyvern Plains, don't go knocking at the door of that huge fortress you'll see standing in the middle of the water.  It's the Titan's Stronghold, and they don't much like visitors."
end

-- "The Arena"
evt.global[436] = function()
	evt.SetMessage{Str = 619}         -- "Arena fighting is available to anyone who wants to practice against any kind of opponent.  You can get to the arena by visiting a stable on any Sunday and asking them to take you there.  "
end

-- "Arena Championships"
evt.global[437] = function()
	evt.SetMessage{Str = 620}         -- "Arena Champships are held on each Sunday.  They are open to all--but be careful!  Your opponents are chosen by the Arena management, not you!"
end

-- "Haunted Mansion"
evt.global[438] = function()
	evt.SetMessage{Str = 621}         -- "Every graveyard or ancestral burial place seems to have a haunted house nearby--and ours is no exception.  There is a mansion near one of the plateaus on the surface in the northwest.  It is most certainly haunted."
end

-- "Ghosts"
evt.global[439] = function()
	evt.SetMessage{Str = 622}         -- "Fear the touch of the Ghost as you fear the loss of your life.  It inflicts terrible spiritual wounds and drains your youth before your eyes!"
end

-- "Secret passage"
evt.global[440] = function()
	evt.SetMessage{Str = 623}         -- "A few wars ago, my great grandfather worked on an escape tunnel from the Elvish castle to the Tularean Caves.  I don't think it's ever been used--no attack on the castle has ever brought it down--but it sure is an interesting piece of history, don't you think?"
end

-- "Faeries"
evt.global[441] = function()
	if evt.Cmp{"QBits", Value = 197} then         -- Entered Faerie Mound
		evt.SetMessage{Str = 649}         -- "I'm impressed--very few actually make it inside the fairy mound, or get very far."
	else
		evt.SetMessage{Str = 624}         -- "They say that elves are faeries, but in truth we are only distantly related.  The true faeries don't live in civilization, and they're just like the stories say--playful, cruel, magical, and dangerous.  But if you really want to meet them, you could visit them in their Hall under the Hill, as they call it.  It is just outside of the village, to the North and West.  It will be challenging to get to the front door... "
	end
end

-- "Mad Forest"
evt.global[442] = function()
	if not evt.Cmp{"Inventory", Value = 600} then         -- "Heart of the Wood"
		if not evt.Cmp{"Awards", Value = 30} then         -- "Promoted to Ranger Lord"
			if not evt.Cmp{"Awards", Value = 31} then         -- "Promoted to Honorary Ranger Lord"
				if not evt.Cmp{"Awards", Value = 61} then         -- "Retrieved the Heart of the Wood"
					evt.SetMessage{Str = 625}         -- "A while ago, I saw some men come to the Tularean Forest at night with axes and torches, following some sort of map.  When they left, they were laughing and happy.  It looked like they were carrying a big green rock.  My brother says they were a band of mercenaries from Tatalia.  Anyway, the next day was when the forest went mad.  It's too dangerous to go there now."
					return
				end
			end
		end
	end
	evt.SetMessage{Str = 650}         -- "The forest is much safer now, thanks you to!  The oldest tree is very happy with you, and has included you in its history recitals."
end

-- "Oldest Tree"
evt.global[443] = function()
	evt.SetMessage{Str = 626}         -- "The Tularean Forest is so old that it has developed a mind…sort of.  The forest is vaguely aware of who walks through it, but only one part of the forest can communicate with people.  That's the oldest tree.  If you want to have a very long and slow conversation, it will be happy to oblige.  Look for it on an island to the south east of the forest.  It's larger than the rest of the trees.  You can't miss it."
end

-- "Bounty Hunting"
evt.global[444] = function()
	evt.SetMessage{Str = 627}         -- "Anyone needing to earn some spare cash can visit a town hall in any major city to pick up a bounty hunting assignment.  City councils are always fearful of the latest man eating monster or bandit or mad wizard, and set bounties on the creature that is bothering them most this month.  There's no rhyme or reason to their choices, so don't try to figure it out.  They often pay quite well."
end

-- "Warrior Mage Promotion"
evt.global[445] = function()
	evt.ForPlayer(-- ERROR: Const not found
"Current")
	if evt.Cmp{"Experience", Value = 15000} then
		evt.ForPlayer(-- ERROR: Const not found
"All")
		evt.SetMessage{Str = 736}         -- "I knew there was something 'special' about you, adventurers!   And I see you have the experience necessary to tackle the Warrior Mage promotion task.  So let's begin, shall we?"
		evt.SetNPCTopic{NPC = 21, Index = 1, Event = 67}         -- "Zedd True Shot" : "Warrior Mage"
	else
		evt.SetMessage{Str = 342}         --[[ "I understand your enthusiasm adventurers.  But you are far too inexperienced for the required promotion task.  Travel about on the mainland, gain some real-world experience, and return to the ‘EI’.  Then we’ll discuss the promotion.

So I’ll await your return?  Good.  See you soon." ]]
	end
end

-- "Tidewater Caverns"
evt.global[446] = function()
	evt.SetMessage{Str = 629}         -- "Pirates been operating out of the tidewater caverns for twenty years.  They're not Regnans, and they aren't part of Bill Lasker's men, but they're still pretty mean.  You want to get in there, just get yourself out to the islands to the west."
end

-- "Evenmorn Islands"
evt.global[447] = function()
	if not evt.Cmp{"Inventory", Value = 683} then         -- "Map to Evenmorn Island"
		if not evt.Cmp{"Awards", Value = 62} then         -- "Promoted to Priest"
			if not evt.Cmp{"Awards", Value = 63} then         -- "Promoted to Honorary Priest"
				evt.SetMessage{Str = 630}         -- "Evenmorn Island isn't lost, so much as hard to get to.  It is surrounded by treacherous reefs, sandbars, whirlpools, and sharks.  If it's dangerous, the Island is surrounded by it.  There are only one or two safe ways in, and the map for those ways was stolen by pirates during the chaos of the recent wars.  They probably still have the map in their caves.  "
				return
			end
		end
	end
	evt.SetMessage{Str = 651}         -- "Oh, so the map is found?  What will you do with your newfound treasure?  Share it, I hope!"
end

-- "Reef Maps"
evt.global[448] = function()
	if not evt.Cmp{"Inventory", Value = 683} then         -- "Map to Evenmorn Island"
		if not evt.Cmp{"Awards", Value = 62} then         -- "Promoted to Priest"
			if not evt.Cmp{"Awards", Value = 63} then         -- "Promoted to Honorary Priest"
				evt.SetMessage{Str = 631}         -- "The boat captains would be happy to take any paying fare to Evenmorn island, but they don't have proper maps.  There's no way anyone is going to risk their ship in the reefs around the Island unless they have the map!"
				return
			end
		end
	end
	evt.SetMessage{Str = 652}         -- "Now that you have the map, I guess you'll be going there soon.  Be careful--they say the island is cursed!"
end

-- "The Curse"
evt.global[449] = function()
	evt.SetMessage{Str = 653}         -- "If you don't mind the swamp and fog, Evenmorn Island is a great place to live.  Of course, the Curse doesn't help--ghosts and skeletons roam the island freely--but other than that, the neighbors keep to themselves.  The Churches of the Sun and the Moon don't even fight each other very much anymore.  <Heh!> probably means they're running out of adherents..."
end

-- "Golem parts"
evt.global[450] = function()
	evt.SetMessage{Str = 632}         -- "Well, I don't have any golem parts--I never took that class--but there are students all over Bracada who have spare golem parts lying around.  They aren't worth anything unless you have them all, so they'll probably just give them to you for free."
end

-- "Golems"
evt.global[451] = function()
	evt.SetMessage{Str = 633}         -- "You see all those golems walking around Bracada?  Every single one of them was made by the School.  Not bad for students, eh?  They don't have much to say, but they're tough guardians and can tell when a follower of Darkness is near.  You should see them go into action when one of those Necromancers or Warlocks wanders into our lands.  Zowwwwwieeee!"
end

-- "We need your help!"
evt.global[452] = function()
	evt.ForPlayer(-- ERROR: Const not found
"All")
	if evt.Cmp{"Inventory", Value = 244} then         -- "Speed Boost"
		evt.SetMessage{Str = 259}         --[[ "The Speed Boost potent!  Good!  Give me a minute to complete the elixir.

[]
[]
[]

There you go!  Here’s the Plague Elixir.

Now hurry back to Stone City!" ]]
		evt.Subtract{"Inventory", Value = 244}         -- "Speed Boost"
		evt.SetNPCTopic{NPC = 208, Index = 1, Event = 0}         -- "Lucid Apple"
		evt.ForPlayer(-- ERROR: Const not found
"Current")
		evt.Add{"Inventory", Value = 273}         -- "Plague Elixir"
		evt.SetNPCTopic{NPC = 59, Index = 0, Event = 453}         -- "Hothfarr IX" : "We have the Plague Elixir!"
	else
		evt.SetMessage{Str = 258}         --[[ "What’s the problem, adventurers? [You tell Lucid the conditions in Stone City].  Plague!  This is not good, not good at all!  And of course I’ll help.  Give me a minute to see what I have on hand.[Lucid begins to rummage through her inventory, searching through bottles, boxes, barrels, shelves and drawers, all-the-while humming a tune from CCR.]

I can mix-up a Plague Elixir that can be added to the water supply.  It will cure the population of Stone City within one day.  However, I am missing one ‘ingredient’ – a Speed Boost potent.  Bring me this potent with all haste.

[You ask Lucid where you can obtain this potent.]

If you have the skill and ingredients, you can mix one up yourself from a Haste Potent combined with an Orange Potent.  Otherwise, check out the local shops.  As a last resort, find a Wandering Peddler.  Sometimes they carry various potents. This time of year they seem to ‘congregate’ in Steadwick.

Good luck!" ]]
	end
end

-- "We have the Plague Elixir!"
evt.global[453] = function()
	evt.ForPlayer(-- ERROR: Const not found
"All")
	if evt.Cmp{"Inventory", Value = 273} then         -- "Plague Elixir"
		evt.SetMessage{Str = 264}         --[[ "The Plague Elixir!

[You relate the information from Lucid about how to use this elixir.  The King turns to his personal advisor.]

Have the guards pour this elixir into the underground stream immediately!  Don’t waste a single drop!

[The King turns back to you]

Bless the fates, you have saved my people and my kingdom!  Your bravery, courage and resourcefulness have earned you the title ‘Friend of Hothfarr, King of Dwarves, and Savior of Stone City’!

For this service to The Crown, I present you with a set of four rings of rather plain stature, but of powerful enchantment. You may claim these rings in the two chests outside of my Throne Room.

Oh. Be careful.  The chests are ‘trapped’." ]]
		evt.Add{"Experience", Value = 100000}
		evt.Add{"Gold", Value = 5000}
		evt.Set{"Awards", Value = 21}         -- "Proclaimed Friend of Hothfarr, King of Dwarves and Savior of Stone City"
		evt.Subtract{"QBits", Value = 370}         -- "Obtain Plague Elixir from Lucid Apple in Avlee and deliver it to King Hothffar in Stone City within two days."
		evt.Set{"QBits", Value = 368}         -- Barrow Normal
		evt.Subtract{"Inventory", Value = 273}         -- "Plague Elixir"
		evt.SetNPCTopic{NPC = 59, Index = 0, Event = 0}         -- "Hothfarr IX"
		evt.SetNPCGreeting{NPC = 59, Greeting = 30}         -- "Hothfarr IX" : "Welcome back Friends of Hothfarr and Saviors of Stone City!  The city is at your disposal."
	end
end

-- "Soul Jars"
evt.global[454] = function()
	evt.SetMessage{Str = 636}         -- "The only people in the world who make soul jars are the Warlocks of Nighon.  It is a secret of their profession--which is strange, since they have absolutely no use for them.  Still, we are forced to bargain for the jars in order to advance our craft.  Of course, we have wrested the jars from them, from time to time...but then they raise their prices in revenge.  It must be our fate to suffer so."
end

-- "The Rituals"
evt.global[455] = function()
	evt.SetMessage{Str = 637}         -- "Every Necromancer aspires to be a Lich one day.  All you need is a Soul Jar, knowledge of the Ritual, and the magical skill to survive the journey to the Land of the Dead and return.  The body withers while the soul lives on in a glorious state free from hunger, disease, and injury.  Only shallow and superficial people would mind what the Ritual does to one's appearance.  True practitioners hardly notice."
end

-- "Circle of stone"
evt.global[456] = function()
	if not evt.Cmp{"Awards", Value = 68} then         -- "Promoted to Great Druid"
		if not evt.Cmp{"Awards", Value = 69} then         -- "Promoted to Honorary Great Druid"
			evt.SetMessage{Str = 638}         -- "Three circles of stones were built by the Druids long ago.  Since hearing of their locations ruins ascension attempts for would be Great Druids, I can only give you a general clue--All are in the open, unhidden and bare, and all are distant from settlements.  To tell you more would spoil your Ascension."
			return
		end
	end
	evt.SetMessage{Str = 656}         -- "Since you've discovered the circles on your own they have worked their magic on you.  I hope you will refrain from telling others of their whereabouts, as I have done for you."
end

-- "Summer Circle"
evt.global[457] = function()
	evt.SetMessage{Str = 639}         -- "Originally, there were four Circles of Stone, one for each Cardinal direction and season, but the Eastern Circle was destroyed somewhere in Nighon during the wars between the Churches of the Sun and the Moon."
end

-- "The graveyard"
evt.global[458] = function()
	evt.SetMessage{Str = 640}         -- "The graveyard does indeed hold the bones of the ancient King, but the hallowed land will curse any who disturb it.  I don't envy you this task.  Each grave you open will unleash its curse, and possibly some other trap.  Best be sure you're opening the correct grave when you begin to dig."
end

-- "Barrow Navigation"
evt.global[459] = function()
	evt.SetMessage{Str = 641}         -- "Though the barrows were built to deter thieves, a way was needed to navigate them during burials and ceremonies.  Near each of the gates you'll find a plaque.  These plaques are cryptic, but they will keep you from losing your way, as long as you use them.  No thief yet has realized their significance, so once they enter the barrows, they never leave."
end

-- "Land of the Titans"
evt.global[460] = function()
	evt.SetMessage{Str = 642}         -- "We built a tunnel leading from our Thunderfist Mountain to the Land of the Giants during the War.  It was there we discovered the Kreegan, and more titans and dragons then you can imagine.  I suppose one who's familiar is to be a dragon could find eggs in one of the dragon caves of that terrible land.  'Ware the mother..."
end

-- "The Mega Dragon"
evt.global[461] = function()
	evt.SetMessage{Str = 643}         -- "I've heard legends that there is a dragon in the Land of the Titans greater than any that have come before.  Lesser dragons and titans do battle on the slopes of the mountain in which its cave resides.  This dragon is so huge, and so mighty that the other dragons feed it for fear it will one day leave its cave and devour them all in its fury.  The dragons believe it is a god.  If that is so, imagine its treasure..."
end

-- "Quest"
evt.global[462] = function()
	evt.SetMessage{Str = 657}         -- "During the wars between the Temples of the Sun and Moon, three statuettes were stolen from the shrines in the Bracada Desert, Tatalia, and Avlee.  I represent a group of Druids that want these shrines back to their original form-- it is critical for their worship.  To this end, I am offering a substantial reward for anyone that will find the statuettes and place them on the shrines."
	evt.Set{"QBits", Value = 200}         -- "Retrieve the three statuettes and place them on the shrines in the Bracada Desert, Tatalia, and Avlee, then return to Thom Lumbra in the Tularean Forest."
	evt.SetNPCTopic{NPC = 288, Index = 0, Event = 463}         -- "Thom Lumbra" : "Quest"
end

-- "Quest"
evt.global[463] = function()
	if evt.Cmp{"QBits", Value = 201} then         -- Placed item 617 in out14(statue)
		if evt.Cmp{"QBits", Value = 202} then         -- Place item 618 in out13(statue)
			if evt.Cmp{"QBits", Value = 203} then         -- Place item 619 in out06(statue)
				evt.SetMessage{Str = 659}         -- "Great work!  The Druids are so pleased, they threw in a little extra for your fine performance.  Take this… you most certainly deserve it."
				evt.Add{"Gold", Value = 50000}
				evt.Subtract{"Reputation", Value = 10}
				evt.ForPlayer(-- ERROR: Const not found
"All")
				evt.Subtract{"QBits", Value = 200}         -- "Retrieve the three statuettes and place them on the shrines in the Bracada Desert, Tatalia, and Avlee, then return to Thom Lumbra in the Tularean Forest."
				evt.Add{"Experience", Value = 50000}
				evt.Add{"Awards", Value = 100}         -- "Found and placed all the statuettes"
				evt.SetNPCGreeting{NPC = 288, Greeting = 174}         -- "Thom Lumbra" : "Excellent work; my associates are quite pleased."
				evt.SetNPCTopic{NPC = 288, Index = 0, Event = 0}         -- "Thom Lumbra"
				return
			end
		end
	end
	evt.SetMessage{Str = 658}         -- "All three statuettes are not placed.  I cannot reward partial success.  Return when you have placed all three."
end

-- "Quest"
evt.global[464] = function()
	evt.SetMessage{Str = 660}         -- "As you may have already guessed, I'm a collector of fine art.  Currently, I am looking for a set of paintings, one of King Roland, one of his brother Archibald, and one of the angel statue in the courtyard of Castle Ironfist.  This set is of great value, and, as a collector, I'm willing to pay quite handsomely for it.  If you should gather the entire set of paintings bring them back to me and I'll be sure to compensate you well for your effort."
	evt.Set{"QBits", Value = 204}         -- "Retrieve the three paintings and return them to Ferdinand Visconti in Tatalia."
	evt.SetNPCTopic{NPC = 289, Index = 0, Event = 465}         -- "Ferdinand Visconti" : "Quest"
end

-- "Quest"
evt.global[465] = function()
	evt.ForPlayer(-- ERROR: Const not found
"All")
	if evt.Cmp{"Inventory", Value = 621} then         -- "Angel Statue Painting"
		if evt.Cmp{"Inventory", Value = 622} then         -- "Archibald Ironfist Painting"
			if evt.Cmp{"Inventory", Value = 623} then         -- "Roland Ironfist Painting"
				evt.SetMessage{Str = 663}         -- "Wonderful!  This set has eluded me for years!  You more than deserve the reward I promised; here, hopefully this will be sufficient."
				evt.Subtract{"Inventory", Value = 621}         -- "Angel Statue Painting"
				evt.Subtract{"Inventory", Value = 622}         -- "Archibald Ironfist Painting"
				evt.Subtract{"Inventory", Value = 623}         -- "Roland Ironfist Painting"
				evt.ForPlayer(-- ERROR: Const not found
"Current")
				evt.Add{"Gold", Value = 50000}
				evt.Subtract{"Reputation", Value = 10}
				evt.ForPlayer(-- ERROR: Const not found
"All")
				evt.Subtract{"QBits", Value = 204}         -- "Retrieve the three paintings and return them to Ferdinand Visconti in Tatalia."
				evt.Add{"Experience", Value = 50000}
				evt.Add{"Awards", Value = 101}         -- "Retrieved the complete set of paintings"
				evt.SetNPCGreeting{NPC = 289, Greeting = 176}         -- "Ferdinand Visconti" : "Thank you for your assistance in completing my collection.  You have my gratitude forever!"
				evt.SetNPCTopic{NPC = 289, Index = 0, Event = 0}         -- "Ferdinand Visconti"
				return
			end
		end
	end
	evt.SetMessage{Str = 662}         -- "Remember, I need the complete set of paintings-- they aren't worth much by themselves.  When you have the rest, bring them all to me."
end

-- "Arcomage Tounament"
evt.global[466] = function()
	evt.SetMessage{Str = 664}         -- "To be declared ArcoMage Champion, you must win a game of ArcoMage in every tavern on, in, and under the continent of Erathia.  There are 13 such taverns sponsoring ArcoMage events.  When you have accomplished this in Elrond's name, return to me and I shall bestow upon you great rewards."
	evt.Set{"QBits", Value = 205}         -- "Honor Elrond's memory by winning the Arcomage Championship, then return to Darron Temper in Pierpont."
	evt.SetNPCTopic{NPC = 285, Index = 0, Event = 467}         -- "Darron Temper" : "Quest"
end

-- "Quest"
evt.global[467] = function()
	if evt.Cmp{"QBits", Value = 238} then         -- Won all Arcomage games
		evt.SetMessage{Str = 666}         -- "Congratulations!  You have brought honor to Elrond's name by becoming the ArcoMage Champion!  Your reward is waiting in a chest outside of our summer home in Erathia."
		evt.Subtract{"QBits", Value = 205}         -- "Honor Elrond's memory by winning the Arcomage Championship, then return to Darron Temper in Pierpont."
		evt.Add{"Gold", Value = 100000}
		evt.Subtract{"Reputation", Value = 10}
		evt.ForPlayer(-- ERROR: Const not found
"All")
		evt.Add{"Experience", Value = 50000}
		evt.Add{"QBits", Value = 244}         -- Finished ArcoMage Quest - Get the treasure
		evt.Add{"Awards", Value = 102}         -- "ArcoMage Champion"
		evt.SetNPCGreeting{NPC = 285, Greeting = 178}         -- "Darron Temper" : "Welcome ArcoMage Champions!"
		evt.SetNPCTopic{NPC = 285, Index = 0, Event = 0}         -- "Darron Temper"
	else
		evt.SetMessage{Str = 665}         -- "You must claim a victory at ALL 13 taverns.  Until you do, you cannot be declared ArcoMage Champion."
	end
end

-- "Stone City"
evt.global[468] = function()
	evt.SetMessage{Str = 669}         -- "People say the Dwarves live in the barren lands south of Harmondale, but that's not exactly true--They live UNDER them.  Look for their front gate in the center of the Barrow Downs where three bridges meet."
end

-- "Stone City"
evt.global[469] = function()
	evt.SetMessage{Str = 670}         -- "Ever since the Warlocks of Nighon tunneled through Stone City from their island, travelers have been asking to pass through the city to get to Nighon.  The Dwarf King hates this, and would like to charge a hefty fee for people seeking to enter Stone City.  He has not started charging however, fearing political and possible violent repercussions with the Warlocks of Nighon."
end

-- "Passage to Nighon"
evt.global[470] = function()
	evt.SetMessage{Str = 671}         -- "The Warlocks of Nighon live in Thunderfist Mountain--an extinct volcano on a large island a few miles from the mainland.  During the recent wars, the Warlocks tunneled through Stone City to transport their forces across the channel.  Those tunnels are still open and can be traversed."
end

-- "Warlock's Tunnels"
evt.global[471] = function()
	evt.SetMessage{Str = 672}         -- "During the War, the Warlocks tunneled from Nighon through Stone City to get to the mainland and seize territory.  Even though they were pushed back to their island by Erathia, the tunnels remain."
end

-- "Barrows"
evt.global[472] = function()
	evt.SetMessage{Str = 673}         -- "Dwarves live under the ground of the Barrow Downs--a barren collection of ancient gravesites built by their race centuries ago to honor fallen kings and heroes.  Not all of the barrows can be reached on the surface--many are magically connected to each other through a system of teleporters and traps that protect the graves from those who would rob them.  If you look closely at the walls you should see markings that might help you navigate."
end

-- "Medusas"
evt.global[473] = function()
	if evt.Cmp{"QBits", Value = 98} then         -- Built Castle to Level 2 (rescued dwarf guy)
		evt.SetMessage{Str = 703}         -- "The Lords of Harmondale!  Heroes, I say!  My cousin was one of the ones you rescued!  We are in your debt!"
	else
		evt.SetMessage{Str = 674}         -- "We were making a fortune in the Red Dwarf Mines until the Medusas came!  We had to run before they turned everyone to stone.  Without our mining, we have almost no way to make a living.  Not the way for a proper Dwarf to live, I say!"
	end
end

-- "Red Dwarf Mines"
evt.global[474] = function()
	if evt.Cmp{"QBits", Value = 98} then         -- Built Castle to Level 2 (rescued dwarf guy)
		evt.SetMessage{Str = 704}         -- "Thank you for delivering our people from the medusas!  The Dwarves of Stone City will not forget you!"
	else
		evt.SetMessage{Str = 675}         -- "Bracada leased the land where we started the Red Dwarf Mine to us a few years ago.  That was until the Medusas came and took the mines from our people.  Only the Gods know what horrors go on in there now.  The mines were in the Northeast corner of Bracada."
	end
end

-- "The Statues"
evt.global[475] = function()
	if evt.Cmp{"QBits", Value = 98} then         -- Built Castle to Level 2 (rescued dwarf guy)
		evt.SetMessage{Str = 705}         -- "We owe you much for your daring rescue of our people.  Rebuilding your castle was the least we could do for you."
	else
		evt.SetMessage{Str = 676}         -- "When the Medusas took the Red Dwarf Mines from us, not everyone escaped.  There are still several statues in the mines.  They can be rescued if their statues haven't been broken yet, but you would have to fight through the Medusas to do it."
	end
end

-- "Stone City"
evt.global[476] = function()
	evt.SetMessage{Str = 677}         -- "Do you like our city?  It's not just a hole in the ground--it's a home in the ground!  Dwarves have been working this mountain for centuries!  There isn't much mining left here, though, and what there is happens to be in unstable and unsafe tunnels.  Be careful if you go to the lower levels."
end

-- "Harmondale"
evt.global[477] = function()
	if not evt.Cmp{"QBits", Value = 99} then         -- Chose the path of Light
		if not evt.Cmp{"QBits", Value = 100} then         -- Chose the path of Dark
			evt.SetMessage{Str = 678}         -- "Respectfully, my lords, I must say that no one expects you to last long because no other lords of Harmondale have lasted long.  The fighting and politics between Erathia and Avlee will claim you sooner or later.  Probably sooner."
			return
		end
	end
	evt.SetMessage{Str = 706}         -- "Good day, my lords.  I must say the people are changing their minds about your chances of survival.  Everyone is saying how wonderful it is to have stable rulers in the Castle!"
end

-- "Rebellions"
evt.global[478] = function()
	evt.SetMessage{Str = 679}         -- "Rebellions here in Harmondale are rare, but we've had a couple of big ones!  Most of the time lords here don't last long enough to rebel against, but there've been some wicked ones!  Not that I think you're wicked, my lords."
end

-- "Castle Harmondale"
evt.global[479] = function()
	if evt.Cmp{"QBits", Value = 98} then         -- Built Castle to Level 2 (rescued dwarf guy)
		evt.SetMessage{Str = 707}         -- "It's good to see the Castle rebuilt and those loathsome goblin bandits evicted.  Things are looking better around here since you took over!"
	else
		evt.SetMessage{Str = 680}         -- "It's good to see someone in Harmondale again, my lords.  The castle's been standing empty since the War, except for the goblins.  But they don't count, I suppose."
	end
end

-- "Tularean Caves"
evt.global[480] = function()
	evt.SetMessage{Str = 681}         -- "What with all the wars that Avlee gets itself into all the time, and all the high taxes, I've moved to Harmondale to stay.  Harmondale sees a lot of violence, but at least they don't conscript.  You know, there's been so many wars in Avlee that one of the kings had a tunnel dug from his castle to the caves in the North just in case the castle was taken AGAIN."
end

-- "White Cliff Caves"
evt.global[481] = function()
	evt.SetMessage{Str = 682}         -- "A ways outside of Harmondale there's a cave system called the White Cliff Caves.  The entrance has been magically warded for as long as I can remember.  Recently, the Mad Mage Pascal, Diviner of Strange Flesh, has removed the ward and sent an entire army of Trolls into the cave.  Travelers report that they have heard sounds of a fierce battle being waged near the entrance.  I'd avoid that area, if I were you!"
end

-- "Fort Riverstride"
evt.global[482] = function()
	if evt.Cmp{"QBits", Value = 83} then         -- Gave false Loren to Catherine (betray)
		evt.SetMessage{Str = 708}         -- "I've heard Fort Riverstride was taken with the aid of treachery!  What a shame that those wretches were able to wring concessions from the Queen in exchange for the return of what was already ours!"
	else
		evt.SetMessage{Str = 683}         -- "Did you notice that covered bridge on the way from Harmondale to Steadwick?  It's called Fort Riverstride, and it protects us from surprise Elvish attacks coming through Harmondale.  There's so many traps and tricks inside there, they say it will never fall without the help of treachery.  "
	end
end

-- "The Arena"
evt.global[483] = function()
	evt.SetMessage{Str = 684}         -- "There's a Fountain just outside of the School of Sorcery in Bracada that will immediately teleport you to the Arena.   It's a good way to get some experience under your belt; ....  if you survive the encounters!"
end

-- "The Arbiter"
evt.CanShowTopic[484] = function()
	return evt.Cmp{"QBits", Value = 98}         -- Built Castle to Level 2 (rescued dwarf guy)
end

evt.global[484] = function()
	if evt.Cmp{"QBits", Value = 134} then         -- Arbiter Messenger only happens once
		evt.SetMessage{Str = 712}         -- "The death of Judge Grey was a blow to all of us.  I hope his replacement does his legacy justice."
	else
		evt.SetMessage{Str = 685}         -- "Because of all the tension in the air, Erathia and Avlee hired an arbiter to help them work out their differences.  He's staying in the ""House of Stars"" on the eastern edge of Harmondale territory.  Maybe he has some advice for you."
	end
end

-- "Lost and Found"
evt.global[485] = function()
	evt.SetMessage{Str = 686}         -- "If you ever feel like you need advice on what next to do, or you've lost something important, go visit the Arbiter in the House of Stars near the Eastern edge of Harmondale territory.  He often knows where lost items went, or has advice on what you need to do.  I'm sure you'll find him helpful."
end

-- "The Choice"
evt.CanShowTopic[486] = function()
	return evt.Cmp{"QBits", Value = 134}         -- Arbiter Messenger only happens once
end

evt.global[486] = function()
	if not evt.Cmp{"QBits", Value = 99} then         -- Chose the path of Light
		if not evt.Cmp{"QBits", Value = 100} then         -- Chose the path of Dark
			evt.SetMessage{Str = 687}         -- "The death of Judge Grey, Arbiter of Harmondale, has put the War on hold.  It's like the whole world is holding its breath, waiting for you to make a choice.  Better be careful who you choose--this sounds like a big one, my Lords."
			return
		end
	end
	evt.SetMessage{Str = 713}         -- "It looks like the consequences of your choice are just beginning, my lords.  I hope you chose wisely."
end

-- "Proving Grounds"
evt.global[487] = function()
	evt.SetMessage{Str = 688}         -- "The proving grounds, called the Walls of Mist,  is the place where all the wizards in Celeste have to go before they learn the High Art.  I hear it is much more of a moral test than a physical one.  You aren't allowed to kill any of the monsters in the maze."
end

-- "Celeste"
evt.global[488] = function()
	evt.SetMessage{Str = 689}         -- "The city of Celeste has been home to the Light for centuries.  It was established by King Magnus II  in 499 as the centerpiece to the Kingdom of Bracada, and as a beacon of hope to the rest of the world.  "
end

-- "The Pit"
evt.global[489] = function()
	evt.SetMessage{Str = 690}         -- "What you see on the surface in Deyja is only a small part of the true Kingdom of Death.  There is an underground city they call the Pit.  It can be reached from the surface only by way of the Hall of the Pit in Northern Deyja.  "
end

-- "Celeste"
evt.global[490] = function()
	evt.SetMessage{Str = 691}         -- "Celeste is the magical city built by the Wizards of Bracada centuries ago, and anchored half in the mountains, and half in mist high above Bracada.  You must use one of their teleporters to get there--you can find it near the center of Bracada."
end

-- "Mysterious Murders"
evt.CanShowTopic[491] = function()
	return evt.Cmp{"QBits", Value = 98}         -- Built Castle to Level 2 (rescued dwarf guy)
end

evt.global[491] = function()
	if evt.Cmp{"QBits", Value = 107} then         -- Slayed the vampire
		evt.SetMessage{Str = 714}         -- "So it was a vampire that was killing all those people!  I hear you're the ones to get rid of it, too!  Thanks!  Everyone feels much safer now."
	else
		evt.SetMessage{Str = 692}         -- "There was another murder, recently, that's been all the talk around town.  Another body--young woman, so I hear--was found near the sewers.  Drained of blood, for the love of Light!  It's those thieves living' in the sewers I tell you!  Rats, they are.  Someone should go down there and put them out of business!"
	end
end

-- "The Kreegan"
evt.global[492] = function()
	evt.SetMessage{Str = 693}         -- "During the War, the Warlocks had dealings with some strange creatures commonly known as devils in the mountains south of Avlee.  It's impossible to get there from the mainland, but the Warlocks dug a tunnel under the sea from their island that leads to the devil's home."
end

-- "Losing the War"
evt.global[493] = function()
	evt.SetMessage{Str = 694}         -- "We…overplayed our hand during the War, and failed to win any territory on the mainland.  Our ""allies"", the Kreegan, turned out to be very untrustworthy.  People from Enroth call them devils--now we know why.  At just the moment when we needed them most, they turned and ran, leaving us to face the wrath of the armies of Erathia and Avlee.  Next time, we won't be so trusting."
end

-- "Falling out in Deyja"
evt.CanShowTopic[494] = function()
	return evt.Cmp{"QBits", Value = 198}         -- Archibald in Clankers Lab now
end

evt.global[494] = function()
	evt.SetMessage{Str = 695}         -- "There's been quite a bit of activity in Deyja, people are saying.  It seems that Archibald Ironfist, the leader of Deyja (and former King of Enroth) has left the Pit for an island off the Eastern shore of Avlee.  A lot of Necromancers followed him there--seems there's some sort of split going on."
end

-- "Roland of Enroth"
evt.CanShowTopic[495] = function()
	if not evt.Cmp{"QBits", Value = 99} then         -- Chose the path of Light
		if not evt.Cmp{"QBits", Value = 100} then         -- Chose the path of Dark
			return false
		end
	end
end

evt.global[495] = function()
	if evt.Cmp{"QBits", Value = 240} then         -- Talked to Roland
		evt.SetMessage{Str = 715}         -- "They say you are being credited with rescuing King Roland!  That's quite a feather in your cap, my lords!  QUITE a feather!"
	else
		evt.SetMessage{Str = 696}         -- "Rumors have been trickling out of Nighon that King Roland of Enroth may still be alive.  Some Warlocks have said that they personally saw him when they met with the foul Kreegan.  The rumors also say that the Kreegan are keeping him in a cage and mistreating him horribly."
	end
end

-- "Soul Jars"
evt.global[496] = function()
	evt.SetMessage{Str = 697}         -- "A Soul Jar is what a Necromancer needs to complete the Ritual and become a Lich--an immortal undead monster that retains its mind and memories from life.  It's pretty obvious that this is not a desirable condition for most people, which is why the market for these artifacts isn't very good.  Nonetheless, Necromancers will do almost anything to get more--their profession's very existence depends on them."
end

-- "Warlocks"
evt.global[497] = function()
	evt.SetMessage{Str = 700}         -- "Although the Warlocks are technically servants of the Dark, they usually aren't violent.  They will defend themselves if attacked, of course, but they won't start a fight unless you start it first.  They're quite reasonable, as a matter of fact, and they take their business seriously.  I've found dealing with them to be quite pleasant."
end

-- "We Found a lost ONE!"
evt.global[498] = function()
	evt.SetMessage{Str = 255}         --[[ "Hey good buddies. That’s Super!  Great!  Peachy Keen!  Boss!  Radical!

Now you need to report these lost ONES, and any other problems, comments, and/or thoughts to Big Daddy Jim as a BLOG response at the following site:

http://hosted.filefront.com/BigDaddyJim

Muchas Gracias!  Many Thanks! And all that stuff ...." ]]
end

-- "Expert Teachers"
evt.global[499] = function()
	evt.SetMessage{Str = 716}         -- "Looking for Expert instruction in one of your Skills?  Expert teachers for most Skills can be found in Harmondale, Erathia and the Tularean Forest. "
end

-- "Missing People"
evt.global[500] = function()
	evt.SetMessage{Str = 698}         -- "People have been disappearing recently.  Not just one or two, but several every day!  They go to bed at night, and the next day they aren't seen and their houses are empty!  I certainly wish someone would find out what it happening!"
end

-- "Make Weapon"
evt.global[501] = function()
	if evt.Cmp{"Inventory", Value = 691} then         -- "Stalt-laced ore"
		evt.Subtract{"Inventory", Value = 691}         -- "Stalt-laced ore"
		evt.GiveItem{Strength = 6, Type = const.ItemType.Weapon_, Id = 0}
		evt.SetMessage{Str = 717}         -- "Here's your weapon; if you find more ore, I'll be happy to make you more weapons."
	else
		if evt.Cmp{"Inventory", Value = 690} then         -- "Erudine-laced ore"
			evt.Subtract{"Inventory", Value = 690}         -- "Erudine-laced ore"
			evt.GiveItem{Strength = 5, Type = const.ItemType.Weapon_, Id = 0}
			evt.SetMessage{Str = 717}         -- "Here's your weapon; if you find more ore, I'll be happy to make you more weapons."
		else
			if evt.Cmp{"Inventory", Value = 689} then         -- "Kergar-laced ore"
				evt.Subtract{"Inventory", Value = 689}         -- "Kergar-laced ore"
				evt.GiveItem{Strength = 4, Type = const.ItemType.Weapon_, Id = 0}
				evt.SetMessage{Str = 717}         -- "Here's your weapon; if you find more ore, I'll be happy to make you more weapons."
			else
				if evt.Cmp{"Inventory", Value = 688} then         -- "Phylt-laced ore"
					evt.Subtract{"Inventory", Value = 688}         -- "Phylt-laced ore"
					evt.GiveItem{Strength = 3, Type = const.ItemType.Weapon_, Id = 0}
					evt.SetMessage{Str = 717}         -- "Here's your weapon; if you find more ore, I'll be happy to make you more weapons."
				else
					if evt.Cmp{"Inventory", Value = 687} then         -- "Siertal-laced ore"
						evt.Subtract{"Inventory", Value = 687}         -- "Siertal-laced ore"
						evt.GiveItem{Strength = 2, Type = const.ItemType.Weapon_, Id = 0}
						evt.SetMessage{Str = 717}         -- "Here's your weapon; if you find more ore, I'll be happy to make you more weapons."
					else
						if evt.Cmp{"Inventory", Value = 686} then         -- "Iron-laced ore"
							evt.Subtract{"Inventory", Value = 686}         -- "Iron-laced ore"
							evt.GiveItem{Strength = 1, Type = const.ItemType.Weapon_, Id = 0}
							evt.SetMessage{Str = 717}         -- "Here's your weapon; if you find more ore, I'll be happy to make you more weapons."
						else
							evt.SetMessage{Str = 718}         -- "You need ore for me to create weapons.  The better the ore, the better the weapon I can make."
						end
					end
				end
			end
		end
	end
end

-- "Make Armor"
evt.global[502] = function()
	if evt.Cmp{"Inventory", Value = 691} then         -- "Stalt-laced ore"
		evt.Subtract{"Inventory", Value = 691}         -- "Stalt-laced ore"
		evt.GiveItem{Strength = 6, Type = const.ItemType.Armor_, Id = 0}
		evt.SetMessage{Str = 719}         -- "Here's your armor; if you find more ore, I'll be happy to make you more armor."
	else
		if evt.Cmp{"Inventory", Value = 690} then         -- "Erudine-laced ore"
			evt.Subtract{"Inventory", Value = 690}         -- "Erudine-laced ore"
			evt.GiveItem{Strength = 5, Type = const.ItemType.Armor_, Id = 0}
			evt.SetMessage{Str = 719}         -- "Here's your armor; if you find more ore, I'll be happy to make you more armor."
		else
			if evt.Cmp{"Inventory", Value = 689} then         -- "Kergar-laced ore"
				evt.Subtract{"Inventory", Value = 689}         -- "Kergar-laced ore"
				evt.GiveItem{Strength = 4, Type = const.ItemType.Armor_, Id = 0}
				evt.SetMessage{Str = 719}         -- "Here's your armor; if you find more ore, I'll be happy to make you more armor."
			else
				if evt.Cmp{"Inventory", Value = 688} then         -- "Phylt-laced ore"
					evt.Subtract{"Inventory", Value = 688}         -- "Phylt-laced ore"
					evt.GiveItem{Strength = 3, Type = const.ItemType.Armor_, Id = 0}
					evt.SetMessage{Str = 719}         -- "Here's your armor; if you find more ore, I'll be happy to make you more armor."
				else
					if evt.Cmp{"Inventory", Value = 687} then         -- "Siertal-laced ore"
						evt.Subtract{"Inventory", Value = 687}         -- "Siertal-laced ore"
						evt.GiveItem{Strength = 2, Type = const.ItemType.Armor_, Id = 0}
						evt.SetMessage{Str = 719}         -- "Here's your armor; if you find more ore, I'll be happy to make you more armor."
					else
						if evt.Cmp{"Inventory", Value = 686} then         -- "Iron-laced ore"
							evt.Subtract{"Inventory", Value = 686}         -- "Iron-laced ore"
							evt.GiveItem{Strength = 1, Type = const.ItemType.Armor_, Id = 0}
							evt.SetMessage{Str = 719}         -- "Here's your armor; if you find more ore, I'll be happy to make you more armor."
						else
							evt.SetMessage{Str = 720}         -- "You need ore for me to create armor.  The better the ore, the better the armor I can make."
						end
					end
				end
			end
		end
	end
end

-- "Make Item"
evt.global[503] = function()
	if evt.Cmp{"Inventory", Value = 691} then         -- "Stalt-laced ore"
		evt.Subtract{"Inventory", Value = 691}         -- "Stalt-laced ore"
		evt.GiveItem{Strength = 6, Type = const.ItemType.Misc, Id = 0}
		evt.SetMessage{Str = 721}         -- "Here is your item; if you find more ore, I'll be happy to make you more items."
	else
		if evt.Cmp{"Inventory", Value = 690} then         -- "Erudine-laced ore"
			evt.Subtract{"Inventory", Value = 690}         -- "Erudine-laced ore"
			evt.GiveItem{Strength = 5, Type = const.ItemType.Misc, Id = 0}
			evt.SetMessage{Str = 721}         -- "Here is your item; if you find more ore, I'll be happy to make you more items."
		else
			if evt.Cmp{"Inventory", Value = 689} then         -- "Kergar-laced ore"
				evt.Subtract{"Inventory", Value = 689}         -- "Kergar-laced ore"
				evt.GiveItem{Strength = 4, Type = const.ItemType.Misc, Id = 0}
				evt.SetMessage{Str = 721}         -- "Here is your item; if you find more ore, I'll be happy to make you more items."
			else
				if evt.Cmp{"Inventory", Value = 688} then         -- "Phylt-laced ore"
					evt.Subtract{"Inventory", Value = 688}         -- "Phylt-laced ore"
					evt.GiveItem{Strength = 3, Type = const.ItemType.Misc, Id = 0}
					evt.SetMessage{Str = 721}         -- "Here is your item; if you find more ore, I'll be happy to make you more items."
				else
					if evt.Cmp{"Inventory", Value = 687} then         -- "Siertal-laced ore"
						evt.Subtract{"Inventory", Value = 687}         -- "Siertal-laced ore"
						evt.GiveItem{Strength = 2, Type = const.ItemType.Misc, Id = 0}
						evt.SetMessage{Str = 721}         -- "Here is your item; if you find more ore, I'll be happy to make you more items."
					else
						if evt.Cmp{"Inventory", Value = 686} then         -- "Iron-laced ore"
							evt.Subtract{"Inventory", Value = 686}         -- "Iron-laced ore"
							evt.GiveItem{Strength = 1, Type = const.ItemType.Misc, Id = 0}
							evt.SetMessage{Str = 721}         -- "Here is your item; if you find more ore, I'll be happy to make you more items."
						else
							evt.SetMessage{Str = 722}         -- "You need ore for me to create items.  The better the ore, the better the items I can make."
						end
					end
				end
			end
		end
	end
end

-- "Signal "
evt.global[504] = function()
	evt.SetMessage{Str = 723}         -- "The signal rocket on the west side of the island should be set of to warn ships off from approaching to close to that side of the island.  The reefs off the west coast have proven deadly in the past."
end

-- "Dragon Flies"
evt.global[505] = function()
	evt.SetMessage{Str = 724}         -- "Beware the marshes of the southern tip of the island.  A tribe of Goblins has taken up residence there!  "
end

-- "Fallen Trees"
evt.global[506] = function()
	evt.SetMessage{Str = 725}         -- "Fallen or dead trees can sometimes be the hiding place of some treasure or trinket.  However, it can also be home to insects or worse!"
end

-- "Bracada Teleporters"
evt.global[507] = function()
	evt.SetMessage{Str = 726}         -- "The teleporters of central Bracada can get you to numerous locations in the desert.  Just check the pillar in front of the teleporter for the location it will take you to.  Be careful however, some of the teleporters haven't been working correctly and will not show the destination!"
end

-- "Castle Upgrade"
evt.CanShowTopic[508] = function()
	if not evt.Cmp{"QBits", Value = 98} then         -- Built Castle to Level 2 (rescued dwarf guy)
		return false
	end
end

evt.global[508] = function()
	if evt.Cmp{"Awards", Value = 84} then         -- "Completed Necromancer Breeding Pit"
		evt.SetMessage{Str = 727}         --[[ "Oh! and stay clear of Pascal and his minions of conjured Trolls!  Pascal is really quite ‘mad’ and his minions are somewhat stupid.  If you get too close to them in the heat of Battle, they may attack you!  If this occurs, all of your allies will become your enemies and you will fail the Test of Friendship!

And remember your objective!  Get the cube and gather your friends back into your party.  Once this is done you can dispatch the remaining foes if you like.

When it’s time to leave, you **must** use the exit to Celeste located immediately behind you in company with all six friends!  Don’t leave this cave by any other means or you will fail The Test and The Game!

Good luck, adventurers!" ]]
	else
		if evt.Cmp{"Awards", Value = 46} then         -- "Completed Wizard Proving Grounds"
			evt.SetMessage{Str = 728}         -- "My Lords!  Gavin Magnus sent engineers and artisans to upgrade Castle Harmondale!  Now we have an upstairs and downstairs!  The artisans are setting up shop in the entry hall and will have many wonderful items for sale!  The workers, however, discovered an older area to the castle--a torture chamber and dungeon.  It isn't a pretty sight, I'm afraid."
		else
			evt.SetMessage{Str = 732}         -- "My Lords. Castle Harmondale stands ready."
		end
	end
end

-- "Pedestals"
evt.global[509] = function()
	evt.SetMessage{Str = 733}         -- "Pedestals can be found through out the land that can lend you temporary protection from certain types of magic. "
end

-- "Disputed Land"
evt.global[510] = function()
	evt.SetMessage{Str = 729}         -- "My Lords ::bows:: Now that you have cleared Castle Harmondale of the vandals and thieves, you should concentrate on removing the goblins from the area surrounding Harmondale.  To the east of here is the center of the disputed region.  Many great battles have been waged there between the forces of King Eldrich of the Elves and Queen Catherine of Erathia.  The goblins have taken the ruined fort in this area an use it to attack any travelers attempting to reach Harmondale!"
end

-- "Castle Harmondale"
evt.global[511] = function()
	evt.SetMessage{Str = 730}         -- "My Lords, remember Castle Harmondale is YOURS.  Feel free to relax while you're here.  Your sleep will never be disturbed by attacking monsters, nor will anything you decide to store in the castle's chests ever be stolen or removed.  You are home."
end

-- "Pay 1000 Gold"
evt.global[513] = function()
	if evt.Cmp{"Gold", Value = 1000} then
		evt.SetMessage{Str = 738}         -- "This 1000 gold will go a long way to keeping zombies off the roads.  Thank you for your contribution."
		evt.Subtract{"Gold", Value = 1000}
		evt.Set{"QBits", Value = 249}         -- Don't get ambushed
	else
		evt.SetMessage{Str = 755}         -- "I can see your heart is in the right place, but your purse obviously isn't.  If you don't have the money, just say so.  In any event, good luck dealing with the zombies.  Ta-ta!"
	end
	evt.SetNPCTopic{NPC = 122, Index = 0, Event = 0}         -- "Lunius Shador"
	evt.SetNPCTopic{NPC = 122, Index = 1, Event = 0}         -- "Lunius Shador"
end

-- "Don't Pay"
evt.global[514] = function()
	evt.SetMessage{Str = 739}         -- "That's a shame.  What a coincidence, I think I see some zombies on the roads.  Perhaps next time you'll be more inclined to contribute."
	evt.SetNPCTopic{NPC = 122, Index = 0, Event = 0}         -- "Lunius Shador"
	evt.SetNPCTopic{NPC = 122, Index = 1, Event = 0}         -- "Lunius Shador"
end

-- "Recent Loss"
evt.global[515] = function()
	evt.SetMessage{Str = 740}         -- "My husband Darron recently lost his brother in a freak accident.  So overwhelming is his grief that he spends his days wandering aimlessly about Pierpont.  Poor soul!"
end

-- "Can we help?"
evt.global[516] = function()
	evt.SetMessage{Str = 450}         -- "That's very kind of you.  But no .... I've got to deal with his absence in my own way and time.  Wait!!  perhaps you can assist me by honoring my brother's name.  You see, Elron, was an avid Arcomage player.  Horribly addicting game, if I do say so.  Here, take his Arcomage deck and win the Arcomage tournament in his name.  He'd like that.  Thank you."
	evt.ForPlayer(-- ERROR: Const not found
"Current")
	evt.Add{"Inventory", Value = 651}         -- "Arcomage Deck"
	evt.SetNPCTopic{NPC = 285, Index = 0, Event = 466}         -- "Darron Temper" : "Arcomage Tounament"
end

-- "Disarm Trap Expert"
evt.global[517] = function()
	evt.SetMessage{Str = 742}         -- "Bill Lasker is the only one who can provide this advancement.  Seek him out in the Erathian Sewers."
end

-- "Courier Delivery"
evt.global[518] = function()
	evt.ForPlayer(-- ERROR: Const not found
"All")
	if evt.Cmp{"QBits", Value = 277} then         -- Courier Quest 4
		evt.SetMessage{Str = 786}         --[[ "My! Aren't you a fine-looking group of adventurers!  Zowie!  Fine, supple, strong; beauty at its best!  It’s always grand to meet others of the same calaibre as myself.  They should call ‘our kind’ the ‘Beautiful Ones’.  My name is Agatha.  Good to feast my eyes on you all. 

Now, onto the task at-hand.  My twin sister Rena lives here in Deja with her husband, Jayce Kedrin.  Rena and I are not identical twins and she was not ‘blessed’ with the ‘looks’ in our family as was I.  She’s, well, kind of plain.  Some might call her a real ‘Bow Wow’, if you know what I mean.  She’s the proverbial ‘two-bag date’.  Anywise, her birthday is upon us and I have purchased a special concoction called ‘Beauty Cream’ from Licia Rivenrock.  She’s indeed a Master Herbalist and her ‘cream’ is reported to do wonders with even the most ‘ordinary’ of subjects. I need you to pick up the order from Licia and deliver it to my sister.  Licia runs a business called ‘The House of Remedies’ in the Barrow Downs.

Oh! And my sister will provide you with the customary fee upon delivery. " ]]
		evt.SetNPCTopic{NPC = 209, Index = 0, Event = 0}         -- "Agatha Putnam"
		return
	end
	if evt.Cmp{"QBits", Value = 276} then         -- Courier Quest 3
		if evt.Cmp{"Inventory", Value = 774} then         -- "Recipe"
			evt.SetMessage{Str = 785}         -- "The recipe!  You made good time on this delivery.  Great service!  Thanks.  Here's your fee."
			evt.Subtract{"Inventory", Value = 774}         -- "Recipe"
			evt.ForPlayer(-- ERROR: Const not found
"Current")
			evt.Add{"Gold", Value = 5000}
			evt.SetNPCTopic{NPC = 451, Index = 0, Event = 0}         -- "Alice the Chef"
			evt.Set{"QBits", Value = 280}         -- Courier Quest 3 complete
		else
			evt.SetMessage{Str = 783}         -- "Welcome to Alice’s Restaurant … where you can get anything you want!  Well, that is, except me. I’m Alice.  Today’s special is broiled filet of Troll, smothered in toad stools with …  Oh, I’m sorry.  You’re the couriers, aren’t you!  What I need you to do is to pickup a recipe from Peni Pretty in Erathia and return it to me.  The standard delivery fee will be paid upon receipt of the recipe."
		end
		return
	end
	if evt.Cmp{"QBits", Value = 275} then         -- Courier Quest 2
		if evt.Cmp{"Inventory", Value = 564} then         -- "Talisman (repaired)"
			evt.SetMessage{Str = 781}         -- "The talisman, good as new!  Thanks.  Here’s your payment."
			evt.Subtract{"Inventory", Value = 564}         -- "Talisman (repaired)"
			evt.ForPlayer(-- ERROR: Const not found
"Current")
			evt.Add{"Gold", Value = 5000}
			evt.SetNPCTopic{NPC = 38, Index = 0, Event = 0}         -- "Bartholomew Hume"
			evt.Set{"QBits", Value = 279}         -- Courier Quest 2 complete
			return
		end
		if not evt.Cmp{"Inventory", Value = 563} then         -- "Talisman (broken)"
			evt.ForPlayer(-- ERROR: Const not found
"Current")
			evt.Set{"Inventory", Value = 563}         -- "Talisman (broken)"
		end
		goto _22
	end
	if not evt.Cmp{"QBits", Value = 274} then         -- Courier Quest 1
		return
	end
	if evt.Cmp{"Inventory", Value = 773} then         -- "Signed Contract"
		evt.SetMessage{Str = 744}         --[[ "Thanks for returning this contract to me.  Here's your reward, as promised. 

Oh! and I found the crossword puzzle answer.  Freddie the Freeloader was a Red Skeleton." ]]
		evt.Subtract{"Inventory", Value = 773}         -- "Signed Contract"
		evt.ForPlayer(-- ERROR: Const not found
"Current")
		evt.Add{"Gold", Value = 5000}
		evt.SetNPCTopic{NPC = 241, Index = 0, Event = 0}         -- "Taren the Lifter"
		evt.Set{"QBits", Value = 278}         -- Courier Quest 1 complete
		return
	end
	if not evt.Cmp{"Inventory", Value = 772} then         -- "Unsigned Contract"
		evt.ForPlayer(-- ERROR: Const not found
"Current")
		evt.Set{"Inventory", Value = 772}         -- "Unsigned Contract"
	end
	evt.SetMessage{Str = 743}         --[[ "Ahh, the new Courier Initiates arrive at last! I need to have a contract delivered to Mortie Ottin in Pierpont, signed by him, and returned to me post haste.  This is a very time sensitive task that needs to be completed within the month.  I will provide you with the customary payment when the contract is returned to me. 

Oh, before ya leave, maybe you can help me.  I'm 'stuck' on a crossword puzzle question.  Do you know the color of the Skeleton named 'Freddy the Freeloader'?  Didn't think so, but it was worth a try.  See you on your return trip." ]]
	do return end
::_22::
	evt.SetMessage{Str = 780}         -- "Ahh,the Couriers in-training!  Your arrival is most propitious!   I need you to deliver this broken talisman to Douglas Iversen in Harmondale.  Wait while he repairs the item and return it to me.  Upon its return, I’ll give you the standard courier fee."
end

-- "Courier Delivery"
evt.global[519] = function()
	evt.ForPlayer(-- ERROR: Const not found
"All")
	if evt.Cmp{"QBits", Value = 277} then         -- Courier Quest 4
		if evt.Cmp{"QBits", Value = 282} then         -- Rena Quest
			evt.SetMessage{Str = 788}         --[[ "A delivery for me?  Must be my birthday present from Agie. Oh my!  A bottle of the legendary ‘Beauty Cream’.  I’m so excited about this!  Here, let me have it.  [Rena takes the bottle and gulps down the entire content] 

Oh!  I feel so …. strange.  Here, take your delivery fee and leave now.  I’m going to take a little nap.  Visit me later to see the results of the ‘miracle treatment’.  By for now …. " ]]
			evt.Set{"QBits", Value = 281}         -- Courier Quest 4 complete
			evt.Subtract{"Inventory", Value = 272}         -- "Beauty Creme"
			evt.ForPlayer(-- ERROR: Const not found
"Current")
			evt.Add{"Gold", Value = 5000}
			evt.SetNPCTopic{NPC = 452, Index = 0, Event = 0}         -- "Rena Putnum Kedrin"
			evt.MoveNPC{NPC = 452, HouseId = 0}         -- "Rena Putnum Kedrin"
			evt.MoveNPC{NPC = 453, HouseId = 336}         -- "Rena Putnum Kedrin" -> "Kedrin Residence"
		else
			evt.SetMessage{Str = 787}         --[[ "Hi, I’m Licia.  Can I interest you in some of my herbal remedies?  Perhaps some Love Potent #9?  Or a bottle of my patented ‘potency formula’ named ‘Argaiv’?  

Oh, of course not.  You’re the couriers here for a pick up, aren’t you.  Well here’s the bottle of Beauty Cream, and here’s your Deja Teleportal Key.  Good luck on your journey back to Deja."" ]]
			evt.Set{"QBits", Value = 282}         -- Rena Quest
			evt.SetNPCTopic{NPC = 452, Index = 0, Event = 519}         -- "Rena Putnum Kedrin" : "Courier Delivery"
			evt.ForPlayer(-- ERROR: Const not found
"Current")
			evt.Set{"Inventory", Value = 272}         -- "Beauty Creme"
			evt.Set{"Inventory", Value = 666}         -- "Deja Teleportal Key"
			evt.SetNPCTopic{NPC = 399, Index = 0, Event = 0}         -- "Licia Rivenrock"
		end
	else
		if evt.Cmp{"QBits", Value = 276} then         -- Courier Quest 3
			evt.ForPlayer(-- ERROR: Const not found
"Current")
			evt.Set{"Inventory", Value = 774}         -- "Recipe"
			evt.SetMessage{Str = 784}         -- "Oh, the couriers!  I suspect you’re here for the recipe?  Here you are.  And here’s the Avlee Teleportal Key."
			evt.Set{"Inventory", Value = 667}         -- "Avlee Teleportal Key"
			evt.SetNPCTopic{NPC = 442, Index = 0, Event = 0}         -- "Peni Pretty"
		else
			if evt.Cmp{"QBits", Value = 275} then         -- Courier Quest 2
				evt.Subtract{"Inventory", Value = 563}         -- "Talisman (broken)"
				evt.ForPlayer(-- ERROR: Const not found
"Current")
				evt.Set{"Inventory", Value = 564}         -- "Talisman (repaired)"
				evt.SetMessage{Str = 782}         -- "What have we here?  Oh, I see.  This will be easy to fix.  [Iversen takes the talisman into the back room and returns in a few minutes]  There ya go, good as new!  Return this to Master Hume for your reward.  Here's your second teleportal key."
				evt.Set{"Inventory", Value = 669}         -- "Bracada Teleportal Key"
				evt.SetNPCTopic{NPC = 128, Index = 0, Event = 0}         -- "Douglas Iverson"
			else
				if evt.Cmp{"QBits", Value = 274} then         -- Courier Quest 1
					if evt.Cmp{"Inventory", Value = 772} then         -- "Unsigned Contract"
						evt.Subtract{"Inventory", Value = 772}         -- "Unsigned Contract"
						evt.ForPlayer(-- ERROR: Const not found
"Current")
						evt.Set{"Inventory", Value = 773}         -- "Signed Contract"
						evt.SetMessage{Str = 745}         --[[ "The contract ... finally!  Here, let me look it over.  Looks good .. [Mortie signs the contract and returns it to you]  Return this contract to Taren with all haste.    Here's your first teleportal key.  It will save you some travel time in the delivery.

Oh, and a word about the Teleportal Hub.  The hub can take you to several locations.  Make sure that your party leader (active character) is equipped with only one key -that of your desired destination.  Otherwise you may be transported elsewhere."" ]]
						evt.Set{"Inventory", Value = 665}         -- "Tatalia Teleportal Key"
						evt.SetNPCTopic{NPC = 107, Index = 0, Event = 0}         -- "Mortie Ottin"
					else
						evt.SetMessage{Str = 746}         -- "Where's the contract?  Oh, sorry ... I mistook you for the couriers from Taren in Tatalia."
					end
				end
			end
		end
	end
end

-- "The Courier Guild"
evt.global[520] = function()
	evt.SetMessage{Str = 747}         --[[ "Welcome, adventurers!  I'm Sarah, the Founding Matron and Gran Mouma of the Courier Guild.  The Courier Guild consists of an elite company of Master Couriers who enjoy certain travel privileges throughout the remote areas of Erathia.   Membership to the guild is 500 gold, non-refundable.  With your initial membership, you become a Courier Initiate and receive the Home Key, which entitles you to use all Home Portals to return you to Steadwick.

To become a Master Courier, you must complete four courier assignments.  The completion of each assignment will provide you with (1) a 5000 gold delivery fee and (2) a unique teleportal key that activates the Teleportal Hub in Harmondale."" ]]
	evt.SetNPCTopic{NPC = 449, Index = 0, Event = 521}         -- "Sarah" : "Join the Guild"
end

-- "Join the Guild"
evt.global[521] = function()
	evt.ForPlayer(-- ERROR: Const not found
"All")
	if evt.Cmp{"Gold", Value = 500} then
		evt.Set{"QBits", Value = 273}         -- "Complete four Courier Guild missions."
		evt.ForPlayer(-- ERROR: Const not found
"Current")
		evt.Subtract{"Gold", Value = 500}
		evt.Add{"Inventory", Value = 670}         -- "Home Key"
		evt.SetMessage{Str = 748}         -- "A wise decision on your part!  Here’s your Home Key.  Guard it carefully, because it is irreplaceable."
		evt.SetNPCTopic{NPC = 449, Index = 0, Event = 522}         -- "Sarah" : "Courier Assignment"
	else
		evt.SetMessage{Str = 125}         -- "You don't have enough gold!"
	end
end

-- "Courier Assignment"
evt.global[522] = function()
	evt.ForPlayer(-- ERROR: Const not found
"All")
	if evt.Cmp{"QBits", Value = 281} then         -- Courier Quest 4 complete
		evt.SetMessage{Str = 10}         --[[ "Congratulations!  You’ve completed all four assignments in record time, just as the Erathian Festival of the Five Moons is ending!   You are now ready to join the ranks of our elite guild. I hereby promote you to the rank of Master Courier!  Welcome to the Guild! 

Now just one more thing.  Our couriers used to service the Evenmorn Islands. Unfortunately through a series of miss-haps, all keys to the island chain were lost, stolen, or destroyed.   If you ever come across one of these keys, please bring it back to me so that I can make a copy of it.  I will reward you handsomely in gold.  Good luck, Master Couriers!"" ]]
		evt.Subtract{"QBits", Value = 273}         -- "Complete four Courier Guild missions."
		evt.Subtract{"QBits", Value = 274}         -- Courier Quest 1
		evt.Subtract{"QBits", Value = 275}         -- Courier Quest 2
		evt.Subtract{"QBits", Value = 276}         -- Courier Quest 3
		evt.Subtract{"QBits", Value = 277}         -- Courier Quest 4
		evt.Subtract{"QBits", Value = 278}         -- Courier Quest 1 complete
		evt.Subtract{"QBits", Value = 279}         -- Courier Quest 2 complete
		evt.Subtract{"QBits", Value = 280}         -- Courier Quest 3 complete
		evt.Subtract{"QBits", Value = 281}         -- Courier Quest 4 complete
		evt.Subtract{"QBits", Value = 282}         -- Rena Quest
		evt.SetNPCTopic{NPC = 48, Index = 0, Event = 92}         -- "Thomas Grey" : "Wizard"
		evt.SetNPCTopic{NPC = 41, Index = 0, Event = 67}         -- "Steagal Snick" : "Warrior Mage"
		evt.SetNPCTopic{NPC = 50, Index = 0, Event = 98}         -- "Anthony Green" : "Great Druid"
		evt.SetNPCTopic{NPC = 43, Index = 0, Event = 73}         -- "Frederick Org" : "Cavalier"
		evt.SetNPCTopic{NPC = 45, Index = 0, Event = 79}         -- "Ebednezer Sower" : "Hunter"
		evt.SetNPCTopic{NPC = 38, Index = 1, Event = 58}         -- "Bartholomew Hume" : "Initiate"
		evt.Set{"QBits", Value = 283}         -- End of Festival
		evt.ForPlayer(-- ERROR: Const not found
0)
		evt.Add{"Experience", Value = 20000}
		evt.Add{"Awards", Value = 6}         -- "Promoted to Master Courier"
		evt.ForPlayer(-- ERROR: Const not found
1)
		evt.Add{"Experience", Value = 20000}
		evt.Add{"Awards", Value = 6}         -- "Promoted to Master Courier"
		evt.ForPlayer(-- ERROR: Const not found
2)
		evt.Add{"Experience", Value = 20000}
		evt.Add{"Awards", Value = 6}         -- "Promoted to Master Courier"
		evt.ForPlayer(-- ERROR: Const not found
3)
		evt.Add{"Experience", Value = 20000}
		evt.Add{"Awards", Value = 6}         -- "Promoted to Master Courier"
		evt.SetNPCTopic{NPC = 449, Index = 0, Event = 523}         -- "Sarah" : "Lost Key"
	else
		if evt.Cmp{"QBits", Value = 280} then         -- Courier Quest 3 complete
			evt.SetMessage{Str = 9}         --[[ "Now to your final assignment.  This one’s a bit tricky, I’m afraid, and somewhat dangerous.  In the mid-western region of Deja there is a small, unnamed village of four or five shanties.  Journey to this village and find Agatha Putnam.  She’ll provide details of your final delivery.  After you’ve completed this assignment, use the Deja Home Portal to return to me for your promotion to Master Courier. 

Oh!  And watch out for the hostiles in this area!  Good luck." ]]
			evt.SetNPCTopic{NPC = 209, Index = 0, Event = 518}         -- "Agatha Putnam" : "Courier Delivery"
			evt.SetNPCTopic{NPC = 399, Index = 0, Event = 519}         -- "Licia Rivenrock" : "Courier Delivery"
			evt.MoveNPC{NPC = 452, HouseId = 336}         -- "Rena Putnum Kedrin" -> "Kedrin Residence"
			evt.Set{"QBits", Value = 277}         -- Courier Quest 4
		else
			if evt.Cmp{"QBits", Value = 279} then         -- Courier Quest 2 complete
				evt.SetMessage{Str = 751}         -- "I see you are well on your way to Master Courier.  Good!  Your third delivery takes you to the town of Spaward in Avlee.  You need to locate Alice's Restaurant  (where you can get anything you want) and just ask Alice.  She'll brief you on the details of the delivery."
				evt.SetNPCTopic{NPC = 451, Index = 0, Event = 518}         -- "Alice the Chef" : "Courier Delivery"
				evt.SetNPCTopic{NPC = 442, Index = 0, Event = 519}         -- "Peni Pretty" : "Courier Delivery"
				evt.Set{"QBits", Value = 276}         -- Courier Quest 3
			else
				if evt.Cmp{"QBits", Value = 278} then         -- Courier Quest 1 complete
					evt.SetMessage{Str = 750}         -- "Good job on your first assignment!  For your next delivery, you must journey to the Bracada Desert and seek out Bartholomew Hume, the Roving Monk. You can normally find him near the Crystal Caravans.  He will provide you with details of the delivery. Bracada does have a Home Portal, in case you need to return here during your assignment.""
					evt.SetNPCTopic{NPC = 38, Index = 0, Event = 518}         -- "Bartholomew Hume" : "Courier Delivery"
					evt.SetNPCTopic{NPC = 128, Index = 0, Event = 519}         -- "Douglas Iverson" : "Courier Delivery"
					evt.Set{"QBits", Value = 275}         -- Courier Quest 2
				else
					evt.SetMessage{Str = 749}         -- "Your first assignment takes you to Tatalia.  When you arrive, seek out Taren.  He will provide you with details of the delivery.  Tatalia does have a Home Portal, in case you need to return here during your assignment."
					evt.MoveNPC{NPC = 241, HouseId = 410}         -- "Taren the Lifter" -> "Taren's House"
					evt.SetNPCTopic{NPC = 107, Index = 0, Event = 519}         -- "Mortie Ottin" : "Courier Delivery"
					evt.Set{"QBits", Value = 274}         -- Courier Quest 1
				end
			end
		end
	end
end

-- "Lost Key"
evt.global[523] = function()
	evt.ForPlayer(-- ERROR: Const not found
"All")
	if evt.Cmp{"Inventory", Value = 668} then         -- "Evenmorn Teleportal Key"
		evt.SetMessage{Str = 11}         -- "I see you’ve recovered the Evenmorn key.  Great!  This is indeed a good day for The Guild!  Let me make a copy of the key.  Here’s your reward, as promised."
		evt.ForPlayer(-- ERROR: Const not found
"Current")
		evt.Add{"Gold", Value = 10000}
		evt.SetNPCTopic{NPC = 449, Index = 0, Event = 0}         -- "Sarah"
	else
		evt.SetMessage{Str = 779}         -- "Please continue to search for the Evenmorn Key."
	end
end

-- "Purchase 50 food for 500 gold"
evt.global[524] = function()
	evt.ForPlayer(-- ERROR: Const not found
"All")
	if not evt.Cmp{"Gold", Value = 500} then
		evt.SetMessage{Str = 125}         -- "You don't have enough gold!"
	else
		if evt.Cmp{"Food", Value = 50} then
			evt.SetMessage{Str = 39}         -- "Your packs are full!"
		else
			evt.ForPlayer(-- ERROR: Const not found
"Current")
			evt.Subtract{"Gold", Value = 500}
			evt.Set{"Food", Value = 50}
		end
	end
end

-- "I feel Pretty!"
evt.global[525] = function()
	evt.SetMessage{Str = 789}         --[[ "I feel pretty, oh so pretty.  I feel pretty .. and witty .. and gay!  And I pity any girl that's in need today. Tra-la-la-la-la-la-lala!! 

I feel stunning,oh so stunning.  Feel like running and jumping for joy!  ....." ]]
end

-- "Promotions"
evt.global[526] = function()
	evt.SetMessage{Str = 16}         -- "Sorry, promotions are not available during the Festival of the Five Moons.  Come back after the holidays."
end

-- "Boat Schedule"
evt.global[527] = function()
	evt.SetMessage{Str = 752}         -- "You can charter a boat from this port to Erathia on Tuesdays, Thursdays and Saturdays. Boats for the Bracada Desert leave on Mondays and Wednesdays. Boats leave for Avlee on Friday only. If you have completed the Priest quest you can charter a boat to Evenmorn Island on Sundays."
end

-- "Nighon Tunnel"
evt.global[528] = function()
	evt.SetMessage{Str = 753}         -- "If you are looking to make it quickly to Nighon through the tunnels below, you should take the left fork of the Nighon Tunnel.  Many have taken the right fork and have never been heard from again.  Then again they may have made it to Nighon only to be taken by the Warlocks!"
end

-- "Harmodale Teleportal Hub"
evt.global[529] = function()
	if evt.Cmp{"Inventory", Value = 664} then         -- "Emerald Is. Teleportal Key"
		evt.SetMessage{Str = 774}         -- "I see you have the Emerald Island teleportal key.  You cannot use this key in the Harmondale Hub.  It only works at the teleport platform north of the Crystal Caravan."
	else
		evt.SetMessage{Str = 754}         -- "The well in this area is a Teleportal Hub used by the Courier Guild. The hub can take you to Bracada, Evenmorn Islands, Deja, Tatalia, and Avlee.  The keys required to use the hub are only issued to guild members in good standing.  The guild's main office is in Steadwick (Erathia proper), accross the way from the Griffin's Rest."
	end
end

-- "Haste Pedestal"
evt.global[530] = function()
	evt.CastSpell{Spell = 5, Mastery = const.GM, Skill = 5, FromX = 0, FromY = 0, FromZ = 0, ToX = 0, ToY = 0, ToZ = 0}         -- "Haste"
end

-- "Earth Resistance Pedestal"
evt.global[531] = function()
	evt.CastSpell{Spell = 36, Mastery = const.GM, Skill = 5, FromX = 0, FromY = 0, FromZ = 0, ToX = 0, ToY = 0, ToZ = 0}         -- "Earth Resistance"
end

-- "Day of the Gods Pedestal"
evt.global[532] = function()
	evt.CastSpell{Spell = 83, Mastery = const.GM, Skill = 5, FromX = 0, FromY = 0, FromZ = 0, ToX = 0, ToY = 0, ToZ = 0}         -- "Day of the Gods"
end

-- "Shield Pedestal"
evt.global[533] = function()
	evt.CastSpell{Spell = 17, Mastery = const.GM, Skill = 5, FromX = 0, FromY = 0, FromZ = 0, ToX = 0, ToY = 0, ToZ = 0}         -- "Shield"
end

-- "Water Resistance Pedestal"
evt.global[534] = function()
	evt.CastSpell{Spell = 25, Mastery = const.GM, Skill = 5, FromX = 0, FromY = 0, FromZ = 0, ToX = 0, ToY = 0, ToZ = 0}         -- "Water Resistance"
end

-- "Fire Resistance Pedestal"
evt.global[535] = function()
	evt.CastSpell{Spell = 3, Mastery = const.GM, Skill = 5, FromX = 0, FromY = 0, FromZ = 0, ToX = 0, ToY = 0, ToZ = 0}         -- "Fire Resistance"
end

-- "Heroism Pedestal"
evt.global[536] = function()
	evt.CastSpell{Spell = 51, Mastery = const.GM, Skill = 5, FromX = 0, FromY = 0, FromZ = 0, ToX = 0, ToY = 0, ToZ = 0}         -- "Heroism"
end

-- "Immolation Pedestal"
evt.global[537] = function()
	evt.CastSpell{Spell = 8, Mastery = const.GM, Skill = 5, FromX = 0, FromY = 0, FromZ = 0, ToX = 0, ToY = 0, ToZ = 0}         -- "Immolation"
end

-- "Mind Resistance Pedestal"
evt.global[538] = function()
	evt.CastSpell{Spell = 58, Mastery = const.GM, Skill = 5, FromX = 0, FromY = 0, FromZ = 0, ToX = 0, ToY = 0, ToZ = 0}         -- "Mind Resistance"
end

-- "Body Resistance Pedestal"
evt.global[539] = function()
	evt.CastSpell{Spell = 69, Mastery = const.GM, Skill = 5, FromX = 0, FromY = 0, FromZ = 0, ToX = 0, ToY = 0, ToZ = 0}         -- "Body Resistance"
end

-- "Stone Skin Pedestal"
evt.global[540] = function()
	evt.CastSpell{Spell = 38, Mastery = const.GM, Skill = 5, FromX = 0, FromY = 0, FromZ = 0, ToX = 0, ToY = 0, ToZ = 0}         -- "Stone Skin"
end

-- "Air Resistance Pedestal"
evt.global[541] = function()
	evt.CastSpell{Spell = 14, Mastery = const.GM, Skill = 5, FromX = 0, FromY = 0, FromZ = 0, ToX = 0, ToY = 0, ToZ = 0}         -- "Air Resistance"
end

-- "Game of Might"
evt.global[542] = function()
	if evt.Cmp{"PlayerBits", Value = 31} then
		evt.StatusText{Str = 760}         -- "You have already won!"
	else
		if evt.Cmp{"CurrentMight", Value = 25} then
			evt.Add{"SkillPoints", Value = 3}
			evt.StatusText{Str = 761}         -- "You win!  +3 Skill Points"
			evt.Set{"PlayerBits", Value = 31}
		else
			evt.StatusText{Str = 756}         -- "You have failed the game!"
		end
	end
end

-- "Game of Endurance"
evt.global[543] = function()
	if evt.Cmp{"PlayerBits", Value = 32} then
		evt.StatusText{Str = 760}         -- "You have already won!"
	else
		if evt.Cmp{"CurrentEndurance", Value = 25} then
			evt.Add{"SkillPoints", Value = 3}
			evt.StatusText{Str = 761}         -- "You win!  +3 Skill Points"
			evt.Set{"PlayerBits", Value = 32}
		else
			evt.StatusText{Str = 756}         -- "You have failed the game!"
		end
	end
end

-- "Game of Intellect"
evt.global[544] = function()
	if evt.Cmp{"PlayerBits", Value = 33} then
		evt.StatusText{Str = 760}         -- "You have already won!"
	else
		if evt.Cmp{"CurrentIntellect", Value = 25} then
			evt.Add{"SkillPoints", Value = 3}
			evt.StatusText{Str = 761}         -- "You win!  +3 Skill Points"
			evt.Set{"PlayerBits", Value = 33}
		else
			evt.StatusText{Str = 756}         -- "You have failed the game!"
		end
	end
end

-- "Game of Personality"
evt.global[545] = function()
	if evt.Cmp{"PlayerBits", Value = 34} then
		evt.StatusText{Str = 760}         -- "You have already won!"
	else
		if evt.Cmp{"CurrentPersonality", Value = 25} then
			evt.Add{"SkillPoints", Value = 3}
			evt.StatusText{Str = 761}         -- "You win!  +3 Skill Points"
			evt.Set{"PlayerBits", Value = 34}
		else
			evt.StatusText{Str = 756}         -- "You have failed the game!"
		end
	end
end

-- "Game of Accuracy"
evt.global[546] = function()
	if evt.Cmp{"PlayerBits", Value = 35} then
		evt.StatusText{Str = 760}         -- "You have already won!"
	else
		if evt.Cmp{"CurrentAccuracy", Value = 25} then
			evt.Add{"SkillPoints", Value = 3}
			evt.StatusText{Str = 761}         -- "You win!  +3 Skill Points"
			evt.Set{"PlayerBits", Value = 35}
		else
			evt.StatusText{Str = 756}         -- "You have failed the game!"
		end
	end
end

-- "Game of Speed"
evt.global[547] = function()
	if evt.Cmp{"PlayerBits", Value = 36} then
		evt.StatusText{Str = 760}         -- "You have already won!"
	else
		if evt.Cmp{"CurrentSpeed", Value = 25} then
			evt.Add{"SkillPoints", Value = 3}
			evt.StatusText{Str = 761}         -- "You win!  +3 Skill Points"
			evt.Set{"PlayerBits", Value = 36}
		else
			evt.StatusText{Str = 756}         -- "You have failed the game!"
		end
	end
end

-- "Game of Luck"
evt.global[548] = function()
	if evt.Cmp{"PlayerBits", Value = 37} then
		evt.StatusText{Str = 760}         -- "You have already won!"
	else
		if evt.Cmp{"CurrentLuck", Value = 25} then
			evt.Add{"SkillPoints", Value = 3}
			evt.StatusText{Str = 761}         -- "You win!  +3 Skill Points"
			evt.Set{"PlayerBits", Value = 37}
		else
			evt.StatusText{Str = 756}         -- "You have failed the game!"
		end
	end
end

-- "Contest of Might"
evt.global[549] = function()
	if evt.Cmp{"PlayerBits", Value = 38} then
		evt.StatusText{Str = 760}         -- "You have already won!"
	else
		if evt.Cmp{"CurrentMight", Value = 50} then
			evt.Add{"SkillPoints", Value = 5}
			evt.StatusText{Str = 762}         -- "You win!  +5 Skill Points"
			evt.Set{"PlayerBits", Value = 38}
		else
			evt.StatusText{Str = 757}         -- "You have failed the contest!"
		end
	end
end

-- "Contest of Endurance"
evt.global[550] = function()
	if evt.Cmp{"PlayerBits", Value = 39} then
		evt.StatusText{Str = 760}         -- "You have already won!"
	else
		if evt.Cmp{"CurrentEndurance", Value = 50} then
			evt.Add{"SkillPoints", Value = 5}
			evt.StatusText{Str = 762}         -- "You win!  +5 Skill Points"
			evt.Set{"PlayerBits", Value = 39}
		else
			evt.StatusText{Str = 757}         -- "You have failed the contest!"
		end
	end
end

-- "Contest of Intellect"
evt.global[551] = function()
	if evt.Cmp{"PlayerBits", Value = 40} then
		evt.StatusText{Str = 760}         -- "You have already won!"
	else
		if evt.Cmp{"CurrentIntellect", Value = 50} then
			evt.Add{"SkillPoints", Value = 5}
			evt.StatusText{Str = 762}         -- "You win!  +5 Skill Points"
			evt.Set{"PlayerBits", Value = 40}
		else
			evt.StatusText{Str = 757}         -- "You have failed the contest!"
		end
	end
end

-- "Contest of Personality"
evt.global[552] = function()
	if evt.Cmp{"PlayerBits", Value = 41} then
		evt.StatusText{Str = 760}         -- "You have already won!"
	else
		if evt.Cmp{"CurrentPersonality", Value = 50} then
			evt.Add{"SkillPoints", Value = 5}
			evt.StatusText{Str = 762}         -- "You win!  +5 Skill Points"
			evt.Set{"PlayerBits", Value = 41}
		else
			evt.StatusText{Str = 757}         -- "You have failed the contest!"
		end
	end
end

-- "Contest of Accuracy"
evt.global[553] = function()
	if evt.Cmp{"PlayerBits", Value = 42} then
		evt.StatusText{Str = 760}         -- "You have already won!"
	else
		if evt.Cmp{"CurrentAccuracy", Value = 50} then
			evt.Add{"SkillPoints", Value = 5}
			evt.StatusText{Str = 762}         -- "You win!  +5 Skill Points"
			evt.Set{"PlayerBits", Value = 42}
		else
			evt.StatusText{Str = 757}         -- "You have failed the contest!"
		end
	end
end

-- "Contest of Speed"
evt.global[554] = function()
	if evt.Cmp{"PlayerBits", Value = 43} then
		evt.StatusText{Str = 760}         -- "You have already won!"
	else
		if evt.Cmp{"CurrentSpeed", Value = 50} then
			evt.Add{"SkillPoints", Value = 5}
			evt.StatusText{Str = 762}         -- "You win!  +5 Skill Points"
			evt.Set{"PlayerBits", Value = 43}
		else
			evt.StatusText{Str = 757}         -- "You have failed the contest!"
		end
	end
end

-- "Contest of Luck"
evt.global[555] = function()
	if evt.Cmp{"PlayerBits", Value = 44} then
		evt.StatusText{Str = 760}         -- "You have already won!"
	else
		if evt.Cmp{"CurrentLuck", Value = 50} then
			evt.Add{"SkillPoints", Value = 5}
			evt.StatusText{Str = 762}         -- "You win!  +5 Skill Points"
			evt.Set{"PlayerBits", Value = 44}
		else
			evt.StatusText{Str = 757}         -- "You have failed the contest!"
		end
	end
end

-- "Test of Might"
evt.global[556] = function()
	if evt.Cmp{"PlayerBits", Value = 45} then
		evt.StatusText{Str = 760}         -- "You have already won!"
	else
		if evt.Cmp{"CurrentMight", Value = 100} then
			evt.Add{"SkillPoints", Value = 7}
			evt.StatusText{Str = 763}         -- "You win!  +7 Skill Points"
			evt.Set{"PlayerBits", Value = 45}
		else
			evt.StatusText{Str = 758}         -- "You have failed the test!"
		end
	end
end

-- "Test of Endurance"
evt.global[557] = function()
	if evt.Cmp{"PlayerBits", Value = 46} then
		evt.StatusText{Str = 760}         -- "You have already won!"
	else
		if evt.Cmp{"CurrentEndurance", Value = 100} then
			evt.Add{"SkillPoints", Value = 7}
			evt.StatusText{Str = 763}         -- "You win!  +7 Skill Points"
			evt.Set{"PlayerBits", Value = 46}
		else
			evt.StatusText{Str = 758}         -- "You have failed the test!"
		end
	end
end

-- "Test of Intellect"
evt.global[558] = function()
	if evt.Cmp{"PlayerBits", Value = 47} then
		evt.StatusText{Str = 760}         -- "You have already won!"
	else
		if evt.Cmp{"CurrentIntellect", Value = 100} then
			evt.Add{"SkillPoints", Value = 7}
			evt.StatusText{Str = 763}         -- "You win!  +7 Skill Points"
			evt.Set{"PlayerBits", Value = 47}
		else
			evt.StatusText{Str = 758}         -- "You have failed the test!"
		end
	end
end

-- "Test of Personality"
evt.global[559] = function()
	if evt.Cmp{"PlayerBits", Value = 48} then
		evt.StatusText{Str = 760}         -- "You have already won!"
	else
		if evt.Cmp{"CurrentPersonality", Value = 100} then
			evt.Add{"SkillPoints", Value = 7}
			evt.StatusText{Str = 763}         -- "You win!  +7 Skill Points"
			evt.Set{"PlayerBits", Value = 48}
		else
			evt.StatusText{Str = 758}         -- "You have failed the test!"
		end
	end
end

-- "Test of Accuracy"
evt.global[560] = function()
	if evt.Cmp{"PlayerBits", Value = 49} then
		evt.StatusText{Str = 760}         -- "You have already won!"
	else
		if evt.Cmp{"CurrentAccuracy", Value = 100} then
			evt.Add{"SkillPoints", Value = 7}
			evt.StatusText{Str = 763}         -- "You win!  +7 Skill Points"
			evt.Set{"PlayerBits", Value = 49}
		else
			evt.StatusText{Str = 758}         -- "You have failed the test!"
		end
	end
end

-- "Test of Speed"
evt.global[561] = function()
	if evt.Cmp{"PlayerBits", Value = 50} then
		evt.StatusText{Str = 760}         -- "You have already won!"
	else
		if evt.Cmp{"CurrentSpeed", Value = 100} then
			evt.Add{"SkillPoints", Value = 7}
			evt.StatusText{Str = 763}         -- "You win!  +7 Skill Points"
			evt.Set{"PlayerBits", Value = 50}
		else
			evt.StatusText{Str = 758}         -- "You have failed the test!"
		end
	end
end

-- "Test of Luck"
evt.global[562] = function()
	if evt.Cmp{"PlayerBits", Value = 51} then
		evt.StatusText{Str = 760}         -- "You have already won!"
	else
		if evt.Cmp{"CurrentLuck", Value = 100} then
			evt.Add{"SkillPoints", Value = 7}
			evt.StatusText{Str = 763}         -- "You win!  +7 Skill Points"
			evt.Set{"PlayerBits", Value = 51}
		else
			evt.StatusText{Str = 758}         -- "You have failed the test!"
		end
	end
end

-- "Challenge of Might"
evt.global[563] = function()
	if evt.Cmp{"PlayerBits", Value = 52} then
		evt.StatusText{Str = 760}         -- "You have already won!"
	else
		if evt.Cmp{"CurrentMight", Value = 200} then
			evt.Add{"SkillPoints", Value = 10}
			evt.StatusText{Str = 764}         -- "You win!  +10 Skill Points"
			evt.Set{"PlayerBits", Value = 52}
		else
			evt.StatusText{Str = 759}         -- "You have failed the challenge!"
		end
	end
end

-- "Challenge of Endurance"
evt.global[564] = function()
	if evt.Cmp{"PlayerBits", Value = 53} then
		evt.StatusText{Str = 760}         -- "You have already won!"
	else
		if evt.Cmp{"CurrentEndurance", Value = 200} then
			evt.Add{"SkillPoints", Value = 10}
			evt.StatusText{Str = 764}         -- "You win!  +10 Skill Points"
			evt.Set{"PlayerBits", Value = 53}
		else
			evt.StatusText{Str = 759}         -- "You have failed the challenge!"
		end
	end
end

-- "Challenge of Intellect"
evt.global[565] = function()
	if evt.Cmp{"PlayerBits", Value = 54} then
		evt.StatusText{Str = 760}         -- "You have already won!"
	else
		if evt.Cmp{"CurrentIntellect", Value = 200} then
			evt.Add{"SkillPoints", Value = 10}
			evt.StatusText{Str = 764}         -- "You win!  +10 Skill Points"
			evt.Set{"PlayerBits", Value = 54}
		else
			evt.StatusText{Str = 759}         -- "You have failed the challenge!"
		end
	end
end

-- "Challenge of Personality"
evt.global[566] = function()
	if evt.Cmp{"PlayerBits", Value = 55} then
		evt.StatusText{Str = 760}         -- "You have already won!"
	else
		if evt.Cmp{"CurrentPersonality", Value = 200} then
			evt.Add{"SkillPoints", Value = 10}
			evt.StatusText{Str = 764}         -- "You win!  +10 Skill Points"
			evt.Set{"PlayerBits", Value = 55}
		else
			evt.StatusText{Str = 759}         -- "You have failed the challenge!"
		end
	end
end

-- "Challenge of Accuracy"
evt.global[567] = function()
	if evt.Cmp{"PlayerBits", Value = 56} then
		evt.StatusText{Str = 760}         -- "You have already won!"
	else
		if evt.Cmp{"CurrentAccuracy", Value = 200} then
			evt.Add{"SkillPoints", Value = 10}
			evt.StatusText{Str = 764}         -- "You win!  +10 Skill Points"
			evt.Set{"PlayerBits", Value = 56}
		else
			evt.StatusText{Str = 759}         -- "You have failed the challenge!"
		end
	end
end

-- "Challenge of Speed"
evt.global[568] = function()
	if evt.Cmp{"PlayerBits", Value = 57} then
		evt.StatusText{Str = 760}         -- "You have already won!"
	else
		if evt.Cmp{"CurrentSpeed", Value = 200} then
			evt.Add{"SkillPoints", Value = 10}
			evt.StatusText{Str = 764}         -- "You win!  +10 Skill Points"
			evt.Set{"PlayerBits", Value = 57}
		else
			evt.StatusText{Str = 759}         -- "You have failed the challenge!"
		end
	end
end

-- "Challenge of Luck"
evt.global[569] = function()
	if evt.Cmp{"PlayerBits", Value = 58} then
		evt.StatusText{Str = 760}         -- "You have already won!"
	else
		if evt.Cmp{"CurrentLuck", Value = 200} then
			evt.Add{"SkillPoints", Value = 10}
			evt.StatusText{Str = 764}         -- "You win!  +10 Skill Points"
			evt.Set{"PlayerBits", Value = 58}
		else
			evt.StatusText{Str = 759}         -- "You have failed the challenge!"
		end
	end
end

-- "Traitor!"
evt.CanShowTopic[570] = function()
	return evt.Cmp{"Inventory", Value = 716}         -- "Letter to Hairbaugh"
end

evt.global[570] = function()
	evt.SetMessage{Str = 765}         -- "What!  You wouldn't believe this fabrication would you?  I would never dream of sabotaging your rule here!  Gaahh!  Prepare to die!"
	evt.SetMonGroupBit{NPCGroup = 33, Bit = const.MonsterBits.Invisible, On = true}         -- ""
	evt.SetMonGroupBit{NPCGroup = 34, Bit = const.MonsterBits.Invisible, On = false}         -- ""
end

-- "SAVE you Game!"
evt.global[571] = function()
	evt.SetMessage{Str = 766}         -- "Because of the dangers that you are about to face, it would be a good idea to SAVE your Game.  If anything goes 'wrong', you can always reload your SAVED Game.  Just a word to the wise."
end

-- "Challenges"
evt.global[572] = function()
	evt.SetMessage{Str = 767}         -- "Scattered around the land are the Challenges.  If your ability is great enough, and you best the challenge, you will be award skill points to do with as you wish!"
end

-- "We've found the Lost Scroll!"
evt.global[573] = function()
	evt.ForPlayer(-- ERROR: Const not found
"All")
	if not evt.Cmp{"Inventory", Value = 738} then         -- "Lost Scroll of Wonka"
		evt.SetMessage{Str = 768}         -- "You must bring the Lost Scroll of Wonka to me to collect your reward."
		return
	end
	evt.SetMessage{Str = 769}         --[[ "“Well I’ll be … ya found the Lost Scroll! <he he> I guess it’s not lost anymore, huh!  [smile]  Excuse me for a moment while I verify the authenticity.

Blayze retires to a back room.  In a few moments he begins an incantation in slow, guttural tones.

‘Oooompa … Looompa … Looompidi Dooo, I’ve got some arcane magic for you’.  Blayze repeats this phrase several times, increasing the intoning speed  with each utterance.  Building to a fever pitch, he commands  ‘Come forth ye Everlasting Gobstopper!  Come forth now!!!’

Blaze returns from the back room, chewing gum and popping bubbles, a broad smile on his face.  Yep, that’s it.  Well done adventurers!!  As promised, here’s your reward.”" ]]
	evt.ForPlayer(-- ERROR: Const not found
3)
	if evt.Cmp{"FireSkill", Value = 1} then
		evt.Set{"FireSkill", Value = 49152}
		evt.Set{"FireSkill", Value = 72}
	end
	evt.ForPlayer(-- ERROR: Const not found
2)
	if evt.Cmp{"FireSkill", Value = 1} then
		evt.Set{"FireSkill", Value = 49152}
		evt.Set{"FireSkill", Value = 72}
	end
	evt.ForPlayer(-- ERROR: Const not found
1)
	if evt.Cmp{"FireSkill", Value = 1} then
		evt.Set{"FireSkill", Value = 49152}
		evt.Set{"FireSkill", Value = 72}
	end
	evt.ForPlayer(-- ERROR: Const not found
0)
	if evt.Cmp{"FireSkill", Value = 1} then
		evt.Set{"FireSkill", Value = 49152}
		evt.Set{"FireSkill", Value = 72}
	end
	evt.ForPlayer(-- ERROR: Const not found
"All")
	evt.Subtract{"QBits", Value = 272}         -- "Find the Lost Scroll of Wonka and return it to Blayze on Emerald Island."
	evt.Subtract{"Inventory", Value = 738}         -- "Lost Scroll of Wonka"
	evt.Add{"Awards", Value = 87}         -- "Recovered the Lost Scroll of  Wonka"
	evt.SetNPCTopic{NPC = 139, Index = 1, Event = 0}         -- "Blayze "
	evt.Add{"Experience", Value = 40000}
end

-- "Promotion to Water Magic Master"
evt.global[574] = function()
	evt.ForPlayer(-- ERROR: Const not found
"All")
	if evt.Cmp{"Inventory", Value = 559} then         -- "Watcher's Ring of Elemental Water"
		evt.SetMessage{Str = 772}         -- "I see that you've returned with the Watcher's Ring of Elemental Water. Good!    Use the power of this ring wisely, my students in the pursuit of Truth, Justice, and the Erathian Way!  Now I can promote you to Master level  if  you are already an Expert  with a skill of at least '7'  and have been promoted in your chosen profession..  Oh, and my fee is 4000  gold.  Gotta make a living, you know."
		evt.Add{"Experience", Value = 30000}
		evt.SetNPCTopic{NPC = 144, Index = 0, Event = 243}         -- "Tobren Rainshield" : "Water Magic Master"
		return
	end
	if not evt.Cmp{"Inventory", Value = 326} then         -- "Water Walk"
		evt.ForPlayer(-- ERROR: Const not found
"Current")
		evt.Set{"Inventory", Value = 326}         -- "Water Walk"
	end
	evt.SetMessage{Str = 771}         -- "Before I can promote you to Master of Water Magic, you must prove yourself worthy.  Retrieve the Watcher's Ring of Elemental Water and return it to me.  The Ring is guarded by a powerful Sylph who lives on an island west of Spaward in the Bay of Avlee"
end

-- "The Greatest Hero"
evt.global[575] = function()
	evt.StatusText{Str = 47}         --[[ "Sir BunGleau, Baron of Post Lost, was the greatest Hero in Erathia's history.  So great were his deeds and so noble his demeanor that the Saints of Selinas offered him a shiny panoply endowed with boons beyond measure.  But the humble knight refused their offer, remarking that he could not, in good conscience, wear such a flamboyant display of privilege.  So the Saints offered to enchant the armor with invisibility if he would but openly wear the gauntlets to signify their blessing upon him.  To this he agreed. 

When he retired, the Saints hid his armor and placed six scrolls about the countryside.  It is said that if the secret of these scrolls is unlocked, it will reveal the location of a map indicating where this treasure may be found.  " ]]
	evt.SetNPCGreeting{NPC = 450, Greeting = 10}         -- "Messenger of the Saints" : "Greetings again, friends."
	evt.SetNPCTopic{NPC = 450, Index = 0, Event = 51}         -- "Messenger of the Saints" : "Crusader"
end

--[[MM6--]]

-- "The Letter"
evt.global[1314] = function()
	evt.ForPlayer(-- ERROR: Const not found
"All")
	if evt.Cmp{"Inventory", Value = 2125} then         -- "The Letter"
		evt.SetMessage{Str = 1693}         --[[ "Oh!
The Seal.
Here, I'm supposed to give you this money.
Now, go away before we're seen together!
Someone will get suspicious." ]]
		evt.ForPlayer(-- ERROR: Const not found
4)

-- "The Letter"
evt.global[1315] = function()
	evt.SetMessage{Str = 1694}         --[[ "Don't try to say I didn't pay you!
You got your gold!
" ]]
end

-- "Goblinwatch"
evt.global[1316] = function()
	evt.SetMessage{Str = 1696}         --[[ "Just south of town is an old keep called Goblinwatch.
It was originally built to help keep the town safe from goblin raids, but times have been so peaceful recently that we haven't been taking care of it.
You can imagine our embarrassment when we realized that the very monsters we were guarding against have moved into the keep!
They also changed the lock on a very important door leading to the caves below the dungeon level.
We have a standing reward of 2000 gold pieces to the ones who can figure out the combination and tell us what it is." ]]
	evt.SetNPCTopic{NPC = 1076, Index = 0, Event = 1317}         -- "Janice" : "Goblinwatch"
	evt.Set{"QBits", Value = 1107}         -- "Find the Combination to the vault door in Goblinwatch and return to the Town Hall in New Sorpigal."
	evt.Add{"Inventory", Value = 2109}         -- "Key to Goblinwatch"
end

-- "Goblinwatch"
evt.global[1317] = function()
	evt.ForPlayer(-- ERROR: Const not found
"All")
	if evt.Cmp{"Inventory", Value = 2163} then         -- "Goblinwatch Code"
		evt.SetMessage{Str = 1698}         --[[ "Ah, thank you for taking care of that little detail for us.
Here's your gold!
Feel free to return to Goblinwatch any time to finish clearing out the rest of the monsters.
We can't pay you, but you can have anything you find there.
" ]]
		evt.Set{"Awards", Value = 95}         -- "Solved the Goblinwatch Combination"
		evt.Add{"Experience", Value = 2000}
		evt.ForPlayer(-- ERROR: Const not found
4)
		evt.Add{"Gold", Value = 2000}
		evt.Add{"ReputationIs", Value = 2}
		evt.Subtract{"QBits", Value = 1107}         -- "Find the Combination to the vault door in Goblinwatch and return to the Town Hall in New Sorpigal."
		evt.SetNPCTopic{NPC = 1076, Index = 0, Event = 1318}         -- "Janice" : "Evil Cults"
		evt.MoveNPC{NPC = 1081, HouseId = 0}         -- "Urok"
		evt.MoveNPC{NPC = 828, HouseId = 1463}         -- "Samson Tess" -> "House"
	else
		evt.SetMessage{Str = 1697}         --[[ "How can you find the combination to that lock by standing around here?
Get going!" ]]
	end
end

-- "Evil Cults"
evt.global[1318] = function()
	evt.SetMessage{Str = 1699}         --[[ "You did such a fine job with the Goblinwatch assignment that we would like to employ you again.
A cult has moved into an old abandoned temple a few day's journey west of here.
To pay for their blasphemous activities, they've been robbing travelers using the road that leads to Castle Ironfist.
We've appealed to the regent to do something about these horrible cultists, but he says all his forces are occupied in the west, or some such nonsense.
We want it gone now, so we're willing to pay you 5000 gold pieces to get rid of them and bring us back the Chime of Harmony as proof you've done the deed." ]]
	evt.SetNPCTopic{NPC = 1076, Index = 0, Event = 1319}         -- "Janice" : "Evil Cults"
	evt.Add{"QBits", Value = 1108}         -- "Get the Chime of Harmony from the Temple of Baa and return to the New Sorpigal Town Hall."
end

-- "Evil Cults"
evt.global[1319] = function()
	evt.ForPlayer(-- ERROR: Const not found
"All")
	if evt.Cmp{"Inventory", Value = 2095} then         -- "Chime of Harmony"
		evt.SetMessage{Str = 1701}         --[[ "Good work!
Here's your gold!
I can't thank you enough for ruining that temple.
Now the road to Ironfist will be safe for travel again." ]]
		evt.Subtract{"Inventory", Value = 2095}         -- "Chime of Harmony"
		evt.Add{"Experience", Value = 10000}
		evt.Add{"Awards", Value = 96}         -- "Returned with the Chime of Harmony"
		evt.ForPlayer(-- ERROR: Const not found
4)
		evt.Add{"Gold", Value = 5000}
		evt.Add{"ReputationIs", Value = 2}
		evt.Subtract{"QBits", Value = 1108}         -- "Get the Chime of Harmony from the Temple of Baa and return to the New Sorpigal Town Hall."
		evt.SetNPCTopic{NPC = 1076, Index = 0, Event = 1320}         -- "Janice" : "Evil Cults"
	else
		evt.SetMessage{Str = 1700}         --[[ "Without the Chime of Harmony, I'm not authorized to pay the reward money.
" ]]
	end
end

-- "Evil Cults"
evt.global[1320] = function()
	evt.SetMessage{Str = 1702}         --[[ "The road to Ironfist is much safer thanks to you.
You have our gratitude." ]]
end

-- "The Howling Moon"
evt.global[1321] = function()
	evt.SetMessage{Str = 1703}         --[[ "The proprietor of the Howling Moon is George Caniss.
It's a wonderful place.
Tell him I said hi!" ]]
end

-- "The Letter"
evt.global[1322] = function()
	evt.ForPlayer(-- ERROR: Const not found
"All")
	if evt.Cmp{"Inventory", Value = 2125} then         -- "The Letter"
		evt.SetMessage{Str = 1704}         --[[ "Thank you so much for bringing me these letters! <Wilbur begins reading the letters> I’ve been so worried…I see… This is not good news…Oh, no.
Traitors!
Traitors and conspirators everywhere!
I must organize an expedition at once! <Wilbur lowers his voice> I trust you will not speak to the prince about these letters– he is already too depressed and unhappy to hear more bad news.
And now I must see to the organization of the expedition.
Here is a bag of gold as a reward– you’ve earned it and my gratitude.
Now, if only I could find someone to finish looking for Lord Kilburn…" ]]
		evt.ForPlayer(-- ERROR: Const not found
4)
		evt.Add{"Gold", Value = 5000}
		evt.ForPlayer(-- ERROR: Const not found
"All")
		evt.Set{"Awards", Value = 100}         -- "Delivered 6th Letter to Wilbur Humphry"
		evt.Subtract{"Inventory", Value = 2125}         -- "The Letter"
		evt.Subtract{"QBits", Value = 1205}         -- Quest item bits for seer
		evt.Subtract{"QBits", Value = 1106}         -- "Bring Sulman's letter to Regent Wilbur Humphrey at Castle Ironfist."
		evt.Subtract{"QBits", Value = 1105}         -- "Show Sulman's letter to Andover Potbello in New Sorpigal."
		evt.Add{"Experience", Value = 3000}
		evt.SetNPCTopic{NPC = 789, Index = 0, Event = 1323}         -- "Wilbur Humphrey" : "Lord Kilburn"
	else
		evt.SetMessage{Str = 1891}         --[[ "Welcome, adventurers!
Did you have something for me?
I'm a very busy man, you know.
" ]]
	end
end

-- "Lord Kilburn"
evt.global[1323] = function()
	evt.SetMessage{Str = 1705}         --[[ "<Wilbur snaps his fingers> Say, you wouldn’t happen to be interested in taking care of a little detail for me, would you?
Lord Kilburn disappeared near Blackshire.
Find out what you can and return to me with the information.
If it is true that he has been slain by devils, return his shield to me if at all possible.
I will grant you my favor with the High Council, should you require it, and you can rest assured your compensation will be generous." ]]
	evt.Set{"QBits", Value = 1110}         -- "Find Lord Kilburn's Shield and return to Wilbur Humphrey in Castle Ironfist to report."
	evt.SetNPCTopic{NPC = 789, Index = 0, Event = 1324}         -- "Wilbur Humphrey" : "Lord Kilburn"
end

-- "Lord Kilburn"
evt.global[1324] = function()
	evt.ForPlayer(-- ERROR: Const not found
"All")
	if not evt.Cmp{"Inventory", Value = 2119} then         -- "Lord Kilburn's Shield"
		evt.SetMessage{Str = 1706}         --[[ "Hmm.
No luck finding the shield yet, eh?
Well, do keep looking, will you?
It really is important that someone accounts for his whereabouts." ]]
	else
		evt.SetMessage{Str = 1708}         --[[ "Ah.
‘Tis a sad day when so noble a Knight should fall to such foul monsters!
You have done a good thing, bringing his shield to me.
I shall ensure that he and his men receive all the honors due them.
I am in your debt, and you have my favor with the council.
Here is your reward." ]]
		evt.Subtract{"Inventory", Value = 2119}         -- "Lord Kilburn's Shield"
		evt.Subtract{"QBits", Value = 1206}         -- Quest item bits for seer
		evt.Add{"Experience", Value = 40000}
		evt.Add{"Awards", Value = 57}         -- "Retrieved Lord Kilburn's Shield"
		evt.ForPlayer(-- ERROR: Const not found
4)
		evt.Add{"Gold", Value = 5000}
		evt.Add{"ReputationIs", Value = 10}
		evt.SetNPCTopic{NPC = 789, Index = 0, Event = 1325}         -- "Wilbur Humphrey" : "The High Council"
		evt.Subtract{"QBits", Value = 1110}         -- "Find Lord Kilburn's Shield and return to Wilbur Humphrey in Castle Ironfist to report."
		evt.ForPlayer(-- ERROR: Const not found
"All")
		if evt.Cmp{"Awards", Value = 63} then         -- "Exposed the Traitor on the High Council"
			if evt.Cmp{"Awards", Value = 57} then         -- "Retrieved Lord Kilburn's Shield"
				if evt.Cmp{"Awards", Value = 58} then         -- "Retrieved the Hourglass of Time"
					if evt.Cmp{"Awards", Value = 59} then         -- "Destroyed the Devil's Post"
						if evt.Cmp{"Awards", Value = 60} then         -- "Captured the Prince of Thieves"
							if evt.Cmp{"Awards", Value = 61} then         -- "Fixed the Stable Prices"
								if evt.Cmp{"Awards", Value = 62} then         -- "Ended Winter"
									evt.Set{"QBits", Value = 1191}         -- NPC
								end
							end
						end
					end
				end
			end
		end
	end
end

-- "The High Council"
evt.global[1325] = function()
	if evt.Cmp{"Awards", Value = 63} then         -- "Exposed the Traitor on the High Council"
		evt.SetMessage{Str = 1710}         --[[ "I cannot thank you enough for uncovering that horrible traitor and his crimes against the throne.
I understand you are on a mission of some importance, so for Services Rendered to the Crown, it behooves me to offer you free use of the royal yacht for your travels.
It will take you as far as Hermit's Isle, if you need it to.
Once again, thank you!" ]]
		evt.ForPlayer(-- ERROR: Const not found
"All")
		evt.Set{"Awards", Value = 101}         -- "Allowed to use the Royal Yacht"
	else
		evt.SetMessage{Str = 1709}         --[[ "Well, you have my vote on the High Council.
I trust you implicitly.
I've sent a messenger instructing Slicker Silvertongue to vote for you on my behalf.
Now I'm quite busy, and must attend to other duties.
I'm sure you can take care of any problems and miscommunications that may arise in this matter.
Yes.
Quite right." ]]
	end
end

-- "Crusaders"
evt.global[1326] = function()
	evt.SetMessage{Str = 1711}         --[[ "I am the Foremost Paladin, and as such, I am the one charged with the promotion and keeping of the titles and responsibilities of paladinhood.
Those paladins who wish to perform a quest for the official promotion to crusader must rescue a damsel in distress.
Those of you who are not paladins will be awarded the title of honorary crusader, and all will be given a sizeable gold reward.
Return to me with said damsel and I will promote any paladins aiding in her rescue to the status of crusader." ]]
	evt.Add{"QBits", Value = 1112}         -- "Rescue a Damsel in Distress and return with her to Wilbur Humphrey in Castle Ironfist."
	evt.SetNPCTopic{NPC = 789, Index = 1, Event = 1327}         -- "Wilbur Humphrey" : "Crusaders"
end

-- "Crusaders"
evt.global[1327] = function()
	if not evt.Cmp{"QBits", Value = 1699} then         -- Replacement for NPCs ¹11 ver. 6
		evt.SetMessage{Str = 1712}         --[[ "I know there is a shortage of damsels in distress, but this quest is the traditional test.
I really can’t bend the rules here.
Keep looking– I’m sure you’ll find someone.
If it helps, I hear Melody Silver, daughter of the noble John Silver, is being held captive by ruffians on the Island of Mist." ]]
		return
	end
	evt.SetMessage{Str = 1713}         --[[ "I have heard stories of the daring rescue, and I am delighted that you have returned with Miss Silver.
I shall arrange to have her returned to her family at once.
Exemplary work!
I hereby officially promote all paladins to the status of crusader, and all non-paladins to honorary crusaders!" ]]
	evt.ForPlayer(-- ERROR: Const not found
0)
	if evt.Cmp{"ClassIs", Value = const.Class.PatriarchDark} then
		evt.Set{"ClassIs", Value = const.Class.PatriarchDark3}
		evt.Add{"QBits", Value = 1635}         -- Received Promotion to Crusader
	else
		evt.Add{"QBits", Value = 1636}         -- Received Promotion to Honorary Crusader
	end
	evt.ForPlayer(-- ERROR: Const not found
1)
	if evt.Cmp{"ClassIs", Value = const.Class.PatriarchDark} then
		evt.Set{"ClassIs", Value = const.Class.PatriarchDark3}
		evt.Add{"QBits", Value = 1635}         -- Received Promotion to Crusader
	else
		evt.Add{"QBits", Value = 1636}         -- Received Promotion to Honorary Crusader
	end
	evt.ForPlayer(-- ERROR: Const not found
2)
	if evt.Cmp{"ClassIs", Value = const.Class.PatriarchDark} then
		evt.Set{"ClassIs", Value = const.Class.PatriarchDark3}
		evt.Add{"QBits", Value = 1635}         -- Received Promotion to Crusader
	else
		evt.Add{"QBits", Value = 1636}         -- Received Promotion to Honorary Crusader
	end
	evt.ForPlayer(-- ERROR: Const not found
3)
	if evt.Cmp{"ClassIs", Value = const.Class.PatriarchDark} then
		evt.Set{"ClassIs", Value = const.Class.PatriarchDark3}
		evt.Add{"QBits", Value = 1635}         -- Received Promotion to Crusader
	else
		evt.Add{"QBits", Value = 1636}         -- Received Promotion to Honorary Crusader
	end
	evt.Add{"Gold", Value = 5000}
	evt.Subtract{"QBits", Value = 1699}         -- Replacement for NPCs ¹11 ver. 6
	evt.Subtract{"QBits", Value = 1112}         -- "Rescue a Damsel in Distress and return with her to Wilbur Humphrey in Castle Ironfist."
	evt.Add{"ReputationIs", Value = 2}
	evt.ForPlayer(-- ERROR: Const not found
"All")
	evt.Add{"Experience", Value = 15000}
	evt.SetNPCTopic{NPC = 789, Index = 1, Event = 1328}         -- "Wilbur Humphrey" : "Heroes"
end

-- "Heroes"
evt.global[1328] = function()
	evt.SetMessage{Str = 1714}         --[[ "Well, then!
It is a fine thing to be promoted to crusader, but even finer a thing to be promoted to hero.
As you may have guessed by now, the condition for hero status is to slay a dragon.
I know this seems difficult, but tradition has its demands.
What’s worse, you can’t slay just any dragon, but must slay a named dragon.
Your task is to slay Longfang Witherhide and return with a claw or tooth as proof.
Fortunately, we know that Longfang lives in a cave in the mountains behind Castle Darkmoor.
He has slain at least twelve would-be heroes, so be careful!" ]]
	evt.Add{"QBits", Value = 1113}         -- "Slay Longfang Witherhide in his cave near Castle Darkmoor and return to Wilbur Humphrey in Castle Ironfist."
	evt.SetNPCTopic{NPC = 789, Index = 1, Event = 1329}         -- "Wilbur Humphrey" : "Heroes"
end

-- "Heroes"
evt.global[1329] = function()
	evt.ForPlayer(-- ERROR: Const not found
"All")
	if not evt.Cmp{"Inventory", Value = 2075} then         -- "Dragon Claw"
		evt.SetMessage{Str = 1715}         --[[ "There is no use returning to me to talk about your quest.
I cannot change the rules or your quest.
Longfang awaits your avenging sword.
Now get to it!" ]]
		return
	end
	evt.SetMessage{Str = 1716}         --[[ "Well done!
One less horrible monster in the world is a good thing.
I hereby officially promote all crusaders to heroes, and all honorary crusaders to the status of honorary hero! May you long continue to live up to the title!" ]]
	evt.Add{"Experience", Value = 30000}
	evt.Subtract{"Inventory", Value = 2075}         -- "Dragon Claw"
	evt.Subtract{"QBits", Value = 1209}         -- Quest item bits for seer
	evt.ForPlayer(-- ERROR: Const not found
0)
	if evt.Cmp{"ClassIs", Value = const.Class.PatriarchDark3} then
		evt.Set{"ClassIs", Value = const.Class.Drake}
		evt.Add{"QBits", Value = 1637}         -- Received Promotion to Hero
	else
		evt.Add{"QBits", Value = 1638}         -- Received Promotion to Honorary Hero
	end
	evt.ForPlayer(-- ERROR: Const not found
1)
	if evt.Cmp{"ClassIs", Value = const.Class.PatriarchDark3} then
		evt.Set{"ClassIs", Value = const.Class.Drake}
		evt.Add{"QBits", Value = 1637}         -- Received Promotion to Hero
	else
		evt.Add{"QBits", Value = 1638}         -- Received Promotion to Honorary Hero
	end
	evt.ForPlayer(-- ERROR: Const not found
2)
	if evt.Cmp{"ClassIs", Value = const.Class.PatriarchDark3} then
		evt.Set{"ClassIs", Value = const.Class.Drake}
		evt.Add{"QBits", Value = 1637}         -- Received Promotion to Hero
	else
		evt.Add{"QBits", Value = 1638}         -- Received Promotion to Honorary Hero
	end
	evt.ForPlayer(-- ERROR: Const not found
3)
	if evt.Cmp{"ClassIs", Value = const.Class.PatriarchDark3} then
		evt.Set{"ClassIs", Value = const.Class.Drake}
		evt.Add{"QBits", Value = 1637}         -- Received Promotion to Hero
	else
		evt.Add{"QBits", Value = 1638}         -- Received Promotion to Honorary Hero
	end
	evt.Add{"ReputationIs", Value = 5}
	evt.Subtract{"QBits", Value = 1113}         -- "Slay Longfang Witherhide in his cave near Castle Darkmoor and return to Wilbur Humphrey in Castle Ironfist."
	evt.SetNPCTopic{NPC = 789, Index = 1, Event = 1330}         -- "Wilbur Humphrey" : "Heroes"
end

-- "Heroes"
evt.global[1330] = function()
	evt.SetMessage{Str = 1717}         --[[ "It is always good to speak with heroes of the realm!
Come back in some less troubled time and we'll swap tales of honor and courage by the fire!" ]]
end

-- "Boredom"
evt.global[1331] = function()
	evt.SetMessage{Str = 1718}         --[[ "The palace is deadly dull, and everyone tells me what to do.
Being royalty isn’t really worth much and no one will let me go outside the walls while my father is gone.
I haven’t left the castle for months!
Anyway, you people look pretty important.
What if you helped me sneak out and stay with you for a couple of days?
I can’t give you much in return yet, but I’ll owe you a favor.
Someday I’ll be able to repay you.
I am the prince, after all!
I’ll go out the secret door and meet you outside." ]]
	evt.Add{"QBits", Value = 1114}         -- "Entertain Nicolai."
	evt.Add{"QBits", Value = 1700}         -- Replacement for NPCs ¹13 ver. 6
	evt.SetNPCTopic{NPC = 798, Index = 0, Event = 1332}         -- "Nicolai Ironfist" : "The Circus"
end

-- "The Circus"
evt.global[1332] = function()
	evt.SetMessage{Str = 1719}         -- "Let’s go see the circus!"
end

-- "Missing Text 20"
evt.global[1333] = function()
	evt.MoveNPC{NPC = 798, HouseId = 1595}         -- "Nicolai Ironfist" -> "Circus"
	evt.Subtract{"QBits", Value = 1700}         -- Replacement for NPCs ¹13 ver. 6
	evt.SetMessage{Str = 1720}         -- "It seems that Prince Nicolai disappeared while you were resting."
	evt.Subtract{"QBits", Value = 1114}         -- "Entertain Nicolai."
	evt.Set{"QBits", Value = 1119}         -- "Find and return Prince Nicolai to Castle Ironfist."
	evt.SetNPCTopic{NPC = 798, Index = 0, Event = 1334}         -- "Nicolai Ironfist" : "Excuse me, your Highness…"
	evt.SimpleMessage{}
end

-- "Excuse me, your Highness…"
evt.global[1334] = function()
	evt.SetMessage{Str = 1721}         --[[ "Um.
Hi. <smiling weakly> Would you believe I got lost and these nice people were taking me home?
No?
I guess I wouldn’t either.
I suppose it’s time we got back to the castle, then." ]]
	evt.Set{"QBits", Value = 1700}         -- Replacement for NPCs ¹13 ver. 6
	evt.SetNPCTopic{NPC = 798, Index = 0, Event = 1335}         -- "Nicolai Ironfist" : "Excuse me, your Highness…"
end

-- "Excuse me, your Highness…"
evt.global[1335] = function()
	evt.SetMessage{Str = 1722}         -- "We should go back to Castle Ironfist."
end

-- "The Circus"
evt.global[1337] = function()
	evt.SetMessage{Str = 1724}         --[[ "Thanks for bringing me home.
I owe you a favor!" ]]
end

-- "Uncle Archibald"
evt.global[1338] = function()
	evt.SetMessage{Str = 1725}         --[[ "Everyone says that my Uncle Archibald wasn’t a very nice person, and that he almost usurped the throne from my father, but we defeated him.
Father had Tanir turn him to stone and then locked him in the library.
Nobody’s been in there for years. " ]]
end

-- "The Third Eye"
evt.global[1339] = function()
	evt.SetMessage{Str = 1726}         --[[ "You want to free Archibald?!
If the Oracle told you to do it, I guess we should, but he’ll be trouble once he’s loose, that’s for sure.
I know where the bell is that turned him to stone, but I can’t open the family vault that it’s in without the Third Eye.
It’s one of three gems you need to put into the door of the vault in order to open it.
I’ve got two of them– one in my father’s crown and one in his scepter, but my father hid the third one, and he didn’t tell me where it is.
If you could find it, I could open the vault and get the bell." ]]
	evt.Add{"QBits", Value = 1120}         -- "Find the Third Eye and bring it to Prince Nicolai in Castle Ironfist."
	evt.SetNPCTopic{NPC = 798, Index = 1, Event = 1340}         -- "Nicolai Ironfist" : "Uncle Archibald"
	evt.SetNPCTopic{NPC = 793, Index = 1, Event = 0}         -- "Oracle"
end

-- "Uncle Archibald"
evt.global[1340] = function()
	evt.ForPlayer(-- ERROR: Const not found
"All")
	if evt.Cmp{"Inventory", Value = 2066} then         -- "The Third Eye"
		evt.SetMessage{Str = 1728}         --[[ "You found the Third Eye!
All right, wait here– the bell should be in the vault.
<Nicolai runs out of the throne room, returning a short while later> Ok, here it is! " ]]
		evt.Subtract{"Inventory", Value = 2066}         -- "The Third Eye"
		evt.Subtract{"QBits", Value = 1220}         -- Quest item bits for seer
		evt.Subtract{"QBits", Value = 1120}         -- "Find the Third Eye and bring it to Prince Nicolai in Castle Ironfist."
		evt.ForPlayer(-- ERROR: Const not found
4)
		evt.Add{"Inventory", Value = 2081}         -- "Tanir's Bell"
		evt.Set{"QBits", Value = 1221}         -- Quest item bits for seer
		evt.SetNPCTopic{NPC = 798, Index = 1, Event = 1341}         -- "Nicolai Ironfist" : "Uncle Archibald"
	else
		evt.SetMessage{Str = 1727}         --[[ "Without the Third Eye, I can’t get into the vault to get you the bell that will release Archibald.
He must have hidden it near the castle, because he used to just go right outside and fetch it whenever he needed to open the vault." ]]
	end
end

-- "Uncle Archibald"
evt.global[1341] = function()
	evt.SetMessage{Str = 1729}         --[[ "I hope you know what you're doing.
Everyone says my uncle is quite treacherous." ]]
end

-- "Release Archibald"
evt.global[1343] = function()
	if not evt.Cmp{"QBits", Value = 1201} then         -- NPC
		evt.SetMessage{Str = 1731}         --[[ "Now wait just a minute Tanir, and I’ll make it worth your while to let me…Oh. <Archibald is silent for a long while> I guess I have you people to thank for releasing me from my prison of stone.
Thank you!
You say you need a spell that I've created?
<reaching to the shelves and removing a library scroll> Well, as a reward, I’ll give you the Ritual of the Void.
Use it in good health.
Now, I’m sure you’re very busy, as am I…<Archibald waves his arms and fades away>" ]]
		evt.Add{"Inventory", Value = 2164}         -- "Ritual of the Void"
		evt.Subtract{"QBits", Value = 1221}         -- Quest item bits for seer
		evt.Add{"QBits", Value = 1201}         -- NPC
		evt.Subtract{"QBits", Value = 1121}         -- Walt
		evt.Subtract{"QBits", Value = 1259}         -- "Obtain Arcane Magic from Archibald in the Royal Library in Castle Ironfist"
		evt.Add{"QBits", Value = 1222}         -- Quest item bits for seer
		evt.ForPlayer(-- ERROR: Const not found
"All")
		evt.Subtract{"ReputationIs", Value = 50}
		evt.Add{"Experience", Value = 50000}
		evt.MoveNPC{NPC = 797, HouseId = 0}         -- "Archibald Ironfist"
	end
end

-- "Silver Helms"
evt.global[1344] = function()
	evt.SetMessage{Str = 1732}         --[[ "Thank you for rescuing me from the clutches of those ruffians!
Oh, I wish there was some way for me to reward you!" ]]
	evt.Set{"QBits", Value = 1699}         -- Replacement for NPCs ¹11 ver. 6
	evt.Set{"QBits", Value = 1151}         -- NPC
end

-- "The Prince of Thieves"
evt.global[1345] = function()
	evt.SetMessage{Str = 1733}         --[[ "Mine is the traditional duty to oversee the, um, less than upright business in the Kingdom.
My House has done this for centuries under the philosophy that such business will always exist and is better watched and regulated than not.
Recently, a man styling himself the 'Prince of Thieves' has begun to usurp my authority in Free Haven.
Not only does he challenge my authority, he cooperates with that loathsome new cult that’s sprung up recently…what’s it called?
Moo, or Yak, or Bark…no…whatever.
Some sort of animal sound.
Anyway, my sources tell me that this cult plots to overthrow the King and assume power in Enroth.
This is a bad business, and needs to be stopped.
You can start by arresting the Prince of Thieves and returning him to me in chains.
I will, of course, reward you richly.
" ]]
	evt.Set{"QBits", Value = 1122}         -- "Capture the Prince of Thieves and bring him to Lord Anthony Stone at Castle Stone."
	evt.SetNPCTopic{NPC = 801, Index = 0, Event = 1346}         -- "Anthony Stone" : "The Prince of Thieves"
end

-- "The Prince of Thieves"
evt.global[1346] = function()
	if not evt.Cmp{"QBits", Value = 1701} then         -- Replacement for NPCs ¹17 ver. 6
		evt.SetMessage{Str = 1735}         --[[ "I have no information on his whereabouts, so it will do you no good to talk to me about it.
Try going to Free Haven and asking around.
He must have a hideout somewhere in or near that town.
<Smiling> if you find where he’s living, be sure to check under the bed and in the closet– you’ll probably find him hiding under a pile of clothes." ]]
	else
		evt.Subtract{"QBits", Value = 1122}         -- "Capture the Prince of Thieves and bring him to Lord Anthony Stone at Castle Stone."
		evt.SetMessage{Str = 1736}         --[[ "Ah!
My friends, you have returned with the package!
Well done!
Here is your reward money.
You have my full support at the council. <looking at the Prince> Welcome to my humble home, mighty Prince.
I have a room prepared just for you.
Guards!
Take him away." ]]
		evt.SetNPCTopic{NPC = 801, Index = 0, Event = 1347}         -- "Anthony Stone" : "The High Council"
		evt.Add{"Gold", Value = 10000}
		evt.Add{"ReputationIs", Value = 10}
		evt.ForPlayer(-- ERROR: Const not found
"All")
		evt.Add{"Experience", Value = 30000}
		evt.Add{"Awards", Value = 60}         -- "Captured the Prince of Thieves"
		evt.Subtract{"QBits", Value = 1701}         -- Replacement for NPCs ¹17 ver. 6
		evt.SetNPCTopic{NPC = 802, Index = 0, Event = 1347}         -- "The Prince of Thieves" : "The High Council"
		evt.ForPlayer(-- ERROR: Const not found
"All")
		if evt.Cmp{"Awards", Value = 63} then         -- "Exposed the Traitor on the High Council"
			if evt.Cmp{"Awards", Value = 57} then         -- "Retrieved Lord Kilburn's Shield"
				if evt.Cmp{"Awards", Value = 58} then         -- "Retrieved the Hourglass of Time"
					if evt.Cmp{"Awards", Value = 59} then         -- "Destroyed the Devil's Post"
						if evt.Cmp{"Awards", Value = 60} then         -- "Captured the Prince of Thieves"
							if evt.Cmp{"Awards", Value = 61} then         -- "Fixed the Stable Prices"
								if evt.Cmp{"Awards", Value = 62} then         -- "Ended Winter"
									evt.Set{"QBits", Value = 1191}         -- NPC
								end
							end
						end
					end
				end
			end
		end
	end
end

-- "The High Council"
evt.global[1347] = function()
	evt.SetMessage{Str = 1737}         --[[ "Your work in capturing the Prince of Thieves has been quite beneficial to me.
You have my full support on the High Council." ]]
end

-- "Priests"
evt.global[1348] = function()
	evt.SetMessage{Str = 1738}         --[[ "In addition to my duties as overseer of unlicensed business, I am the High Priest of Enroth.
It is my job to promote clerics to priests, and if warranted, priests to priests of light.
Right now, the rolls are full of priests, and I am unable to promote new ones without creating new positions.
To do so would be highly irregular, but if someone were to perform an extraordinary service for the kingdom, the promotion would be acceptable.
<Rubbing his temples> Come to think of it, there is a service I need.
A temple in Free Haven was destroyed by fire a few months ago.
If you could get it rebuilt, I would have a reason to promote any clerics among you to priest status.
Since I really want this job done, I am even willing to promote non-priests to an honorary priest status, and I will pay you well for your service.
You’ll need to hire a stonecutter and a carpenter and show them the temple you want them to work on." ]]
	evt.Add{"QBits", Value = 1129}         -- "Hire a Stonecutter and a Carpenter, bring them to Temple Stone in Free Haven to repair the Temple, and then return to Lord Anthony Stone at Castle Stone."
	evt.SetNPCTopic{NPC = 801, Index = 1, Event = 1349}         -- "Anthony Stone" : "Priests"
end

-- "Priests"
evt.global[1349] = function()
	if not evt.Cmp{"QBits", Value = 1130} then         -- NPC
		evt.SetMessage{Str = 1739}         --[[ "The temple I asked you to rebuild still stands in ruins.
The people are deprived of their rightful religious solace, and you return to me empty-handed.
Leave here and complete your mission!
" ]]
		return
	end
	evt.SetMessage{Str = 1740}         --[[ "Excellent work!
The temple has been rebuilt and the affront to the gods eased.
For this service, I am happy to promote all clerics to priests, and I grant honorary priest status to all non-clerics.
Congratulations! " ]]
	evt.Subtract{"QBits", Value = 1129}         -- "Hire a Stonecutter and a Carpenter, bring them to Temple Stone in Free Haven to repair the Temple, and then return to Lord Anthony Stone at Castle Stone."
	evt.SetNPCTopic{NPC = 801, Index = 1, Event = 1350}         -- "Anthony Stone" : "High Priests"
	evt.Add{"ReputationIs", Value = 2}
	evt.ForPlayer(-- ERROR: Const not found
"All")
	evt.Add{"Experience", Value = 15000}
	evt.ForPlayer(-- ERROR: Const not found
0)
	if evt.Cmp{"ClassIs", Value = const.Class.MasterArcher} then
		evt.Set{"ClassIs", Value = const.Class.MasterArcher3}
		evt.Add{"QBits", Value = 1647}         -- Received Promotion to Priest
	else
		evt.Add{"QBits", Value = 1648}         -- Received Promotion to Honorary Priest
	end
	evt.ForPlayer(-- ERROR: Const not found
1)
	if evt.Cmp{"ClassIs", Value = const.Class.MasterArcher} then
		evt.Set{"ClassIs", Value = const.Class.MasterArcher3}
		evt.Add{"QBits", Value = 1647}         -- Received Promotion to Priest
	else
		evt.Add{"QBits", Value = 1648}         -- Received Promotion to Honorary Priest
	end
	evt.ForPlayer(-- ERROR: Const not found
2)
	if evt.Cmp{"ClassIs", Value = const.Class.MasterArcher} then
		evt.Set{"ClassIs", Value = const.Class.MasterArcher3}
		evt.Add{"QBits", Value = 1647}         -- Received Promotion to Priest
	else
		evt.Add{"QBits", Value = 1648}         -- Received Promotion to Honorary Priest
	end
	evt.ForPlayer(-- ERROR: Const not found
3)
	if evt.Cmp{"ClassIs", Value = const.Class.MasterArcher} then
		evt.Set{"ClassIs", Value = const.Class.MasterArcher3}
		evt.Add{"QBits", Value = 1647}         -- Received Promotion to Priest
	else
		evt.Add{"QBits", Value = 1648}         -- Received Promotion to Honorary Priest
	end
end

-- "High Priests"
evt.global[1350] = function()
	evt.SetMessage{Str = 1741}         --[[ "It seems a bit quick to promote anyone to high priests, given that the promotion to priest has been so recent.
Why, many wait their entire lives to receive such a promotion, only to be granted it posthumously.
However, an extraordinary service could possibly accelerate that promotion to, well, right now for instance… and I do have such a service in mind.
The heretical monks that live on the islands east of Free Haven have stolen our sacred chalice.
Retrieve it from the monks and put it in the temple you rebuilt.
Then return to me." ]]
	evt.Add{"QBits", Value = 1131}         -- "Take the Sacred Chalice from the monks in their island temple east of Free Haven, return it to Temple Stone in Free Haven, and then return to Lord Stone at Castle Stone."
	evt.SetNPCTopic{NPC = 801, Index = 1, Event = 1351}         -- "Anthony Stone" : "High Priests"
end

-- "High Priests"
evt.global[1351] = function()
	evt.ForPlayer(-- ERROR: Const not found
"All")
	if not evt.Cmp{"QBits", Value = 1132} then         -- NPC
		if evt.Cmp{"Inventory", Value = 2054} then         -- "Sacred Chalice"
			evt.SetMessage{Str = 1743}         --[[ "I see that you have recovered the chalice!
Good work, but you still need to ensconce it in the temple.
Take it there at once and return to me for your promotion!" ]]
		else
			evt.SetMessage{Str = 1742}         --[[ "The monks still have the chalice, and our temple is still without it.
Why do you delay?" ]]
		end
		return
	end
	evt.SetMessage{Str = 1744}         --[[ "You are successful!
It looks like I will have to keep my promise and make more irregular, early promotions.
I do so with pleasure.
I hereby promote all priests to high priests, and all honorary priests to honorary high priests." ]]
	evt.ForPlayer(-- ERROR: Const not found
0)
	if evt.Cmp{"ClassIs", Value = const.Class.MasterArcher3} then
		evt.Set{"ClassIs", Value = const.Class.Sniper}
		evt.Add{"QBits", Value = 1649}         -- Received Promotion to High Priest
	else
		evt.Add{"QBits", Value = 1650}         -- Received Promotion to Honorary High Priest
	end
	evt.ForPlayer(-- ERROR: Const not found
1)
	if evt.Cmp{"ClassIs", Value = const.Class.MasterArcher3} then
		evt.Set{"ClassIs", Value = const.Class.Sniper}
		evt.Add{"QBits", Value = 1649}         -- Received Promotion to High Priest
	else
		evt.Add{"QBits", Value = 1650}         -- Received Promotion to Honorary High Priest
	end
	evt.ForPlayer(-- ERROR: Const not found
2)
	if evt.Cmp{"ClassIs", Value = const.Class.MasterArcher3} then
		evt.Set{"ClassIs", Value = const.Class.Sniper}
		evt.Add{"QBits", Value = 1649}         -- Received Promotion to High Priest
	else
		evt.Add{"QBits", Value = 1650}         -- Received Promotion to Honorary High Priest
	end
	evt.ForPlayer(-- ERROR: Const not found
3)
	if evt.Cmp{"ClassIs", Value = const.Class.MasterArcher3} then
		evt.Set{"ClassIs", Value = const.Class.Sniper}
		evt.Add{"QBits", Value = 1649}         -- Received Promotion to High Priest
	else
		evt.Add{"QBits", Value = 1650}         -- Received Promotion to Honorary High Priest
	end
	evt.Add{"ReputationIs", Value = 5}
	evt.Subtract{"QBits", Value = 1131}         -- "Take the Sacred Chalice from the monks in their island temple east of Free Haven, return it to Temple Stone in Free Haven, and then return to Lord Stone at Castle Stone."
	evt.ForPlayer(-- ERROR: Const not found
"All")
	evt.Add{"Experience", Value = 30000}
	evt.SetNPCTopic{NPC = 801, Index = 1, Event = 1352}         -- "Anthony Stone" : "High Priests"
end

-- "High Priests"
evt.global[1352] = function()
	evt.SetMessage{Str = 1745}         --[[ "Though your rise to priest of light status was almost unseemly quick, I have never seen finer priests of light in all my years.
I am grateful for all you've done for myself and for Enroth." ]]
end

-- "Arch Mages"
evt.global[1353] = function()
	evt.SetMessage{Str = 1813}         --[[ "Hello there!
Are you here to tile the floors?
Oh!
Sorry, for a moment I forgot who you were!
Welcome again, arch mages!
Perhaps you can assist me in an experiment or two when you’re less busy?" ]]
end

-- "Pilgrimage"
evt.global[1354] = function()
	evt.SetMessage{Str = 1746}         --[[ "This is %s, the month of %s.
Journey to the Shrine of %s and pray there to be rewarded." ]]
	evt.SetNPCTopic{NPC = 794, Index = 0, Event = 1355}         -- "The Seer" : "Quest"
end

-- "Quest"
evt.global[1355] = function()
	evt.SetMessage{Str = 1747}         -- "You must wait until the new month to undergo a pilgrimage."
end

-- "Quest"
evt.global[1356] = function()
	evt.SetMessage{Str = 1748}         -- "performed daring deeds"
end

-- "Hint"
evt.global[1359] = function()
	evt.ForPlayer(-- ERROR: Const not found
"All")
	if evt.Cmp{"QBits", Value = 1105} then         -- "Show Sulman's letter to Andover Potbello in New Sorpigal."
		evt.SetMessage{Str = 2127}         -- "You should probably show The Letter to Andover Potbello in New Sorpigal."
		evt.Set{"AutonotesBits", Value = 479}         -- "You should probably show the sixth letter to Andover Potbello in New Sorpigal."
	else
		if evt.Cmp{"QBits", Value = 1106} then         -- "Bring Sulman's letter to Regent Wilbur Humphrey at Castle Ironfist."
			evt.SetMessage{Str = 2119}         -- "You need to give The Letter to Regent Wilbur Humphrey in Ironfist Castle."
			evt.Set{"AutonotesBits", Value = 478}         -- "You need to give The Letter to Regent Wilbur Humphrey in Ironfist Castle."
		else
			if not evt.Cmp{"BaseLevel", Value = 25} then
				evt.SetMessage{Str = 2120}         -- "I would advise that you perform the promotion quests for the six lords of Enroth until you have advanced a little further."
				evt.Set{"AutonotesBits", Value = 477}         -- "I would advise that you perform the promotion quests for the six lords of Enroth until you have advanced a little further."
			else
				if not evt.Cmp{"Awards", Value = 57} then         -- "Retrieved Lord Kilburn's Shield"
					evt.SetMessage{Str = 2122}         --[[ "You must satisfy the six High Council members in Free Haven to visit the Oracle.
Each lord will request a task of you to earn their favor.
Perform each of these tasks and then talk to the Council member of that Lord to gain their approval.
Once all the members of the High Council give their permission, you will be allowed to visit the Oracle." ]]
					evt.Set{"AutonotesBits", Value = 476}         -- "You must satisfy the six High Council members in Free Haven to visit the Oracle.  Each lord will request a task of you to earn their favor.  Perform each of these tasks and then talk to the Council member of that Lord to gain their approval.  Once all the members of the High Council give their permission, you will be allowed to visit the Oracle."
				else
					if not evt.Cmp{"Awards", Value = 58} then         -- "Retrieved the Hourglass of Time"
						evt.SetMessage{Str = 2122}         --[[ "You must satisfy the six High Council members in Free Haven to visit the Oracle.
Each lord will request a task of you to earn their favor.
Perform each of these tasks and then talk to the Council member of that Lord to gain their approval.
Once all the members of the High Council give their permission, you will be allowed to visit the Oracle." ]]
						evt.Set{"AutonotesBits", Value = 476}         -- "You must satisfy the six High Council members in Free Haven to visit the Oracle.  Each lord will request a task of you to earn their favor.  Perform each of these tasks and then talk to the Council member of that Lord to gain their approval.  Once all the members of the High Council give their permission, you will be allowed to visit the Oracle."
					else
						if not evt.Cmp{"Awards", Value = 59} then         -- "Destroyed the Devil's Post"
							evt.SetMessage{Str = 2122}         --[[ "You must satisfy the six High Council members in Free Haven to visit the Oracle.
Each lord will request a task of you to earn their favor.
Perform each of these tasks and then talk to the Council member of that Lord to gain their approval.
Once all the members of the High Council give their permission, you will be allowed to visit the Oracle." ]]
							evt.Set{"AutonotesBits", Value = 476}         -- "You must satisfy the six High Council members in Free Haven to visit the Oracle.  Each lord will request a task of you to earn their favor.  Perform each of these tasks and then talk to the Council member of that Lord to gain their approval.  Once all the members of the High Council give their permission, you will be allowed to visit the Oracle."
						else
							if not evt.Cmp{"Awards", Value = 60} then         -- "Captured the Prince of Thieves"
								evt.SetMessage{Str = 2122}         --[[ "You must satisfy the six High Council members in Free Haven to visit the Oracle.
Each lord will request a task of you to earn their favor.
Perform each of these tasks and then talk to the Council member of that Lord to gain their approval.
Once all the members of the High Council give their permission, you will be allowed to visit the Oracle." ]]
								evt.Set{"AutonotesBits", Value = 476}         -- "You must satisfy the six High Council members in Free Haven to visit the Oracle.  Each lord will request a task of you to earn their favor.  Perform each of these tasks and then talk to the Council member of that Lord to gain their approval.  Once all the members of the High Council give their permission, you will be allowed to visit the Oracle."
							else
								if not evt.Cmp{"Awards", Value = 61} then         -- "Fixed the Stable Prices"
									evt.SetMessage{Str = 2122}         --[[ "You must satisfy the six High Council members in Free Haven to visit the Oracle.
Each lord will request a task of you to earn their favor.
Perform each of these tasks and then talk to the Council member of that Lord to gain their approval.
Once all the members of the High Council give their permission, you will be allowed to visit the Oracle." ]]
									evt.Set{"AutonotesBits", Value = 476}         -- "You must satisfy the six High Council members in Free Haven to visit the Oracle.  Each lord will request a task of you to earn their favor.  Perform each of these tasks and then talk to the Council member of that Lord to gain their approval.  Once all the members of the High Council give their permission, you will be allowed to visit the Oracle."
								else
									if not evt.Cmp{"Awards", Value = 62} then         -- "Ended Winter"
										evt.SetMessage{Str = 2122}         --[[ "You must satisfy the six High Council members in Free Haven to visit the Oracle.
Each lord will request a task of you to earn their favor.
Perform each of these tasks and then talk to the Council member of that Lord to gain their approval.
Once all the members of the High Council give their permission, you will be allowed to visit the Oracle." ]]
										evt.Set{"AutonotesBits", Value = 476}         -- "You must satisfy the six High Council members in Free Haven to visit the Oracle.  Each lord will request a task of you to earn their favor.  Perform each of these tasks and then talk to the Council member of that Lord to gain their approval.  Once all the members of the High Council give their permission, you will be allowed to visit the Oracle."
									else
										if not evt.Cmp{"QBits", Value = 1192} then         -- NPC
											evt.SetMessage{Str = 2124}         --[[ "It appears that Slicker Silvertongue is a traitor on the Council.
You will need proof to convince Regent Humphrey and have Slicker removed from the Council.
Go to the Superior Temple of Baa in Kriegspire and return with proof associating Slicker with the Temple of Baa." ]]
											evt.Set{"AutonotesBits", Value = 475}         -- "It appears that Slicker Silvertongue is a traitor on the Council.  You will need proof to convince Regent Humphrey and have Slicker removed from the Council.  Go to the Superior Temple of Baa in Kriegspire and return with proof associating Slicker with the Temple of Baa."
										else
											if not evt.Cmp{"Awards", Value = 75} then         -- "Awakened the Oracle"
												evt.SetMessage{Str = 2125}         --[[ "The Oracle has been asleep since Archibald performed his mischief on it.
You will need the four memory crystals to revive the Oracle.
They can be found on Hermit's Isle, in Castle Alamos, in Castle Kriegspire, and in Castle Darkmoor." ]]
												evt.Set{"AutonotesBits", Value = 474}         -- "The Oracle has been asleep since Archibald performed his mischief on it.  You will need the four memory crystals to revive the Oracle.  They can be found on Hermit's Isle, in Castle Alamos, in Castle Kriegspire, and in Castle Darkmoor."
											else
												if evt.Cmp{"Inventory", Value = 1666} then         -- "Blaster"
													if not evt.Cmp{"Inventory", Value = 1667} then         -- "Blaster Rifle"
														evt.SetMessage{Str = 2126}         --[[ "To gain access to the Control Center, you will need the Control Cube located in the Temple of VARN in Dragonsand.
Bring the Cube back to the Oracle to gain admittance into the Control Center.
The Kreegan reactor is immune to all attacks.
Only the ancient weapons from the Control Center will harm the reactor.
Make sure you have these weapons and the skill to use them." ]]
														evt.Set{"AutonotesBits", Value = 473}         -- "To gain access to the Control Center, you will need the Control Cube located in the Temple of VARN in Dragonsand.  Bring the Cube back to the Oracle to gain admittance into the Control Center.  The Kreegan reactor is immune to all attacks.  Only the ancient weapons from the Control Center will harm the reactor.  Make sure you have these weapons and the skill to use them."
													else
														if not evt.Cmp{"Inventory", Value = 2164} then         -- "Ritual of the Void"
															evt.SetMessage{Str = 2129}         --[[ "Before you destroy the reactor, you will need a spell capable of containing the resulting explosions.
You must free Archibald from his stone prison.
Talk to Nicolai and bring him the Third Eye– he will allow you to use Tanir's Bell to turn Archibald back to normal.
From there, you should be able to convince Archibald to give you the knowledge you need." ]]
															evt.Set{"AutonotesBits", Value = 472}         -- "Before you destroy the reactor, you will need a spell capable of containing the resulting explosions.  You must free Archibald from his stone prison.  Talk to Nicolai and bring him the Third Eye– he will allow you to use Tanir's Bell to turn Archibald back to normal.  From there, you should be able to convince Archibald to give you the knowledge you need."
														else
															if evt.Cmp{"Awards", Value = 78} then         -- "Destroyed the Hive and Saved Enroth"
																evt.SetMessage{Str = 2131}         -- "You have no more need of my advice."
															else
																evt.SetMessage{Str = 2130}         --[[ "Now you must destroy the Kreegan Hive.
Destroy the reactor, defeat their queen, and make sure to escape with the Ritual of the Void and you will succeed in your task." ]]
																evt.Set{"AutonotesBits", Value = 471}         -- "Now you must destroy the Kreegan Hive.  Destroy the reactor, defeat their queen, and make sure to escape with the Ritual of the Void and you will succeed in your task."
															end
														end
													end
												end
											end
										end
									end
								end
							end
						end
					end
				end
			end
		end
	end
end

-- "Divine Intervention"
evt.global[1360] = function()
	evt.SetMessage{Str = 1750}         -- "1"
	evt.Add{"QBits", Value = 1133}         -- NPC
	evt.SetNPCTopic{NPC = 795, Index = 0, Event = 1361}         -- "Marton Ferris" : "Divine Intervention"
end

-- "Divine Intervention"
evt.global[1361] = function()
	evt.SetMessage{Str = 1751}         -- "2"
end

-- "Divine Intervention"
evt.global[1362] = function()
	evt.SetMessage{Str = 1752}         -- "3"
end

-- "Council Quest"
evt.global[1364] = function()
	evt.SetMessage{Str = 1753}         --[[ "I sometimes have the worst trouble trying to remember things I’ve learned.
I’m not sure why this is, but I’ve discovered a way around the problem.
I am going to create a mirror that will allow me to look back in time, so that I can remember what it is I’ve forgotten.
To do this, I need the Hourglass of Time, but my duties and research prevent me from searching for the hourglass on my own.
The hourglass is said to be in a dark cavern up near area… <pauses a moment>
No, that was the Spear of Darkness…
where is the hourglass?
<pauses again>
I should be able to remember this.
<snaps his fingers>
Of course!
It’s buried in an old fort to the south of here.
I can offer you my support in the council if you will help me in creating my mirror." ]]
	evt.SetNPCTopic{NPC = 790, Index = 0, Event = 1365}         -- "Albert Newton" : "Council Quest"
	evt.Add{"QBits", Value = 1134}         -- "Find and return the Hourglass of Time to Lord Albert Newton in Mist."
end

-- "Council Quest"
evt.global[1365] = function()
	evt.ForPlayer(-- ERROR: Const not found
"All")
	if evt.Cmp{"Inventory", Value = 2053} then         -- "Hourglass of Time"
		evt.SetMessage{Str = 1756}         --[[ "Now all I have to do is remember how to create the mirror.
I wrote down all the important parts so I wouldn’t forget how to do it.
<stops> Where did I put those notes?
<ponders for a minute> I must have left them somewhere obvious, maybe in the laboratory.
Anyway, your part in this is done, and again I thank you.
You will have my complete support in the council for this.
What were your names again? " ]]
		evt.Add{"Experience", Value = 50000}
		evt.Add{"Awards", Value = 58}         -- "Retrieved the Hourglass of Time"
		evt.Subtract{"Inventory", Value = 2053}         -- "Hourglass of Time"
		evt.Subtract{"QBits", Value = 1207}         -- Quest item bits for seer
		evt.ForPlayer(-- ERROR: Const not found
4)
		evt.Add{"ReputationIs", Value = 10}
		evt.Subtract{"QBits", Value = 1134}         -- "Find and return the Hourglass of Time to Lord Albert Newton in Mist."
		evt.SetNPCTopic{NPC = 790, Index = 0, Event = 1367}         -- "Albert Newton" : "Council Quest"
		evt.ForPlayer(-- ERROR: Const not found
"All")
		if evt.Cmp{"Awards", Value = 63} then         -- "Exposed the Traitor on the High Council"
			if evt.Cmp{"Awards", Value = 57} then         -- "Retrieved Lord Kilburn's Shield"
				if evt.Cmp{"Awards", Value = 58} then         -- "Retrieved the Hourglass of Time"
					if evt.Cmp{"Awards", Value = 59} then         -- "Destroyed the Devil's Post"
						if evt.Cmp{"Awards", Value = 60} then         -- "Captured the Prince of Thieves"
							if evt.Cmp{"Awards", Value = 61} then         -- "Fixed the Stable Prices"
								if evt.Cmp{"Awards", Value = 62} then         -- "Ended Winter"
									evt.Set{"QBits", Value = 1191}         -- NPC
								end
							end
						end
					end
				end
			end
		end
	else
		if evt.Cmp{"Inventory", Value = 2107} then         -- "Key to Gharik's Laboratory"
			evt.SetMessage{Str = 1757}         --[[ "The hourglass wasn’t there?
Oh, that’s right!
I knew I forgot something!
The key is in there!
You use the key to open the Forge of… <pauses>
Well, I can’t remember whose forge it is, but that is the resting place of the Hourglass of Time...I think.
It can’t hurt to look there, especially now that you’ve found the key.
<pauses>
At least I THINK that’s what the key opens.
Anyway, that forge or laboratory or whatever it is can be found on the islands north of New Sorpigal.
Good Luck!" ]]
		else
			evt.SetMessage{Str = 1755}         --[[ "I’m still looking for the mirror. <pauses> I mean Hourglass… I keep getting those mixed up.
Did you try the dark cavern– no wait, it was the old fort south of here.
I always seem to mix those up." ]]
		end
	end
end

-- "Put Text Here"
evt.global[1366] = function()
	evt.SetMessage{Str = 1757}         --[[ "The hourglass wasn’t there?
Oh, that’s right!
I knew I forgot something!
The key is in there!
You use the key to open the Forge of… <pauses>
Well, I can’t remember whose forge it is, but that is the resting place of the Hourglass of Time...I think.
It can’t hurt to look there, especially now that you’ve found the key.
<pauses>
At least I THINK that’s what the key opens.
Anyway, that forge or laboratory or whatever it is can be found on the islands north of New Sorpigal.
Good Luck!" ]]
end

-- "Council Quest"
evt.global[1367] = function()
	evt.SetMessage{Str = 1758}         --[[ "Thanks again for getting the hourglass for me!
If only I could remember where I put it.
<sighs>
You have my support in the council for as long as you need it." ]]
end

-- "Wizards"
evt.global[1368] = function()
	evt.Add{"QBits", Value = 1135}         -- "Drink from the Fountain of Magic and return to Lord Albert Newton in Mist."
	evt.SetNPCTopic{NPC = 790, Index = 1, Event = 1369}         -- "Albert Newton" : "Wizards"
	evt.ForPlayer(-- ERROR: Const not found
"All")
	if evt.Cmp{"ClassIs", Value = const.Class.Warlock} then
		evt.SetMessage{Str = 1759}         --[[ "I am the magus in charge of training and promoting sorcerers.
Though powerful, sorcerer is not the pinnacle of the elemental magician.
Wizards take the knowledge and ability of a sorcerer, and hone those abilities to a sharper level.
They have greater magical potential than the sorcerer, and demand greater respect.
The way to earn this training, however, is not easy.
Find the Fountain of Magic, drink from its waters, and return here.
If you are able to do this, I will train you in the ways of the wizard." ]]
	else
		evt.SetMessage{Str = 1760}         --[[ "I am the magus responsible for
the promotion of sorcerers.
Though none of you are sorcerers, I’m a fair man.
If you are able to locate the Fountain of Magic, I’ll grant you honorary wizard status.
You won’t receive any benefits of the wizards’ training, but you will gain more respect in the eyes of sorcerers and wizards.
" ]]
	end
end

-- "Wizards"
evt.global[1369] = function()
	evt.SetMessage{Str = 1761}         --[[ "Don’t ask me for hints, I’ve already forgotten where the Fountain is.
I know this isn’t an easy task, but if it were not difficult, every sorcerer would already BE a wizard." ]]
end

-- "Wizards"
evt.global[1371] = function()
	evt.SetMessage{Str = 1762}         --[[ "You have done well in finding the Fountain.
It’s location and powers are a secret, do not spread its location around.
Now, let me show you the secrets of the wizard." ]]
	evt.ForPlayer(-- ERROR: Const not found
"All")
	evt.Add{"Experience", Value = 15000}
	evt.ForPlayer(-- ERROR: Const not found
0)
	if evt.Cmp{"ClassIs", Value = const.Class.Warlock} then
		evt.Set{"ClassIs", Value = const.Class.Warlock3}
		evt.Add{"QBits", Value = 1639}         -- Received Promotion to Wizard
	else
		evt.Add{"QBits", Value = 1640}         -- Received Promotion to Honorary Wizard
	end
	evt.ForPlayer(-- ERROR: Const not found
1)
	if evt.Cmp{"ClassIs", Value = const.Class.Warlock} then
		evt.Set{"ClassIs", Value = const.Class.Warlock3}
		evt.Add{"QBits", Value = 1639}         -- Received Promotion to Wizard
	else
		evt.Add{"QBits", Value = 1640}         -- Received Promotion to Honorary Wizard
	end
	evt.ForPlayer(-- ERROR: Const not found
2)
	if evt.Cmp{"ClassIs", Value = const.Class.Warlock} then
		evt.Set{"ClassIs", Value = const.Class.Warlock3}
		evt.Add{"QBits", Value = 1639}         -- Received Promotion to Wizard
	else
		evt.Add{"QBits", Value = 1640}         -- Received Promotion to Honorary Wizard
	end
	evt.ForPlayer(-- ERROR: Const not found
3)
	if evt.Cmp{"ClassIs", Value = const.Class.Warlock} then
		evt.Set{"ClassIs", Value = const.Class.Warlock3}
		evt.Add{"QBits", Value = 1639}         -- Received Promotion to Wizard
	else
		evt.Add{"QBits", Value = 1640}         -- Received Promotion to Honorary Wizard
	end
	evt.Add{"ReputationIs", Value = 2}
	evt.Subtract{"QBits", Value = 1135}         -- "Drink from the Fountain of Magic and return to Lord Albert Newton in Mist."
	evt.SetNPCTopic{NPC = 790, Index = 1, Event = 1372}         -- "Albert Newton" : "Master Wizards"
end

-- "Master Wizards"
evt.global[1372] = function()
	evt.SetMessage{Str = 1763}         --[[ "Your training does not end with what you have learned as a wizard, one final step remains.
Master wizard status completes your mastery of elemental magic.
Building on your wizard training, master wizards have vast magical ability– the most efficient and skilled use of magic anywhere.
Earning this training requires a powerful artifact, owned by the powerful Arch Mage Drael-.. no, it was Frundir-… no, that’s not right either.
Actually, I can’t seem to remember what the artifact was or who owned it.
I'd remember it if I saw it, though.
I know it can be found in Corlagon’s Estate near the Mire of the Damned.
Search for it there and return it; I must have it to train you to become a master wizard." ]]
	evt.Add{"QBits", Value = 1136}         -- "Retrieve the Crystal of Terrax and return to Lord Albert Newton in Mist."
	evt.SetNPCTopic{NPC = 790, Index = 1, Event = 1373}         -- "Albert Newton" : "Master Wizards"
end

-- "Master Wizards"
evt.global[1373] = function()
	evt.ForPlayer(-- ERROR: Const not found
"All")
	if not evt.Cmp{"Inventory", Value = 2077} then         -- "Crystal of Terrax"
		evt.SetMessage{Str = 1764}         --[[ "I’m sorry, but I still haven’t remembered exactly what it is you need.
I know you need to search Corlagon’s Estate.
 " ]]
		return
	end
	evt.SetMessage{Str = 1765}         --[[ "Great news!
I remember what you need to find!
The Crystal of Terrax!
Oh, you seem to have found it already.
Well, perfect!
I can train you to master wizards, then.
The first arch mage, Terrax, used this Crystal to master the elements.
Fire, earth, water, and air all formed together to make it, and from analyzing it he learned a great deal about elemental magic.
In addition, its effect on light led him to his discoveries of light and dark magic.
Since that time, the study of this crystal has guided every new master wizard.
Let me show you the secrets of the crystal. " ]]
	evt.Add{"Experience", Value = 30000}
	evt.ForPlayer(-- ERROR: Const not found
0)
	if evt.Cmp{"ClassIs", Value = const.Class.Warlock3} then
		evt.Set{"ClassIs", Value = const.Class.Knight2}
		evt.Add{"QBits", Value = 1641}         -- Received Promotion to Archmage
	else
		evt.Add{"QBits", Value = 1642}         -- Received Promotion to Honorary Archmage
	end
	evt.ForPlayer(-- ERROR: Const not found
1)
	if evt.Cmp{"ClassIs", Value = const.Class.Warlock3} then
		evt.Set{"ClassIs", Value = const.Class.Knight2}
		evt.Add{"QBits", Value = 1641}         -- Received Promotion to Archmage
	else
		evt.Add{"QBits", Value = 1642}         -- Received Promotion to Honorary Archmage
	end
	evt.ForPlayer(-- ERROR: Const not found
2)
	if evt.Cmp{"ClassIs", Value = const.Class.Warlock3} then
		evt.Set{"ClassIs", Value = const.Class.Knight2}
		evt.Add{"QBits", Value = 1641}         -- Received Promotion to Archmage
	else
		evt.Add{"QBits", Value = 1642}         -- Received Promotion to Honorary Archmage
	end
	evt.ForPlayer(-- ERROR: Const not found
3)
	if evt.Cmp{"ClassIs", Value = const.Class.Warlock3} then
		evt.Set{"ClassIs", Value = const.Class.Knight2}
		evt.Add{"QBits", Value = 1641}         -- Received Promotion to Archmage
	else
		evt.Add{"QBits", Value = 1642}         -- Received Promotion to Honorary Archmage
	end
	evt.Add{"ReputationIs", Value = 5}
	evt.Subtract{"QBits", Value = 1136}         -- "Retrieve the Crystal of Terrax and return to Lord Albert Newton in Mist."
	evt.ForPlayer(-- ERROR: Const not found
"All")
	evt.Subtract{"Inventory", Value = 2077}         -- "Crystal of Terrax"
	evt.Subtract{"QBits", Value = 1210}         -- Quest item bits for seer
	evt.SetNPCTopic{NPC = 790, Index = 1, Event = 1353}         -- "Albert Newton" : "Arch Mages"
end

-- "Council Quest"
evt.global[1374] = function()
	evt.SetMessage{Str = 1766}         --[[ "I don’t have much time to talk right now– I have a lot to do.
I’m in the process of organizing a few campaigns to attack the devils along the western coast.
You must realize, as I do, that nothing in all of Enroth poses as much of a threat to our safety as they do.
I only wish the other Lords would assist me by contributing supplies and troops, or just helping in the planning of these attacks.
They spend more time bickering amongst themselves over borders and laws and trade than in helping me deal with the REAL threat.
The devils have an advance post in Kriegspire near the Sentinels.
From here, they are able to base small raids and gather intelligence on our forces.
I need you to sneak in and attack it, find what information you can on the location of any devil strongholds and patrol patterns, and destroy the place.
Do not let any of the devils escape!
Surprise and secrecy are our greatest weapons." ]]
	evt.Add{"QBits", Value = 1137}         -- "Destroy the Devil's Outpost and return to Lord Osric Temper at Castle Temper."
	evt.SetNPCTopic{NPC = 791, Index = 0, Event = 1375}         -- "Osric Temper" : "Council Quest"
end

-- "Council Quest"
evt.global[1375] = function()
	evt.ForPlayer(-- ERROR: Const not found
"All")
	if not evt.Cmp{"Inventory", Value = 2126} then         -- "Devil Plans"
		evt.SetMessage{Str = 1768}         --[[ "Did you fail in your mission?
You didn’t allow the demons to escape, did you?
That post MUST be destroyed for any large attack against them to be successful.
As long as that post exists, your mission still stands. " ]]
	else
		evt.SetMessage{Str = 1769}         --[[ "Good job!
With the information you’ve brought back, we now have the intelligence we need to stage an attack on the devils, and with that post out of the way, we can hit them when they won’t expect it. I give you my full support in the council– hopefully the council will actually DO something for once." ]]
		evt.Add{"Experience", Value = 40000}
		evt.Add{"Awards", Value = 59}         -- "Destroyed the Devil's Post"
		evt.Subtract{"Inventory", Value = 2126}         -- "Devil Plans"
		evt.Subtract{"QBits", Value = 1208}         -- Quest item bits for seer
		evt.ForPlayer(-- ERROR: Const not found
4)
		evt.Subtract{"QBits", Value = 1137}         -- "Destroy the Devil's Outpost and return to Lord Osric Temper at Castle Temper."
		evt.Add{"ReputationIs", Value = 10}
		evt.SetNPCTopic{NPC = 791, Index = 0, Event = 1377}         -- "Osric Temper" : "Council Quest"
		evt.ForPlayer(-- ERROR: Const not found
"All")
		if evt.Cmp{"Awards", Value = 63} then         -- "Exposed the Traitor on the High Council"
			if evt.Cmp{"Awards", Value = 57} then         -- "Retrieved Lord Kilburn's Shield"
				if evt.Cmp{"Awards", Value = 58} then         -- "Retrieved the Hourglass of Time"
					if evt.Cmp{"Awards", Value = 59} then         -- "Destroyed the Devil's Post"
						if evt.Cmp{"Awards", Value = 60} then         -- "Captured the Prince of Thieves"
							if evt.Cmp{"Awards", Value = 61} then         -- "Fixed the Stable Prices"
								if evt.Cmp{"Awards", Value = 62} then         -- "Ended Winter"
									evt.Set{"QBits", Value = 1191}         -- NPC
								end
							end
						end
					end
				end
			end
		end
	end
end

-- "Council Quest"
evt.global[1377] = function()
	evt.SetMessage{Str = 1770}         --[[ "Excellent work in dispatching those devils!
Again, you have my thanks.
My support in the council is yours, at least until the threat of the devils is past.
Hopefully you can spur the council into action.
By the way, the information that you brought back has confirmed our suspicion about the enemy base.
It is definitely near the town of Sweet Water in Paradise Valley." ]]
end

-- "Cavaliers"
evt.global[1378] = function()
	evt.Add{"QBits", Value = 1138}         -- "Get Knight's nomination from Chadwick and return to Lord Osric Temper at Castle Temper."
	evt.SetNPCTopic{NPC = 792, Index = 0, Event = 1379}         -- "Chadwick Blackpoole" : "Nomination"
	evt.SetNPCTopic{NPC = 791, Index = 1, Event = 1381}         -- "Osric Temper" : "Cavaliers"
	evt.ForPlayer(-- ERROR: Const not found
"All")
	if evt.Cmp{"ClassIs", Value = const.Class.PriestLight} then
		evt.SetMessage{Str = 1771}         --[[ "I am the Armsmaster in charge of the promotion of all knights in Enroth.
Worthy knights can be promoted to cavaliers.
Cavaliers embody the spirit of action and the power of purpose.
Behind their courageous example, armies charge into battle and enemies flee in terror. However, to become a cavalier, you need to be nominated by a person of authority.
If you could get the nomination of a cavalier, that would be good enough for me.
 " ]]
	else
		evt.SetMessage{Str = 1772}         --[[ "I am the Armsmaster in charge of the promotion of knights.
Unfortunately, none of you are knights, and therefore the skills I would teach you would be worthless.
However, if you so desire, you can attempt the task of a would-be cavalier.
Seek the nomination of a person of authority, a cavalier, for example, and return to me." ]]
	end
end

-- "Nomination"
evt.global[1379] = function()
	evt.SetMessage{Str = 1773}         --[[ "Well there, you’re looking for a nomination to become cavaliers?
I was once a valiant knight in my day.
I fought with Roland in the Succession wars, though now I’m too old to do much good on the battlefield.
It’s good to see Osric keeping the traditions of the knights alive.
Tell him that I proudly nominate you to become cavaliers, and if he gives you any trouble tell him to come see me himself." ]]
	evt.SetNPCTopic{NPC = 791, Index = 1, Event = 1382}         -- "Osric Temper" : "Cavaliers"
	evt.SetNPCTopic{NPC = 792, Index = 0, Event = 0}         -- "Chadwick Blackpoole"
end

-- "Cavaliers"
evt.global[1380] = function()
	evt.SetMessage{Str = 1774}         --[[ "Congratulations!
I know you’ll make fine cavaliers.
I only wish I had my youth again to serve with Osric in a campaign against the devils." ]]
	evt.SetNPCTopic{NPC = 792, Index = 0, Event = 0}         -- "Chadwick Blackpoole"
end

-- "Cavaliers"
evt.global[1381] = function()
	evt.SetMessage{Str = 1775}         --[[ "Come now!
A person of your fame and stature should have no problem being nominated.
Don’t tell me your fame is contrived– are you sure you deserve to be as famous as you are?
<laughs>
I’m jesting, calm down.
Seriously, I'd suggest looking in Free Haven or the village of Rockham.
I've heard a few cavaliers frequent the taverns there." ]]
end

-- "Cavaliers"
evt.global[1382] = function()
	evt.SetMessage{Str = 1776}         --[[ "Congratulations!
The nomination may not seem important, but we have a tradition that must be followed for this promotion.
As a cavalier, you need to understand that the traditions and values of the people need to be defended.
I gladly promote you to the rank of cavalier!" ]]
	evt.Subtract{"QBits", Value = 1138}         -- "Get Knight's nomination from Chadwick and return to Lord Osric Temper at Castle Temper."
	evt.Add{"ReputationIs", Value = 2}
	evt.ForPlayer(-- ERROR: Const not found
"All")
	evt.Add{"Experience", Value = 15000}
	evt.ForPlayer(-- ERROR: Const not found
0)
	if evt.Cmp{"ClassIs", Value = const.Class.PriestLight} then
		evt.Set{"ClassIs", Value = const.Class.PriestLight3}
		evt.Add{"QBits", Value = 1643}         -- Received Promotion to Cavalier
	else
		evt.Add{"QBits", Value = 1644}         -- Received Promotion to Honorary Cavalier
	end
	evt.ForPlayer(-- ERROR: Const not found
1)
	if evt.Cmp{"ClassIs", Value = const.Class.PriestLight} then
		evt.Set{"ClassIs", Value = const.Class.PriestLight3}
		evt.Add{"QBits", Value = 1643}         -- Received Promotion to Cavalier
	else
		evt.Add{"QBits", Value = 1644}         -- Received Promotion to Honorary Cavalier
	end
	evt.ForPlayer(-- ERROR: Const not found
2)
	if evt.Cmp{"ClassIs", Value = const.Class.PriestLight} then
		evt.Set{"ClassIs", Value = const.Class.PriestLight3}
		evt.Add{"QBits", Value = 1643}         -- Received Promotion to Cavalier
	else
		evt.Add{"QBits", Value = 1644}         -- Received Promotion to Honorary Cavalier
	end
	evt.ForPlayer(-- ERROR: Const not found
3)
	if evt.Cmp{"ClassIs", Value = const.Class.PriestLight} then
		evt.Set{"ClassIs", Value = const.Class.PriestLight3}
		evt.Add{"QBits", Value = 1643}         -- Received Promotion to Cavalier
	else
		evt.Add{"QBits", Value = 1644}         -- Received Promotion to Honorary Cavalier
	end
	evt.SetNPCTopic{NPC = 791, Index = 1, Event = 1383}         -- "Osric Temper" : "Champions"
	evt.SetNPCTopic{NPC = 792, Index = 0, Event = 1380}         -- "Chadwick Blackpoole" : "Cavaliers"
end

-- "Champions"
evt.global[1383] = function()
	evt.SetMessage{Str = 1777}         --[[ "Ah, worthy cavaliers, the final step in your training is to become a champion.
A cavalier is a brave and noble warrior, but a champion is a power to behold.
No force can stand between the champion and victory.
Entire campaigns are decided on the bravery, decisiveness, and powerful example of the champion.
The task to complete this promotion, however, is difficult.
You must defeat a powerful enemy to prove your ability and determination.
The only enemy worthy of this task is a man known only as the Warlord, a dangerous and powerful warrior.
He commands a legion of evil knights, normally based to the northeast of
Icewind Pass.
Defeat him, bring back proof of your victory, and your promotion to champion is assured." ]]
	evt.Add{"QBits", Value = 1139}         -- "Defeat the Warlord and bring proof to Osric Temper"
	evt.SetNPCTopic{NPC = 791, Index = 1, Event = 1384}         -- "Osric Temper" : "Champions"
end

-- "Champions"
evt.global[1384] = function()
	evt.ForPlayer(-- ERROR: Const not found
"All")
	if not evt.Cmp{"Inventory", Value = 2128} then         -- "Discharge Papers"
		evt.SetMessage{Str = 1778}         --[[ "You’re not scared of the Warlord, are you?
His terror needs to be put to an end.
You can’t become champion hiding underneath your bed or standing around looking at the walls– you need to go out and DO it!" ]]
		return
	end
	evt.SetMessage{Str = 1779}         --[[ "Good job!
Excellent!
I wasn’t sure you’d make it back alive.
Kergmond had more potential than I realized, but you’re certainly more than a match for an army of Kergmonds.
You’ve proven yourselves worthy of the rank of champion. You must not be afraid to take up arms to defend what is right.
May your enemies fear your approach and your allies rally behind your courage. And now, I promote you to the rank of champion! " ]]
	evt.ForPlayer(-- ERROR: Const not found
0)
	if evt.Cmp{"ClassIs", Value = const.Class.PriestLight3} then
		evt.Set{"ClassIs", Value = const.Class.PriestDark3}
		evt.Add{"QBits", Value = 1645}         -- Received Promotion to Champion
	else
		evt.Add{"QBits", Value = 1646}         -- Received Promotion to Honorary Champion
	end
	evt.ForPlayer(-- ERROR: Const not found
1)
	if evt.Cmp{"ClassIs", Value = const.Class.PriestLight3} then
		evt.Set{"ClassIs", Value = const.Class.PriestDark3}
		evt.Add{"QBits", Value = 1645}         -- Received Promotion to Champion
	else
		evt.Add{"QBits", Value = 1646}         -- Received Promotion to Honorary Champion
	end
	evt.ForPlayer(-- ERROR: Const not found
2)
	if evt.Cmp{"ClassIs", Value = const.Class.PriestLight3} then
		evt.Set{"ClassIs", Value = const.Class.PriestDark3}
		evt.Add{"QBits", Value = 1645}         -- Received Promotion to Champion
	else
		evt.Add{"QBits", Value = 1646}         -- Received Promotion to Honorary Champion
	end
	evt.ForPlayer(-- ERROR: Const not found
3)
	if evt.Cmp{"ClassIs", Value = const.Class.PriestLight3} then
		evt.Set{"ClassIs", Value = const.Class.PriestDark3}
		evt.Add{"QBits", Value = 1645}         -- Received Promotion to Champion
	else
		evt.Add{"QBits", Value = 1646}         -- Received Promotion to Honorary Champion
	end
	evt.Add{"ReputationIs", Value = 5}
	evt.Subtract{"QBits", Value = 1139}         -- "Defeat the Warlord and bring proof to Osric Temper"
	evt.ForPlayer(-- ERROR: Const not found
"All")
	evt.Add{"Experience", Value = 40000}
	evt.Subtract{"Inventory", Value = 2128}         -- "Discharge Papers"
	evt.Subtract{"QBits", Value = 1211}         -- Quest item bits for seer
	evt.SetNPCTopic{NPC = 791, Index = 1, Event = 1385}         -- "Osric Temper" : "Champions"
end

-- "Champions"
evt.global[1385] = function()
	evt.SetMessage{Str = 1812}         --[[ "Well met, champions!
Please, don’t waste your valuable time or mine in times like this.
Use your skills for the good of Enroth and leave me to my planning!
When this battle is over, THEN we can share tales of valor and skill." ]]
end

-- "Crystal Locations"
evt.global[1386] = function()
	evt.SetMessage{Str = 1780}         -- "Memory Crystal Alpha – Hermit’s Isle.Memory Crystal Beta – Alamos.Memory Crystal Delta – Darkmoor.Memory Crystal Epsilon – Kriegspire."
	if not evt.Cmp{"QBits", Value = 1186} then         -- "Find Memory Crystal Alpha in the Supreme Temple of Baa and restore it to a module altar at the Oracle beneath the High Council.."
		evt.Add{"QBits", Value = 1186}         -- "Find Memory Crystal Alpha in the Supreme Temple of Baa and restore it to a module altar at the Oracle beneath the High Council.."
		evt.Add{"QBits", Value = 1187}         -- "Find Memory Crystal Beta in Castle Alamos and restore it to a module altar at the Oracle beneath the High Council."
		evt.Add{"QBits", Value = 1188}         -- "Find Memory Crystal Delta in Castle Darkmoor and restore it to a module altar at the Oracle beneath the High Council."
		evt.Add{"QBits", Value = 1189}         -- "Find Memory Crystal Epsilon in Castle Kriegspire and restore it to a module altar at the Oracle beneath the High Council."
	end
end

-- "Memory Crystal"
evt.global[1387] = function()
	evt.SetMessage{Str = 1781}         --[[ "Place the memory Crystals into the modules above.
All four Crystals are necessary to activate the Oracle." ]]
end

-- "Control Center"
evt.global[1389] = function()
	evt.ForPlayer(-- ERROR: Const not found
"All")
	if evt.Cmp{"QBits", Value = 1190} then         -- "Retrieve the Control Cube from the Tomb of Varn in Dragonsand and return to the Oracle beneath the High Council."
		if evt.Cmp{"Inventory", Value = 2076} then         -- "Control Cube"
			evt.Add{"Experience", Value = 500000}
			evt.Add{"Awards", Value = 76}         -- "Gained Access to the Control Center"
			evt.Subtract{"QBits", Value = 1190}         -- "Retrieve the Control Cube from the Tomb of Varn in Dragonsand and return to the Oracle beneath the High Council."
			evt.Subtract{"Inventory", Value = 2076}         -- "Control Cube"
			evt.Subtract{"QBits", Value = 1219}         -- Quest item bits for seer
			evt.SetNPCTopic{NPC = 793, Index = 0, Event = 1390}         -- "Oracle" : "Kreegan"
			evt.SetNPCTopic{NPC = 793, Index = 1, Event = 1391}         -- "Oracle" : "Ancients"
			evt.SetMessage{Str = 1783}         --[[ "You now have access to the Control Center.
Simply ask to be transported and I will oblige.
One warning however– the guardians of the Control Center are no longer under my control, so please exercise caution while visiting the Center." ]]
			return
		end
	else
		evt.Add{"Awards", Value = 75}         -- "Awakened the Oracle"
		evt.Add{"QBits", Value = 1190}         -- "Retrieve the Control Cube from the Tomb of Varn in Dragonsand and return to the Oracle beneath the High Council."
		evt.Subtract{"QBits", Value = 1186}         -- "Find Memory Crystal Alpha in the Supreme Temple of Baa and restore it to a module altar at the Oracle beneath the High Council.."
		evt.Subtract{"QBits", Value = 1187}         -- "Find Memory Crystal Beta in Castle Alamos and restore it to a module altar at the Oracle beneath the High Council."
		evt.Subtract{"QBits", Value = 1188}         -- "Find Memory Crystal Delta in Castle Darkmoor and restore it to a module altar at the Oracle beneath the High Council."
		evt.Subtract{"QBits", Value = 1189}         -- "Find Memory Crystal Epsilon in Castle Kriegspire and restore it to a module altar at the Oracle beneath the High Council."
	end
	evt.SetMessage{Str = 1782}         --[[ "I am Melian, Guardian of Enroth.
Thank you for replacing my memory modules.
Archibald took them from here when I refused to give him any help in his battle for succession.
Your timing is impeccable.
The Kreegan have invaded our world, and you must try and stop them.
Unfortunately, Archibald’s attempts at extracting information from me have damaged me enough that I cannot help you directly now.
Instead, I can only give you advice.While most of the Kreegan can be slain with ordinary weapons and spells, the elite guards and upper echelon breeders have tougher skin and natural defenses that protect them from anything but very powerful weapons.
In the planetary control center beneath me are the weapons and armor you will need to survive battle with the enemy.
My orders, however, will only permit passage to someone with a Control Cube.
My instruments tell me that the only Control Cube left in Enroth can be found somewhere underground in Dragonsand.
" ]]
end

-- "Kreegan"
evt.global[1390] = function()
	if not evt.Cmp{"QBits", Value = 1329} then         -- NPC
		if not evt.Cmp{"QBits", Value = 1120} then         -- "Find the Third Eye and bring it to Prince Nicolai in Castle Ironfist."
			evt.Set{"QBits", Value = 1259}         -- "Obtain Arcane Magic from Archibald in the Royal Library in Castle Ironfist"
			evt.SetNPCTopic{NPC = 798, Index = 1, Event = 1339}         -- "Nicolai Ironfist" : "The Third Eye"
			evt.Add{"QBits", Value = 1193}         -- NPC
		end
	end
	evt.SetMessage{Str = 1784}         --[[ "As I said, the Kreegan are resistant to most of the weapons available in Enroth, but not all.
To rid the world of them, you will need to find where their vessel crashed and destroy the main reactor.
The only problem is that the resulting explosions from the reactor will destroy this planet.
You will need a powerful spell to prevent the explosion from damaging the planet, but no spell like that exists in the world today.
The only person I can think of that would know of such a spell is Archibald, but he is in no condition to teach you.
To make matters worse, the reactor cannot be harmed by normal weapons or spells– you will need the ancient weapons in the Control Center to destroy the reactor." ]]
end

-- "Ancients"
evt.global[1391] = function()
	evt.SetMessage{Str = 1785}         --[[ "Though my memory has been damaged by Archibald, I can still remember the danger that our ancient enemy, the Kreegan, pose to our world.
The Kreegan first appeared roughly 1500 years ago, attacking outlying colonies and stealing their resources.
It was thought at the time they simply needed certain minerals, and could be reasoned with, but this was not the case.
Their life cycle forces them to breed until the world cannot support their numbers, then they send ships off to other worlds to renew the cycle.
Their attacks against the empire of the Ancients disrupted the network of shipping and communications that held us all together, causing the Silence that marks the first year of our modern calendar.
Without support from the homeworlds, our fledgling technology failed, bringing us to this sorry state.
I would help rebuild our technology, but I seem to have become a religious figure in the minds of many people, and very few visit me or understand what I have to offer.
Perhaps this Kreegan crisis we face will bring people to their senses--as long as we survive it." ]]
end

-- "Money"
evt.global[1392] = function()
	evt.SetMessage{Str = 1786}         --[[ "I happen to know that you are amongst a short list of adventurers looking to receive favor from the High Council.
What you want it for I don’t know, nor do I care.
I’ll be blunt:
I love money, and I want more.
Much more.
I have a plan to fix the price of shipping in my favor for a time and I need competent agents to carry it out.
Perform this task well and I will give you my support, not to mention a lot of money.
Here is the plan:
Each of the nine shipping companies in the Kingdom must be convinced to charge at least 48 gold per pound per mile of material they transport.
They are all in competition and they know it, so none will want to make a move before the others.
I don’t care how you convince them– just get the job done and report back to me." ]]
	evt.Add{"QBits", Value = 1140}         -- "Fix the prices of all 9 stables in the Kingdom and return to Lady Fleise in Silver Cove."
	evt.Set{"QBits", Value = 1706}         -- Replacement for NeedToTestIt ¹0 ver. 6
	evt.SetNPCTopic{NPC = 799, Index = 0, Event = 1393}         -- "Loretta Fleise" : "Money"
end

-- "Money"
evt.global[1393] = function()
	if not evt.Cmp{"QBits", Value = 1141} then         -- NPC
		evt.SetMessage{Str = 1787}         --[[ "Not all of the companies have agreed to raise their prices!
Why do you return only to report incompetence?
There are large profits I could be reaping if you had done your job and convinced these idiots to raise their prices!
MUST I DO THIS MYSELF?
Should I send someone else?
Why do I surround myself with MORONS?!
So far I have lost a lot of gold because you haven’t finished your job!
I’ll deduct these losses from your final payment, you can be sure of that!" ]]
		return
	end
	evt.SetMessage{Str = 1788}         --[[ "At last!
Thought you would never finish.
Maybe you’re good for something after all.
You have won my support in the council, and of course, your payment. " ]]
	if evt.Cmp{"QBits", Value = 1707} then         -- Replacement for NeedToTestIt ¹31 ver. 6
		evt.Add{"Gold", Value = 5000}
	else
		evt.Add{"Gold", Value = 25000}
	end
	evt.Subtract{"QBits", Value = 1140}         -- "Fix the prices of all 9 stables in the Kingdom and return to Lady Fleise in Silver Cove."
	evt.Subtract{"ReputationIs", Value = 10}
	evt.ForPlayer(-- ERROR: Const not found
"All")
	evt.Add{"Awards", Value = 61}         -- "Fixed the Stable Prices"
	evt.Add{"Experience", Value = 25000}
	evt.SetNPCTopic{NPC = 799, Index = 0, Event = 1394}         -- "Loretta Fleise" : "Money"
	evt.ForPlayer(-- ERROR: Const not found
"All")
	if evt.Cmp{"Awards", Value = 63} then         -- "Exposed the Traitor on the High Council"
		if evt.Cmp{"Awards", Value = 57} then         -- "Retrieved Lord Kilburn's Shield"
			if evt.Cmp{"Awards", Value = 58} then         -- "Retrieved the Hourglass of Time"
				if evt.Cmp{"Awards", Value = 59} then         -- "Destroyed the Devil's Post"
					if evt.Cmp{"Awards", Value = 60} then         -- "Captured the Prince of Thieves"
						if evt.Cmp{"Awards", Value = 61} then         -- "Fixed the Stable Prices"
							if evt.Cmp{"Awards", Value = 62} then         -- "Ended Winter"
								evt.Set{"QBits", Value = 1191}         -- NPC
							end
						end
					end
				end
			end
		end
	end
end

-- "Money"
evt.global[1394] = function()
	evt.SetMessage{Str = 1789}         --[[ "If you're concerned about the suffering of the peasants over my price increase, don't be.
I did it all for a good cause.
I needed to raise money for granaries to store the excess grain we are harvesting this year.
The shipping prices are back down, and the availability of cheap, high quality grain more than makes up for it.
There!
I'm not so horrible, am I?" ]]
end

-- "Great Druids"
evt.global[1395] = function()
	evt.SetMessage{Str = 1790}         --[[ "Although it may be hard to believe, I happen to be one of the top druids in the land.
As such I am empowered to promote druids to great and arch druid status, provided they prove themselves worthy.
To be promoted to great druid status, you must perform the Ceremony of the Sun.
Pray at the center of the Circle of Stone during any equinox or solstice– March 20th, June 21st, September 23rd, or December 21st.
If you are there at that time, I will contact you magically and lead you through the Ceremony, thus promoting you to great druid.
Those among you who are not druids will be granted honorary great druid status, and I am sure the experience will be worthwhile." ]]
	evt.Add{"QBits", Value = 1142}         -- "Visit the Altar of the Sun in the circle of stones north of Silver Cove on an equinox or solstice (HINT: March 20th, June 21st, September 23rd, or December 21st)."
	evt.SetNPCTopic{NPC = 799, Index = 1, Event = 1396}         -- "Loretta Fleise" : "Great Druids"
end

-- "Great Druids"
evt.global[1396] = function()
	evt.SetMessage{Str = 1791}         --[[ "You must pray at the center of the Circle of Stone during an equinox or solstice to complete the Ceremony of the Sun and be promoted to great druid.
There is nothing I can do for you to be promoted until then." ]]
end

-- "Arch Druids"
evt.global[1397] = function()
	evt.SetMessage{Str = 1793}         --[[ "So, you believe you are deserving of the title of arch druid.
You must complete the Ceremony of the Moon to achieve arch druid status.
This used to be rather easy before the factional split amongst the last generation of druids, but now you must fight your way to the sacred altar.
It is in the Temple of the Moon, currently controlled by the evil heretic Cedric Druthers.
There is no way they will just let you complete the ceremony peacefully, so you will probably have to fight your way in.
Like the Ceremony of the Sun, the Ceremony of the Moon must be performed at a certain place and time.
Pray at the Altar of the Moon in the Temple of the Moon at midnight during any full moon.
If you are there at that time, I will contact you magically and lead you through the Ceremony." ]]
	evt.Add{"QBits", Value = 1143}         -- "Visit the Altar of the Moon in the Temple of the Moon at midnight of a full moon (HINT: on 15th of any month)."
	evt.SetNPCTopic{NPC = 1090, Index = 1, Event = 1398}         -- "Loretta Fleise" : "Arch Druids"
end

-- "Arch Druids"
evt.global[1398] = function()
	evt.SetMessage{Str = 1795}         --[[ "You must be standing before the altar of the Moon at midnight on any full moon to complete the Ceremony of the Moon and be promoted to arch druid.
There is nothing I can do for you to be promoted until then." ]]
end

-- "Arch Druids"
evt.global[1399] = function()
	evt.SetMessage{Str = 1796}         --[[ "The earth is wounded in the west.
I can feel it, my fellow druids, and if you put your hand to the ground and listen with your heart, you'll feel it, too.
I am bound here with my responsibilities, but I urge you to investigate the source of this pain.
I am sure the wound and the Night of Shooting Stars are related.
" ]]
end

-- "Winter"
evt.global[1400] = function()
	evt.SetMessage{Str = 1797}         --[[ "I grow tired of winter.
In my lands, winter seems to last year round.
As a matter of fact, for the last few years, summer didn’t arrive at all.
I have come to believe that something is wrong with the weather, and I want something done about it.
I know your reputation, and I hear you can do anything.
I have a deal for you.
End the winter in my land and I will give you my support in the High Council when it comes time for you to ask for it.
If it's any help at all, I hear there is hermit on a mountaintop somewhere west of here who has studied the weather in detail." ]]
	evt.Add{"QBits", Value = 1144}         -- "End winter for Lord Stromgard at Castle Stromgard, and return to him with the good news."
	evt.SetNPCTopic{NPC = 800, Index = 0, Event = 1401}         -- "Erik Von Stromgard" : "Winter"
	evt.SetNPCTopic{NPC = 804, Index = 0, Event = 1409}         -- "The Hermit on the Mountain" : "Winter"
end

-- "Winter"
evt.global[1401] = function()
	evt.SetMessage{Str = 1798}         --[[ "Do you think you could hurry this miracle thing along?
The snow on the ground is building up, and we are going to have to start putting buildings on stilts!" ]]
end

-- "Winter"
evt.global[1402] = function()
	evt.SetMessage{Str = 1799}         --[[ "I was looking out my window when the weather broke and the snow vanished!
A miracle!
A genuine miracle!
You have done my people and me a great service.
<Slapping his chest> Count Erik Von Stromgard as your friend forever!
" ]]
	evt.Subtract{"QBits", Value = 1144}         -- "End winter for Lord Stromgard at Castle Stromgard, and return to him with the good news."
	evt.Set{"QBits", Value = 1199}         -- NPC
	evt.Add{"ReputationIs", Value = 10}
	evt.SetNPCTopic{NPC = 800, Index = 0, Event = 1403}         -- "Erik Von Stromgard" : "Winter"
	evt.ForPlayer(-- ERROR: Const not found
"All")
	evt.Add{"Awards", Value = 62}         -- "Ended Winter"
	evt.Add{"Experience", Value = 50000}
	evt.ForPlayer(-- ERROR: Const not found
"All")
	if evt.Cmp{"Awards", Value = 63} then         -- "Exposed the Traitor on the High Council"
		if evt.Cmp{"Awards", Value = 57} then         -- "Retrieved Lord Kilburn's Shield"
			if evt.Cmp{"Awards", Value = 58} then         -- "Retrieved the Hourglass of Time"
				if evt.Cmp{"Awards", Value = 59} then         -- "Destroyed the Devil's Post"
					if evt.Cmp{"Awards", Value = 60} then         -- "Captured the Prince of Thieves"
						if evt.Cmp{"Awards", Value = 61} then         -- "Fixed the Stable Prices"
							if evt.Cmp{"Awards", Value = 62} then         -- "Ended Winter"
								evt.Set{"QBits", Value = 1191}         -- NPC
							end
						end
					end
				end
			end
		end
	end
end

-- "Winter"
evt.global[1403] = function()
	evt.SetMessage{Str = 1800}         --[[ "For your services, I grant you my favor in the High Council!
Long may you live, O enemies of Winter!" ]]
end

-- "Warrior Mages"
evt.global[1404] = function()
	evt.SetMessage{Str = 1801}         --[[ "20 years ago, I won the annual archery competition held at Castle Ironfist, and I have held the championship ever since.
This gives me the right to promote archers to the title of warrior mage and master archer as I see fit.
I’ll grant the title of warrior mage to all the archers amongst you if you do me a little favor. I need the key to the old Dragon Towers set up near every major settlement in Enroth to shoot down flying creatures.
I think that they can be set to shoot down only monsters, instead of shooting anything flying through the air. Since this is something of a pet project, I will reward honorary warrior mage status to the rest of you.
The key is in my old keep near the southern entrance to my lands.
I had to leave it there when the ogres and their companions took it from me a few years ago.
Return with that key and be rewarded.
And I won’t be crying in my beer if you kill a lot of those monsters while you’re at it.
They took my keep!" ]]
	evt.Add{"QBits", Value = 1145}         -- "Retrieve the key to the Dragon Towers from Icewind Keep south of Whitecap, and bring it to Lord Stromgard at Castle Stromgard."
	evt.SetNPCTopic{NPC = 800, Index = 1, Event = 1405}         -- "Erik Von Stromgard" : "Warrior Mages"
end

-- "Warrior Mages"
evt.global[1405] = function()
	evt.ForPlayer(-- ERROR: Const not found
"All")
	if not evt.Cmp{"Inventory", Value = 2106} then         -- "Dragon Tower Keys"
		evt.SetMessage{Str = 1802}         --[[ "No key—No reward.
Our deal is simple and straightforward.
Fetch the key from my old keep and return once you have it.
" ]]
		return
	end
	evt.SetMessage{Str = 1803}         --[[ "Very good!
You got the key, and hopefully slew a large number of those loathsome beasts.
I hereby promote all archers to the status of warrior mage, and all non-archers to honorary warrior mage." ]]
	evt.ForPlayer(-- ERROR: Const not found
0)
	if evt.Cmp{"ClassIs", Value = const.Class.Archer} then
		evt.Set{"ClassIs", Value = const.Class.WarriorMage}
		evt.Add{"QBits", Value = 1655}         -- Received Promotion to Battle Mage
	else
		evt.Add{"QBits", Value = 1656}         -- Received Promotion to Honorary Battle Mage
	end
	evt.ForPlayer(-- ERROR: Const not found
1)
	if evt.Cmp{"ClassIs", Value = const.Class.Archer} then
		evt.Set{"ClassIs", Value = const.Class.WarriorMage}
		evt.Add{"QBits", Value = 1655}         -- Received Promotion to Battle Mage
	else
		evt.Add{"QBits", Value = 1656}         -- Received Promotion to Honorary Battle Mage
	end
	evt.ForPlayer(-- ERROR: Const not found
2)
	if evt.Cmp{"ClassIs", Value = const.Class.Archer} then
		evt.Set{"ClassIs", Value = const.Class.WarriorMage}
		evt.Add{"QBits", Value = 1655}         -- Received Promotion to Battle Mage
	else
		evt.Add{"QBits", Value = 1656}         -- Received Promotion to Honorary Battle Mage
	end
	evt.ForPlayer(-- ERROR: Const not found
3)
	if evt.Cmp{"ClassIs", Value = const.Class.Archer} then
		evt.Set{"ClassIs", Value = const.Class.WarriorMage}
		evt.Add{"QBits", Value = 1655}         -- Received Promotion to Battle Mage
	else
		evt.Add{"QBits", Value = 1656}         -- Received Promotion to Honorary Battle Mage
	end
	evt.Subtract{"QBits", Value = 1145}         -- "Retrieve the key to the Dragon Towers from Icewind Keep south of Whitecap, and bring it to Lord Stromgard at Castle Stromgard."
	evt.Add{"ReputationIs", Value = 2}
	evt.ForPlayer(-- ERROR: Const not found
"All")
	evt.Add{"Experience", Value = 15000}
	evt.SetNPCTopic{NPC = 800, Index = 1, Event = 1406}         -- "Erik Von Stromgard" : "Master Archers"
end

-- "Master Archers"
evt.global[1406] = function()
	evt.SetMessage{Str = 1804}         --[[ "The reason I wanted the key was to open the Dragon Towers and make the adjustments to prevent them from shooting flyers indiscriminately.
There is a way to adjust the towers to shoot at only large objects, and I want all of them adjusted for the good of the Kingdom.
Magic is becoming more common, as are stories of young Sorcerers getting shot from the sky because they didn’t know the function of the towers.
You have the key.
If you adjust all of the towers to shoot at only large objects, I will promote all warrior mages amongst you to master archers and promote any honorary warrior mages to honorary master archers." ]]
	evt.Add{"QBits", Value = 1146}         -- "Reset all of the Dragon Towers at each town and return to Lord Stromgard in Castle Stromgard."
	evt.SetNPCTopic{NPC = 800, Index = 1, Event = 1413}         -- "Erik Von Stromgard" : "Master Archers"
end

-- "Master Archers"
evt.global[1413] = function()
	if evt.Cmp{"QBits", Value = 1180} then         -- NPC
		if evt.Cmp{"QBits", Value = 1181} then         -- NPC
			if evt.Cmp{"QBits", Value = 1182} then         -- NPC
				if evt.Cmp{"QBits", Value = 1183} then         -- NPC
					if not evt.Cmp{"QBits", Value = 1184} then         -- NPC
						goto _11
					end
					if not evt.Cmp{"QBits", Value = 1185} then         -- NPC
						goto _11
					end
					evt.SetMessage{Str = 1807}         --[[ "I knew my faith in you was well placed!
You have fixed a major problem in our kingdom, not to mention doing yourself a favor—It’s now safe to fly above towns.
It is my pleasure to promote all warrior mages to master archers, and all honorary warrior mages to honorary master archers.
" ]]
					evt.Add{"ReputationIs", Value = 5}
					evt.Subtract{"QBits", Value = 1146}         -- "Reset all of the Dragon Towers at each town and return to Lord Stromgard in Castle Stromgard."
					evt.ForPlayer(-- ERROR: Const not found
"All")
					evt.Add{"Experience", Value = 40000}
					evt.ForPlayer(-- ERROR: Const not found
0)
					if evt.Cmp{"ClassIs", Value = const.Class.WarriorMage} then
						evt.Set{"ClassIs", Value = const.Class.BattleMage}
						evt.Add{"QBits", Value = 1657}         -- Received Promotion to Warrior Mage
					else
						evt.Add{"QBits", Value = 1658}         -- Received Promotion to Honorary Warrior Mage
					end
					goto _24
				end
			end
		end
	end
::_11::
	evt.SetMessage{Str = 1805}         --[[ "Hmm.
Not all of the towers have been reset.
They are easy to find, if a bit long in getting to.
The easiest is in Whitecap to the west of us." ]]
	do return end
::_24::
	evt.ForPlayer(-- ERROR: Const not found
1)
	if evt.Cmp{"ClassIs", Value = const.Class.WarriorMage} then
		evt.Set{"ClassIs", Value = const.Class.BattleMage}
		evt.Add{"QBits", Value = 1657}         -- Received Promotion to Warrior Mage
	else
		evt.Add{"QBits", Value = 1658}         -- Received Promotion to Honorary Warrior Mage
	end
	evt.ForPlayer(-- ERROR: Const not found
2)
	if evt.Cmp{"ClassIs", Value = const.Class.WarriorMage} then
		evt.Set{"ClassIs", Value = const.Class.BattleMage}
		evt.Add{"QBits", Value = 1657}         -- Received Promotion to Warrior Mage
	else
		evt.Add{"QBits", Value = 1658}         -- Received Promotion to Honorary Warrior Mage
	end
	evt.ForPlayer(-- ERROR: Const not found
3)
	if evt.Cmp{"ClassIs", Value = const.Class.WarriorMage} then
		evt.Set{"ClassIs", Value = const.Class.BattleMage}
		evt.Add{"QBits", Value = 1657}         -- Received Promotion to Warrior Mage
	else
		evt.Add{"QBits", Value = 1658}         -- Received Promotion to Honorary Warrior Mage
	end
	evt.SetNPCTopic{NPC = 800, Index = 1, Event = 1407}         -- "Erik Von Stromgard" : "Master Archers"
end

-- "Master Archers"
evt.global[1407] = function()
	evt.SetMessage{Str = 1808}         --[[ "Welcome, master archers!
You may warm yourself by my hearth any time!" ]]
end

-- "Winter"
evt.global[1408] = function()
	evt.SetMessage{Str = 1809}         --[[ "I like it up here.
It’s as though I can watch the world turn from up high and all alone.
Serene.
Untouchable.
Almost…Prophetic.
I can see the clouds churn and travel, break apart and mix together.
I can predict the weather almost perfectly.
<Smiling> Right now, I predict more snow." ]]
end

-- "Winter"
evt.global[1409] = function()
	evt.SetMessage{Str = 1810}         --[[ "So, Stromgard needs a miracle with the weather, eh?
All this time I thought he was the one responsible for making it snow continually.
I can break the enchantment on the weather easily, and if you hurry back to him, I’m sure you can claim responsibility." ]]
	evt.Set{"QBits", Value = 1252}         -- NPC
	evt.SetNPCTopic{NPC = 800, Index = 0, Event = 1402}         -- "Erik Von Stromgard" : "Winter"
	evt.SetNPCTopic{NPC = 804, Index = 0, Event = 1410}         -- "The Hermit on the Mountain" : "Winter"
end

-- "Winter"
evt.global[1410] = function()
	evt.SetMessage{Str = 1811}         --[[ "As grateful as I am for your company, I am, in fact, a hermit.
I'm sure you have plenty of important things to do and don't need to be cluttering up my house any longer." ]]
end

-- "My Capture"
evt.global[1411] = function()
	evt.SetMessage{Str = 1827}         --[[ "Curses!
Foiled again!" ]]
end

-- "Silvertongue's Refusal"
evt.global[1414] = function()
	evt.SetMessage{Str = 1869}         --[[ "Slicker Silvertongue refused my order?
This must be treason!
Still, I've known him so long, and he's never disobeyed an order before…perhaps he is suffering from delusions.
Yes, that's it.
He's been spending so much time investigating that horrible Baa cult that it's affected his mind– I even found one of their cloaks in his room.
Perhaps you can find a cure for him.
They must surely know what they've done to him!
I would start at their headquarters east of Castle Kriegspire.
Here, take the cloak– perhaps you can find some use for it." ]]
	evt.Set{"QBits", Value = 1224}         -- "Find a cure for Slicker Silvertongue in the Superior Temple of Baa east of Castle Kriegspire and return to Wilbur Humphrey with the good news."
	evt.Add{"Inventory", Value = 2105}         -- "Cloak of Baa"
	evt.SetNPCTopic{NPC = 789, Index = 0, Event = 1415}         -- "Wilbur Humphrey" : "Silvertongue's Cure"
end

-- "Silvertongue's Cure"
evt.global[1415] = function()
	evt.ForPlayer(-- ERROR: Const not found
"All")
	if evt.Cmp{"Inventory", Value = 2122} then         -- "Letter from Zenofex"
		evt.SetMessage{Str = 1870}         --[[ "Oh, my!
It appears that Slicker Silvertongue really is a traitor!
Who ever would have guessed it?
You've done a good thing, bringing this letter to me.
Take it to High Council immediately so we can be rid of this wicked traitor for once and for all!" ]]
		evt.Subtract{"QBits", Value = 1224}         -- "Find a cure for Slicker Silvertongue in the Superior Temple of Baa east of Castle Kriegspire and return to Wilbur Humphrey with the good news."
		evt.Set{"QBits", Value = 1225}         -- "Bring the the letter detailing Silvertongue's treason to the High Council in Free Haven."
		return
	end
	if not evt.Cmp{"Inventory", Value = 2105} then         -- "Cloak of Baa"
		evt.ForPlayer(-- ERROR: Const not found
4)
		evt.Add{"Inventory", Value = 2105}         -- "Cloak of Baa"
	end
	evt.SetMessage{Str = 1871}         --[[ "Please hurry in your quest to find Slicker Silvertongue's cure!
I am sure the poor man must be suffering horribly under their dreadful mind control spell!" ]]
end

-- "Service to the Crown"
evt.global[1416] = function()
	evt.SetMessage{Str = 1710}         --[[ "I cannot thank you enough for uncovering that horrible traitor and his crimes against the throne.
I understand you are on a mission of some importance, so for Services Rendered to the Crown, it behooves me to offer you free use of the royal yacht for your travels.
It will take you as far as Hermit's Isle, if you need it to.
Once again, thank you!" ]]
end

-- "Rules"
evt.global[1417] = function()
	evt.SetMessage{Str = 1872}         --[[ "Welcome to the Circus of the Sun!
We have a variety of games for your amusement.
You can take the prizes you win from the various games and trade them in here for either kegs of wine or golden pyramids.
You need at least 10 points to get a keg of wine, and 30 or more points will win you a golden pyramid.
In case you didn't know, each lodestone is worth 1 point, each harpy feather is worth 3 points, and each four leaf clover is worth 5 points.
" ]]
end

-- "Prizes"
evt.global[1418] = function()
	if evt.Cmp{238, Value = 30} then
		evt.Add{"Inventory", Value = 2092}         -- "Golden Pyramid"
		evt.SetMessage{Str = 1876}         --[[ "Congratulations!
You win a golden pyramid!
Good work– remember there are no limits on the prizes, so keep playing!" ]]
		evt.ForPlayer(-- ERROR: Const not found
"All")
	else
		if not evt.Cmp{238, Value = 10} then
			evt.SetMessage{Str = 1874}         --[[ "I'm sorry, but you don't have 10 points yet.
Why don't you try a few more games?" ]]
			return
		end
		evt.Add{"Inventory", Value = 2093}         -- "Keg of Wine"
		evt.SetMessage{Str = 1875}         --[[ "Congratulations!
You win a keg of wine!
There are no limits on the prizes here, so keep playing!" ]]
		evt.ForPlayer(-- ERROR: Const not found
"All")
	end
::_14::
	if not evt.Cmp{"Inventory", Value = 2090} then         -- "Lodestone"
		goto _18
	end
	evt.Subtract{"Inventory", Value = 2090}         -- "Lodestone"
	goto _14
::_18::
	if not evt.Cmp{"Inventory", Value = 2091} then         -- "Harpy Feather"
		goto _22
	end
	evt.Subtract{"Inventory", Value = 2091}         -- "Harpy Feather"
	goto _18
::_22::
	if not evt.Cmp{"Inventory", Value = 2097} then         -- "Four Leaf Clover"
		return
	end
	evt.Subtract{"Inventory", Value = 2097}         -- "Four Leaf Clover"
	goto _22
end

-- "Instructions"
evt.global[1419] = function()
	evt.SetMessage{Str = 1877}         --[[ "Welcome!
To play my game, simply pay 50 gold and step right up to compete against me.
Depending on how well you do you can win either a lodestone, a harpy feather, or a four leaf clover.
If you do poorly, you win nothing.
You can trade in your lodestones, feathers, and clovers in the main tent." ]]
end

-- "Play Might Game for 50 Gold"
evt.global[1420] = function()
	local i
	evt.Subtract{"Gold", Value = 50}
	if evt.Cmp{"CurrentMight", Value = 200} then
		i = Game.Rand() % 6
		if i == 1 then
			evt.Add{"Inventory", Value = 2097}         -- "Four Leaf Clover"
			evt.SetMessage{Str = 1881}         --[[ "Incredible!
Are you sure you didn't cheat?
Well, a rule's a rule.
Here's your prize– a four leaf clover!" ]]
		elseif i == 2 then
			evt.Add{"Inventory", Value = 2097}         -- "Four Leaf Clover"
			evt.SetMessage{Str = 1881}         --[[ "Incredible!
Are you sure you didn't cheat?
Well, a rule's a rule.
Here's your prize– a four leaf clover!" ]]
		elseif i == 3 then
			evt.Add{"Inventory", Value = 2097}         -- "Four Leaf Clover"
			evt.SetMessage{Str = 1881}         --[[ "Incredible!
Are you sure you didn't cheat?
Well, a rule's a rule.
Here's your prize– a four leaf clover!" ]]
		elseif i == 4 then
			evt.Add{"Inventory", Value = 2091}         -- "Harpy Feather"
			evt.SetMessage{Str = 1880}         -- "Excellent work, you win a harpy feather!"
		elseif i == 5 then
			evt.Add{"Inventory", Value = 2091}         -- "Harpy Feather"
			evt.SetMessage{Str = 1880}         -- "Excellent work, you win a harpy feather!"
		else
			evt.Add{"Inventory", Value = 2090}         -- "Lodestone"
			evt.SetMessage{Str = 1879}         --[[ "Good job, I thought I had you there.
You win a lodestone!" ]]
		end
	else
		if evt.Cmp{"CurrentMight", Value = 150} then
			i = Game.Rand() % 6
			if i == 1 then
				evt.Add{"Inventory", Value = 2097}         -- "Four Leaf Clover"
				evt.SetMessage{Str = 1881}         --[[ "Incredible!
Are you sure you didn't cheat?
Well, a rule's a rule.
Here's your prize– a four leaf clover!" ]]
			elseif i == 2 then
				evt.Add{"Inventory", Value = 2097}         -- "Four Leaf Clover"
				evt.SetMessage{Str = 1881}         --[[ "Incredible!
Are you sure you didn't cheat?
Well, a rule's a rule.
Here's your prize– a four leaf clover!" ]]
			elseif i == 3 then
				evt.Add{"Inventory", Value = 2091}         -- "Harpy Feather"
				evt.SetMessage{Str = 1880}         -- "Excellent work, you win a harpy feather!"
			elseif i == 4 then
				evt.Add{"Inventory", Value = 2091}         -- "Harpy Feather"
				evt.SetMessage{Str = 1880}         -- "Excellent work, you win a harpy feather!"
			elseif i == 5 then
				evt.Add{"Inventory", Value = 2090}         -- "Lodestone"
				evt.SetMessage{Str = 1879}         --[[ "Good job, I thought I had you there.
You win a lodestone!" ]]
			else
				evt.Add{"Inventory", Value = 2090}         -- "Lodestone"
				evt.SetMessage{Str = 1879}         --[[ "Good job, I thought I had you there.
You win a lodestone!" ]]
			end
		else
			if evt.Cmp{"CurrentMight", Value = 100} then
				i = Game.Rand() % 6
				if i == 1 then
					evt.Add{"Inventory", Value = 2097}         -- "Four Leaf Clover"
					evt.SetMessage{Str = 1881}         --[[ "Incredible!
Are you sure you didn't cheat?
Well, a rule's a rule.
Here's your prize– a four leaf clover!" ]]
				elseif i == 2 then
					evt.Add{"Inventory", Value = 2091}         -- "Harpy Feather"
					evt.SetMessage{Str = 1880}         -- "Excellent work, you win a harpy feather!"
				elseif i == 3 then
					evt.Add{"Inventory", Value = 2091}         -- "Harpy Feather"
					evt.SetMessage{Str = 1880}         -- "Excellent work, you win a harpy feather!"
				elseif i == 4 then
					evt.Add{"Inventory", Value = 2090}         -- "Lodestone"
					evt.SetMessage{Str = 1879}         --[[ "Good job, I thought I had you there.
You win a lodestone!" ]]
				elseif i == 5 then
					evt.Add{"Inventory", Value = 2090}         -- "Lodestone"
					evt.SetMessage{Str = 1879}         --[[ "Good job, I thought I had you there.
You win a lodestone!" ]]
				else
					evt.SetMessage{Str = 1878}         --[[ "Too bad!
You came pretty close.
For 50 gold, I'll give you another chance." ]]
				end
			else
				if evt.Cmp{"CurrentMight", Value = 75} then
					i = Game.Rand() % 6
					if i == 1 then
						evt.Add{"Inventory", Value = 2091}         -- "Harpy Feather"
						evt.SetMessage{Str = 1880}         -- "Excellent work, you win a harpy feather!"
					elseif i == 2 then
						evt.Add{"Inventory", Value = 2091}         -- "Harpy Feather"
						evt.SetMessage{Str = 1880}         -- "Excellent work, you win a harpy feather!"
					elseif i == 3 then
						evt.Add{"Inventory", Value = 2090}         -- "Lodestone"
						evt.SetMessage{Str = 1879}         --[[ "Good job, I thought I had you there.
You win a lodestone!" ]]
					elseif i == 4 then
						evt.Add{"Inventory", Value = 2090}         -- "Lodestone"
						evt.SetMessage{Str = 1879}         --[[ "Good job, I thought I had you there.
You win a lodestone!" ]]
					elseif i == 5 then
						evt.SetMessage{Str = 1878}         --[[ "Too bad!
You came pretty close.
For 50 gold, I'll give you another chance." ]]
					else
						evt.SetMessage{Str = 1878}         --[[ "Too bad!
You came pretty close.
For 50 gold, I'll give you another chance." ]]
					end
				else
					if evt.Cmp{"CurrentMight", Value = 50} then
						i = Game.Rand() % 6
						if i == 1 then
							evt.Add{"Inventory", Value = 2091}         -- "Harpy Feather"
							evt.SetMessage{Str = 1880}         -- "Excellent work, you win a harpy feather!"
						elseif i == 2 then
							evt.Add{"Inventory", Value = 2090}         -- "Lodestone"
							evt.SetMessage{Str = 1879}         --[[ "Good job, I thought I had you there.
You win a lodestone!" ]]
						elseif i == 3 then
							evt.Add{"Inventory", Value = 2090}         -- "Lodestone"
							evt.SetMessage{Str = 1879}         --[[ "Good job, I thought I had you there.
You win a lodestone!" ]]
						elseif i == 4 then
							evt.SetMessage{Str = 1878}         --[[ "Too bad!
You came pretty close.
For 50 gold, I'll give you another chance." ]]
						elseif i == 5 then
							evt.SetMessage{Str = 1878}         --[[ "Too bad!
You came pretty close.
For 50 gold, I'll give you another chance." ]]
						else
							evt.SetMessage{Str = 1878}         --[[ "Too bad!
You came pretty close.
For 50 gold, I'll give you another chance." ]]
						end
					else
						i = Game.Rand() % 6
						if i == 1 then
							evt.Add{"Inventory", Value = 2090}         -- "Lodestone"
							evt.SetMessage{Str = 1879}         --[[ "Good job, I thought I had you there.
You win a lodestone!" ]]
						elseif i == 2 then
							evt.Add{"Inventory", Value = 2090}         -- "Lodestone"
							evt.SetMessage{Str = 1879}         --[[ "Good job, I thought I had you there.
You win a lodestone!" ]]
						elseif i == 3 then
							evt.SetMessage{Str = 1878}         --[[ "Too bad!
You came pretty close.
For 50 gold, I'll give you another chance." ]]
						elseif i == 4 then
							evt.SetMessage{Str = 1878}         --[[ "Too bad!
You came pretty close.
For 50 gold, I'll give you another chance." ]]
						elseif i == 5 then
							evt.SetMessage{Str = 1878}         --[[ "Too bad!
You came pretty close.
For 50 gold, I'll give you another chance." ]]
						else
							evt.SetMessage{Str = 1878}         --[[ "Too bad!
You came pretty close.
For 50 gold, I'll give you another chance." ]]
						end
					end
				end
			end
		end
	end
end

-- "Play Endurance Game for 50 Gold"
evt.global[1421] = function()
	local i
	evt.Subtract{"Gold", Value = 50}
	if evt.Cmp{"CurrentEndurance", Value = 200} then
		i = Game.Rand() % 6
		if i == 1 then
			evt.Add{"Inventory", Value = 2097}         -- "Four Leaf Clover"
			evt.SetMessage{Str = 1881}         --[[ "Incredible!
Are you sure you didn't cheat?
Well, a rule's a rule.
Here's your prize– a four leaf clover!" ]]
		elseif i == 2 then
			evt.Add{"Inventory", Value = 2097}         -- "Four Leaf Clover"
			evt.SetMessage{Str = 1881}         --[[ "Incredible!
Are you sure you didn't cheat?
Well, a rule's a rule.
Here's your prize– a four leaf clover!" ]]
		elseif i == 3 then
			evt.Add{"Inventory", Value = 2097}         -- "Four Leaf Clover"
			evt.SetMessage{Str = 1881}         --[[ "Incredible!
Are you sure you didn't cheat?
Well, a rule's a rule.
Here's your prize– a four leaf clover!" ]]
		elseif i == 4 then
			evt.Add{"Inventory", Value = 2091}         -- "Harpy Feather"
			evt.SetMessage{Str = 1880}         -- "Excellent work, you win a harpy feather!"
		elseif i == 5 then
			evt.Add{"Inventory", Value = 2091}         -- "Harpy Feather"
			evt.SetMessage{Str = 1880}         -- "Excellent work, you win a harpy feather!"
		else
			evt.Add{"Inventory", Value = 2090}         -- "Lodestone"
			evt.SetMessage{Str = 1879}         --[[ "Good job, I thought I had you there.
You win a lodestone!" ]]
		end
	else
		if evt.Cmp{"CurrentEndurance", Value = 150} then
			i = Game.Rand() % 6
			if i == 1 then
				evt.Add{"Inventory", Value = 2097}         -- "Four Leaf Clover"
				evt.SetMessage{Str = 1881}         --[[ "Incredible!
Are you sure you didn't cheat?
Well, a rule's a rule.
Here's your prize– a four leaf clover!" ]]
			elseif i == 2 then
				evt.Add{"Inventory", Value = 2097}         -- "Four Leaf Clover"
				evt.SetMessage{Str = 1881}         --[[ "Incredible!
Are you sure you didn't cheat?
Well, a rule's a rule.
Here's your prize– a four leaf clover!" ]]
			elseif i == 3 then
				evt.Add{"Inventory", Value = 2091}         -- "Harpy Feather"
				evt.SetMessage{Str = 1880}         -- "Excellent work, you win a harpy feather!"
			elseif i == 4 then
				evt.Add{"Inventory", Value = 2091}         -- "Harpy Feather"
				evt.SetMessage{Str = 1880}         -- "Excellent work, you win a harpy feather!"
			elseif i == 5 then
				evt.Add{"Inventory", Value = 2090}         -- "Lodestone"
				evt.SetMessage{Str = 1879}         --[[ "Good job, I thought I had you there.
You win a lodestone!" ]]
			else
				evt.Add{"Inventory", Value = 2090}         -- "Lodestone"
				evt.SetMessage{Str = 1879}         --[[ "Good job, I thought I had you there.
You win a lodestone!" ]]
			end
		else
			if evt.Cmp{"CurrentEndurance", Value = 100} then
				i = Game.Rand() % 6
				if i == 1 then
					evt.Add{"Inventory", Value = 2097}         -- "Four Leaf Clover"
					evt.SetMessage{Str = 1881}         --[[ "Incredible!
Are you sure you didn't cheat?
Well, a rule's a rule.
Here's your prize– a four leaf clover!" ]]
				elseif i == 2 then
					evt.Add{"Inventory", Value = 2091}         -- "Harpy Feather"
					evt.SetMessage{Str = 1880}         -- "Excellent work, you win a harpy feather!"
				elseif i == 3 then
					evt.Add{"Inventory", Value = 2091}         -- "Harpy Feather"
					evt.SetMessage{Str = 1880}         -- "Excellent work, you win a harpy feather!"
				elseif i == 4 then
					evt.Add{"Inventory", Value = 2090}         -- "Lodestone"
					evt.SetMessage{Str = 1879}         --[[ "Good job, I thought I had you there.
You win a lodestone!" ]]
				elseif i == 5 then
					evt.Add{"Inventory", Value = 2090}         -- "Lodestone"
					evt.SetMessage{Str = 1879}         --[[ "Good job, I thought I had you there.
You win a lodestone!" ]]
				else
					evt.SetMessage{Str = 1878}         --[[ "Too bad!
You came pretty close.
For 50 gold, I'll give you another chance." ]]
				end
			else
				if evt.Cmp{"CurrentEndurance", Value = 75} then
					i = Game.Rand() % 6
					if i == 1 then
						evt.Add{"Inventory", Value = 2091}         -- "Harpy Feather"
						evt.SetMessage{Str = 1880}         -- "Excellent work, you win a harpy feather!"
					elseif i == 2 then
						evt.Add{"Inventory", Value = 2091}         -- "Harpy Feather"
						evt.SetMessage{Str = 1880}         -- "Excellent work, you win a harpy feather!"
					elseif i == 3 then
						evt.Add{"Inventory", Value = 2090}         -- "Lodestone"
						evt.SetMessage{Str = 1879}         --[[ "Good job, I thought I had you there.
You win a lodestone!" ]]
					elseif i == 4 then
						evt.Add{"Inventory", Value = 2090}         -- "Lodestone"
						evt.SetMessage{Str = 1879}         --[[ "Good job, I thought I had you there.
You win a lodestone!" ]]
					elseif i == 5 then
						evt.SetMessage{Str = 1878}         --[[ "Too bad!
You came pretty close.
For 50 gold, I'll give you another chance." ]]
					else
						evt.SetMessage{Str = 1878}         --[[ "Too bad!
You came pretty close.
For 50 gold, I'll give you another chance." ]]
					end
				else
					if evt.Cmp{"CurrentEndurance", Value = 50} then
						i = Game.Rand() % 6
						if i == 1 then
							evt.Add{"Inventory", Value = 2091}         -- "Harpy Feather"
							evt.SetMessage{Str = 1880}         -- "Excellent work, you win a harpy feather!"
						elseif i == 2 then
							evt.Add{"Inventory", Value = 2090}         -- "Lodestone"
							evt.SetMessage{Str = 1879}         --[[ "Good job, I thought I had you there.
You win a lodestone!" ]]
						elseif i == 3 then
							evt.Add{"Inventory", Value = 2090}         -- "Lodestone"
							evt.SetMessage{Str = 1879}         --[[ "Good job, I thought I had you there.
You win a lodestone!" ]]
						elseif i == 4 then
							evt.SetMessage{Str = 1878}         --[[ "Too bad!
You came pretty close.
For 50 gold, I'll give you another chance." ]]
						elseif i == 5 then
							evt.SetMessage{Str = 1878}         --[[ "Too bad!
You came pretty close.
For 50 gold, I'll give you another chance." ]]
						else
							evt.SetMessage{Str = 1878}         --[[ "Too bad!
You came pretty close.
For 50 gold, I'll give you another chance." ]]
						end
					else
						i = Game.Rand() % 6
						if i == 1 then
							evt.Add{"Inventory", Value = 2090}         -- "Lodestone"
							evt.SetMessage{Str = 1879}         --[[ "Good job, I thought I had you there.
You win a lodestone!" ]]
						elseif i == 2 then
							evt.Add{"Inventory", Value = 2090}         -- "Lodestone"
							evt.SetMessage{Str = 1879}         --[[ "Good job, I thought I had you there.
You win a lodestone!" ]]
						elseif i == 3 then
							evt.SetMessage{Str = 1878}         --[[ "Too bad!
You came pretty close.
For 50 gold, I'll give you another chance." ]]
						elseif i == 4 then
							evt.SetMessage{Str = 1878}         --[[ "Too bad!
You came pretty close.
For 50 gold, I'll give you another chance." ]]
						elseif i == 5 then
							evt.SetMessage{Str = 1878}         --[[ "Too bad!
You came pretty close.
For 50 gold, I'll give you another chance." ]]
						else
							evt.SetMessage{Str = 1878}         --[[ "Too bad!
You came pretty close.
For 50 gold, I'll give you another chance." ]]
						end
					end
				end
			end
		end
	end
end

-- "Play Speed Game for 50 Gold"
evt.global[1422] = function()
	local i
	evt.Subtract{"Gold", Value = 50}
	if evt.Cmp{"CurrentSpeed", Value = 200} then
		i = Game.Rand() % 6
		if i == 1 then
			evt.Add{"Inventory", Value = 2097}         -- "Four Leaf Clover"
			evt.SetMessage{Str = 1881}         --[[ "Incredible!
Are you sure you didn't cheat?
Well, a rule's a rule.
Here's your prize– a four leaf clover!" ]]
		elseif i == 2 then
			evt.Add{"Inventory", Value = 2097}         -- "Four Leaf Clover"
			evt.SetMessage{Str = 1881}         --[[ "Incredible!
Are you sure you didn't cheat?
Well, a rule's a rule.
Here's your prize– a four leaf clover!" ]]
		elseif i == 3 then
			evt.Add{"Inventory", Value = 2097}         -- "Four Leaf Clover"
			evt.SetMessage{Str = 1881}         --[[ "Incredible!
Are you sure you didn't cheat?
Well, a rule's a rule.
Here's your prize– a four leaf clover!" ]]
		elseif i == 4 then
			evt.Add{"Inventory", Value = 2091}         -- "Harpy Feather"
			evt.SetMessage{Str = 1880}         -- "Excellent work, you win a harpy feather!"
		elseif i == 5 then
			evt.Add{"Inventory", Value = 2091}         -- "Harpy Feather"
			evt.SetMessage{Str = 1880}         -- "Excellent work, you win a harpy feather!"
		else
			evt.Add{"Inventory", Value = 2090}         -- "Lodestone"
			evt.SetMessage{Str = 1879}         --[[ "Good job, I thought I had you there.
You win a lodestone!" ]]
		end
	else
		if evt.Cmp{"CurrentSpeed", Value = 150} then
			i = Game.Rand() % 6
			if i == 1 then
				evt.Add{"Inventory", Value = 2097}         -- "Four Leaf Clover"
				evt.SetMessage{Str = 1881}         --[[ "Incredible!
Are you sure you didn't cheat?
Well, a rule's a rule.
Here's your prize– a four leaf clover!" ]]
			elseif i == 2 then
				evt.Add{"Inventory", Value = 2097}         -- "Four Leaf Clover"
				evt.SetMessage{Str = 1881}         --[[ "Incredible!
Are you sure you didn't cheat?
Well, a rule's a rule.
Here's your prize– a four leaf clover!" ]]
			elseif i == 3 then
				evt.Add{"Inventory", Value = 2091}         -- "Harpy Feather"
				evt.SetMessage{Str = 1880}         -- "Excellent work, you win a harpy feather!"
			elseif i == 4 then
				evt.Add{"Inventory", Value = 2091}         -- "Harpy Feather"
				evt.SetMessage{Str = 1880}         -- "Excellent work, you win a harpy feather!"
			elseif i == 5 then
				evt.Add{"Inventory", Value = 2090}         -- "Lodestone"
				evt.SetMessage{Str = 1879}         --[[ "Good job, I thought I had you there.
You win a lodestone!" ]]
			else
				evt.Add{"Inventory", Value = 2090}         -- "Lodestone"
				evt.SetMessage{Str = 1879}         --[[ "Good job, I thought I had you there.
You win a lodestone!" ]]
			end
		else
			if evt.Cmp{"CurrentSpeed", Value = 100} then
				i = Game.Rand() % 6
				if i == 1 then
					evt.Add{"Inventory", Value = 2097}         -- "Four Leaf Clover"
					evt.SetMessage{Str = 1881}         --[[ "Incredible!
Are you sure you didn't cheat?
Well, a rule's a rule.
Here's your prize– a four leaf clover!" ]]
				elseif i == 2 then
					evt.Add{"Inventory", Value = 2091}         -- "Harpy Feather"
					evt.SetMessage{Str = 1880}         -- "Excellent work, you win a harpy feather!"
				elseif i == 3 then
					evt.Add{"Inventory", Value = 2091}         -- "Harpy Feather"
					evt.SetMessage{Str = 1880}         -- "Excellent work, you win a harpy feather!"
				elseif i == 4 then
					evt.Add{"Inventory", Value = 2090}         -- "Lodestone"
					evt.SetMessage{Str = 1879}         --[[ "Good job, I thought I had you there.
You win a lodestone!" ]]
				elseif i == 5 then
					evt.Add{"Inventory", Value = 2090}         -- "Lodestone"
					evt.SetMessage{Str = 1879}         --[[ "Good job, I thought I had you there.
You win a lodestone!" ]]
				else
					evt.SetMessage{Str = 1878}         --[[ "Too bad!
You came pretty close.
For 50 gold, I'll give you another chance." ]]
				end
			else
				if evt.Cmp{"CurrentSpeed", Value = 75} then
					i = Game.Rand() % 6
					if i == 1 then
						evt.Add{"Inventory", Value = 2091}         -- "Harpy Feather"
						evt.SetMessage{Str = 1880}         -- "Excellent work, you win a harpy feather!"
					elseif i == 2 then
						evt.Add{"Inventory", Value = 2091}         -- "Harpy Feather"
						evt.SetMessage{Str = 1880}         -- "Excellent work, you win a harpy feather!"
					elseif i == 3 then
						evt.Add{"Inventory", Value = 2090}         -- "Lodestone"
						evt.SetMessage{Str = 1879}         --[[ "Good job, I thought I had you there.
You win a lodestone!" ]]
					elseif i == 4 then
						evt.Add{"Inventory", Value = 2090}         -- "Lodestone"
						evt.SetMessage{Str = 1879}         --[[ "Good job, I thought I had you there.
You win a lodestone!" ]]
					elseif i == 5 then
						evt.SetMessage{Str = 1878}         --[[ "Too bad!
You came pretty close.
For 50 gold, I'll give you another chance." ]]
					else
						evt.SetMessage{Str = 1878}         --[[ "Too bad!
You came pretty close.
For 50 gold, I'll give you another chance." ]]
					end
				else
					if evt.Cmp{"CurrentSpeed", Value = 50} then
						i = Game.Rand() % 6
						if i == 1 then
							evt.Add{"Inventory", Value = 2091}         -- "Harpy Feather"
							evt.SetMessage{Str = 1880}         -- "Excellent work, you win a harpy feather!"
						elseif i == 2 then
							evt.Add{"Inventory", Value = 2090}         -- "Lodestone"
							evt.SetMessage{Str = 1879}         --[[ "Good job, I thought I had you there.
You win a lodestone!" ]]
						elseif i == 3 then
							evt.Add{"Inventory", Value = 2090}         -- "Lodestone"
							evt.SetMessage{Str = 1879}         --[[ "Good job, I thought I had you there.
You win a lodestone!" ]]
						elseif i == 4 then
							evt.SetMessage{Str = 1878}         --[[ "Too bad!
You came pretty close.
For 50 gold, I'll give you another chance." ]]
						elseif i == 5 then
							evt.SetMessage{Str = 1878}         --[[ "Too bad!
You came pretty close.
For 50 gold, I'll give you another chance." ]]
						else
							evt.SetMessage{Str = 1878}         --[[ "Too bad!
You came pretty close.
For 50 gold, I'll give you another chance." ]]
						end
					else
						i = Game.Rand() % 6
						if i == 1 then
							evt.Add{"Inventory", Value = 2090}         -- "Lodestone"
							evt.SetMessage{Str = 1879}         --[[ "Good job, I thought I had you there.
You win a lodestone!" ]]
						elseif i == 2 then
							evt.Add{"Inventory", Value = 2090}         -- "Lodestone"
							evt.SetMessage{Str = 1879}         --[[ "Good job, I thought I had you there.
You win a lodestone!" ]]
						elseif i == 3 then
							evt.SetMessage{Str = 1878}         --[[ "Too bad!
You came pretty close.
For 50 gold, I'll give you another chance." ]]
						elseif i == 4 then
							evt.SetMessage{Str = 1878}         --[[ "Too bad!
You came pretty close.
For 50 gold, I'll give you another chance." ]]
						elseif i == 5 then
							evt.SetMessage{Str = 1878}         --[[ "Too bad!
You came pretty close.
For 50 gold, I'll give you another chance." ]]
						else
							evt.SetMessage{Str = 1878}         --[[ "Too bad!
You came pretty close.
For 50 gold, I'll give you another chance." ]]
						end
					end
				end
			end
		end
	end
end

-- "Play Accuracy Game for 50 Gold"
evt.global[1423] = function()
	local i
	evt.Subtract{"Gold", Value = 50}
	if evt.Cmp{"CurrentAccuracy", Value = 200} then
		i = Game.Rand() % 6
		if i == 1 then
			evt.Add{"Inventory", Value = 2097}         -- "Four Leaf Clover"
			evt.SetMessage{Str = 1881}         --[[ "Incredible!
Are you sure you didn't cheat?
Well, a rule's a rule.
Here's your prize– a four leaf clover!" ]]
		elseif i == 2 then
			evt.Add{"Inventory", Value = 2097}         -- "Four Leaf Clover"
			evt.SetMessage{Str = 1881}         --[[ "Incredible!
Are you sure you didn't cheat?
Well, a rule's a rule.
Here's your prize– a four leaf clover!" ]]
		elseif i == 3 then
			evt.Add{"Inventory", Value = 2097}         -- "Four Leaf Clover"
			evt.SetMessage{Str = 1881}         --[[ "Incredible!
Are you sure you didn't cheat?
Well, a rule's a rule.
Here's your prize– a four leaf clover!" ]]
		elseif i == 4 then
			evt.Add{"Inventory", Value = 2091}         -- "Harpy Feather"
			evt.SetMessage{Str = 1880}         -- "Excellent work, you win a harpy feather!"
		elseif i == 5 then
			evt.Add{"Inventory", Value = 2091}         -- "Harpy Feather"
			evt.SetMessage{Str = 1880}         -- "Excellent work, you win a harpy feather!"
		else
			evt.Add{"Inventory", Value = 2090}         -- "Lodestone"
			evt.SetMessage{Str = 1879}         --[[ "Good job, I thought I had you there.
You win a lodestone!" ]]
		end
	else
		if evt.Cmp{"CurrentAccuracy", Value = 150} then
			i = Game.Rand() % 6
			if i == 1 then
				evt.Add{"Inventory", Value = 2097}         -- "Four Leaf Clover"
				evt.SetMessage{Str = 1881}         --[[ "Incredible!
Are you sure you didn't cheat?
Well, a rule's a rule.
Here's your prize– a four leaf clover!" ]]
			elseif i == 2 then
				evt.Add{"Inventory", Value = 2097}         -- "Four Leaf Clover"
				evt.SetMessage{Str = 1881}         --[[ "Incredible!
Are you sure you didn't cheat?
Well, a rule's a rule.
Here's your prize– a four leaf clover!" ]]
			elseif i == 3 then
				evt.Add{"Inventory", Value = 2091}         -- "Harpy Feather"
				evt.SetMessage{Str = 1880}         -- "Excellent work, you win a harpy feather!"
			elseif i == 4 then
				evt.Add{"Inventory", Value = 2091}         -- "Harpy Feather"
				evt.SetMessage{Str = 1880}         -- "Excellent work, you win a harpy feather!"
			elseif i == 5 then
				evt.Add{"Inventory", Value = 2090}         -- "Lodestone"
				evt.SetMessage{Str = 1879}         --[[ "Good job, I thought I had you there.
You win a lodestone!" ]]
			else
				evt.Add{"Inventory", Value = 2090}         -- "Lodestone"
				evt.SetMessage{Str = 1879}         --[[ "Good job, I thought I had you there.
You win a lodestone!" ]]
			end
		else
			if evt.Cmp{"CurrentAccuracy", Value = 100} then
				i = Game.Rand() % 6
				if i == 1 then
					evt.Add{"Inventory", Value = 2097}         -- "Four Leaf Clover"
					evt.SetMessage{Str = 1881}         --[[ "Incredible!
Are you sure you didn't cheat?
Well, a rule's a rule.
Here's your prize– a four leaf clover!" ]]
				elseif i == 2 then
					evt.Add{"Inventory", Value = 2091}         -- "Harpy Feather"
					evt.SetMessage{Str = 1880}         -- "Excellent work, you win a harpy feather!"
				elseif i == 3 then
					evt.Add{"Inventory", Value = 2091}         -- "Harpy Feather"
					evt.SetMessage{Str = 1880}         -- "Excellent work, you win a harpy feather!"
				elseif i == 4 then
					evt.Add{"Inventory", Value = 2090}         -- "Lodestone"
					evt.SetMessage{Str = 1879}         --[[ "Good job, I thought I had you there.
You win a lodestone!" ]]
				elseif i == 5 then
					evt.Add{"Inventory", Value = 2090}         -- "Lodestone"
					evt.SetMessage{Str = 1879}         --[[ "Good job, I thought I had you there.
You win a lodestone!" ]]
				else
					evt.SetMessage{Str = 1878}         --[[ "Too bad!
You came pretty close.
For 50 gold, I'll give you another chance." ]]
				end
			else
				if evt.Cmp{"CurrentAccuracy", Value = 75} then
					i = Game.Rand() % 6
					if i == 1 then
						evt.Add{"Inventory", Value = 2091}         -- "Harpy Feather"
						evt.SetMessage{Str = 1880}         -- "Excellent work, you win a harpy feather!"
					elseif i == 2 then
						evt.Add{"Inventory", Value = 2091}         -- "Harpy Feather"
						evt.SetMessage{Str = 1880}         -- "Excellent work, you win a harpy feather!"
					elseif i == 3 then
						evt.Add{"Inventory", Value = 2090}         -- "Lodestone"
						evt.SetMessage{Str = 1879}         --[[ "Good job, I thought I had you there.
You win a lodestone!" ]]
					elseif i == 4 then
						evt.Add{"Inventory", Value = 2090}         -- "Lodestone"
						evt.SetMessage{Str = 1879}         --[[ "Good job, I thought I had you there.
You win a lodestone!" ]]
					elseif i == 5 then
						evt.SetMessage{Str = 1878}         --[[ "Too bad!
You came pretty close.
For 50 gold, I'll give you another chance." ]]
					else
						evt.SetMessage{Str = 1878}         --[[ "Too bad!
You came pretty close.
For 50 gold, I'll give you another chance." ]]
					end
				else
					if evt.Cmp{"CurrentAccuracy", Value = 50} then
						i = Game.Rand() % 6
						if i == 1 then
							evt.Add{"Inventory", Value = 2091}         -- "Harpy Feather"
							evt.SetMessage{Str = 1880}         -- "Excellent work, you win a harpy feather!"
						elseif i == 2 then
							evt.Add{"Inventory", Value = 2090}         -- "Lodestone"
							evt.SetMessage{Str = 1879}         --[[ "Good job, I thought I had you there.
You win a lodestone!" ]]
						elseif i == 3 then
							evt.Add{"Inventory", Value = 2090}         -- "Lodestone"
							evt.SetMessage{Str = 1879}         --[[ "Good job, I thought I had you there.
You win a lodestone!" ]]
						elseif i == 4 then
							evt.SetMessage{Str = 1878}         --[[ "Too bad!
You came pretty close.
For 50 gold, I'll give you another chance." ]]
						elseif i == 5 then
							evt.SetMessage{Str = 1878}         --[[ "Too bad!
You came pretty close.
For 50 gold, I'll give you another chance." ]]
						else
							evt.SetMessage{Str = 1878}         --[[ "Too bad!
You came pretty close.
For 50 gold, I'll give you another chance." ]]
						end
					else
						i = Game.Rand() % 6
						if i == 1 then
							evt.Add{"Inventory", Value = 2090}         -- "Lodestone"
							evt.SetMessage{Str = 1879}         --[[ "Good job, I thought I had you there.
You win a lodestone!" ]]
						elseif i == 2 then
							evt.Add{"Inventory", Value = 2090}         -- "Lodestone"
							evt.SetMessage{Str = 1879}         --[[ "Good job, I thought I had you there.
You win a lodestone!" ]]
						elseif i == 3 then
							evt.SetMessage{Str = 1878}         --[[ "Too bad!
You came pretty close.
For 50 gold, I'll give you another chance." ]]
						elseif i == 4 then
							evt.SetMessage{Str = 1878}         --[[ "Too bad!
You came pretty close.
For 50 gold, I'll give you another chance." ]]
						elseif i == 5 then
							evt.SetMessage{Str = 1878}         --[[ "Too bad!
You came pretty close.
For 50 gold, I'll give you another chance." ]]
						else
							evt.SetMessage{Str = 1878}         --[[ "Too bad!
You came pretty close.
For 50 gold, I'll give you another chance." ]]
						end
					end
				end
			end
		end
	end
end

-- "Play Luck Game for 50 Gold"
evt.global[1424] = function()
	local i
	evt.Subtract{"Gold", Value = 50}
	if evt.Cmp{"CurrentLuck", Value = 200} then
		i = Game.Rand() % 6
		if i == 1 then
			evt.Add{"Inventory", Value = 2097}         -- "Four Leaf Clover"
			evt.SetMessage{Str = 1881}         --[[ "Incredible!
Are you sure you didn't cheat?
Well, a rule's a rule.
Here's your prize– a four leaf clover!" ]]
		elseif i == 2 then
			evt.Add{"Inventory", Value = 2097}         -- "Four Leaf Clover"
			evt.SetMessage{Str = 1881}         --[[ "Incredible!
Are you sure you didn't cheat?
Well, a rule's a rule.
Here's your prize– a four leaf clover!" ]]
		elseif i == 3 then
			evt.Add{"Inventory", Value = 2097}         -- "Four Leaf Clover"
			evt.SetMessage{Str = 1881}         --[[ "Incredible!
Are you sure you didn't cheat?
Well, a rule's a rule.
Here's your prize– a four leaf clover!" ]]
		elseif i == 4 then
			evt.Add{"Inventory", Value = 2091}         -- "Harpy Feather"
			evt.SetMessage{Str = 1880}         -- "Excellent work, you win a harpy feather!"
		elseif i == 5 then
			evt.Add{"Inventory", Value = 2091}         -- "Harpy Feather"
			evt.SetMessage{Str = 1880}         -- "Excellent work, you win a harpy feather!"
		else
			evt.Add{"Inventory", Value = 2090}         -- "Lodestone"
			evt.SetMessage{Str = 1879}         --[[ "Good job, I thought I had you there.
You win a lodestone!" ]]
		end
	else
		if evt.Cmp{"CurrentLuck", Value = 150} then
			i = Game.Rand() % 6
			if i == 1 then
				evt.Add{"Inventory", Value = 2097}         -- "Four Leaf Clover"
				evt.SetMessage{Str = 1881}         --[[ "Incredible!
Are you sure you didn't cheat?
Well, a rule's a rule.
Here's your prize– a four leaf clover!" ]]
			elseif i == 2 then
				evt.Add{"Inventory", Value = 2097}         -- "Four Leaf Clover"
				evt.SetMessage{Str = 1881}         --[[ "Incredible!
Are you sure you didn't cheat?
Well, a rule's a rule.
Here's your prize– a four leaf clover!" ]]
			elseif i == 3 then
				evt.Add{"Inventory", Value = 2091}         -- "Harpy Feather"
				evt.SetMessage{Str = 1880}         -- "Excellent work, you win a harpy feather!"
			elseif i == 4 then
				evt.Add{"Inventory", Value = 2091}         -- "Harpy Feather"
				evt.SetMessage{Str = 1880}         -- "Excellent work, you win a harpy feather!"
			elseif i == 5 then
				evt.Add{"Inventory", Value = 2090}         -- "Lodestone"
				evt.SetMessage{Str = 1879}         --[[ "Good job, I thought I had you there.
You win a lodestone!" ]]
			else
				evt.Add{"Inventory", Value = 2090}         -- "Lodestone"
				evt.SetMessage{Str = 1879}         --[[ "Good job, I thought I had you there.
You win a lodestone!" ]]
			end
		else
			if evt.Cmp{"CurrentLuck", Value = 100} then
				i = Game.Rand() % 6
				if i == 1 then
					evt.Add{"Inventory", Value = 2097}         -- "Four Leaf Clover"
					evt.SetMessage{Str = 1881}         --[[ "Incredible!
Are you sure you didn't cheat?
Well, a rule's a rule.
Here's your prize– a four leaf clover!" ]]
				elseif i == 2 then
					evt.Add{"Inventory", Value = 2091}         -- "Harpy Feather"
					evt.SetMessage{Str = 1880}         -- "Excellent work, you win a harpy feather!"
				elseif i == 3 then
					evt.Add{"Inventory", Value = 2091}         -- "Harpy Feather"
					evt.SetMessage{Str = 1880}         -- "Excellent work, you win a harpy feather!"
				elseif i == 4 then
					evt.Add{"Inventory", Value = 2090}         -- "Lodestone"
					evt.SetMessage{Str = 1880}         -- "Excellent work, you win a harpy feather!"
				elseif i == 5 then
					evt.Add{"Inventory", Value = 2090}         -- "Lodestone"
					evt.SetMessage{Str = 1879}         --[[ "Good job, I thought I had you there.
You win a lodestone!" ]]
				else
					evt.SetMessage{Str = 1878}         --[[ "Too bad!
You came pretty close.
For 50 gold, I'll give you another chance." ]]
				end
			else
				if evt.Cmp{"CurrentLuck", Value = 75} then
					i = Game.Rand() % 6
					if i == 1 then
						evt.Add{"Inventory", Value = 2091}         -- "Harpy Feather"
						evt.SetMessage{Str = 1880}         -- "Excellent work, you win a harpy feather!"
					elseif i == 2 then
						evt.Add{"Inventory", Value = 2091}         -- "Harpy Feather"
						evt.SetMessage{Str = 1880}         -- "Excellent work, you win a harpy feather!"
					elseif i == 3 then
						evt.Add{"Inventory", Value = 2090}         -- "Lodestone"
						evt.SetMessage{Str = 1879}         --[[ "Good job, I thought I had you there.
You win a lodestone!" ]]
					elseif i == 4 then
						evt.Add{"Inventory", Value = 2090}         -- "Lodestone"
						evt.SetMessage{Str = 1879}         --[[ "Good job, I thought I had you there.
You win a lodestone!" ]]
					elseif i == 5 then
						evt.SetMessage{Str = 1878}         --[[ "Too bad!
You came pretty close.
For 50 gold, I'll give you another chance." ]]
					else
						evt.SetMessage{Str = 1878}         --[[ "Too bad!
You came pretty close.
For 50 gold, I'll give you another chance." ]]
					end
				else
					if evt.Cmp{"CurrentLuck", Value = 50} then
						i = Game.Rand() % 6
						if i == 1 then
							evt.Add{"Inventory", Value = 2091}         -- "Harpy Feather"
							evt.SetMessage{Str = 1880}         -- "Excellent work, you win a harpy feather!"
						elseif i == 2 then
							evt.Add{"Inventory", Value = 2090}         -- "Lodestone"
							evt.SetMessage{Str = 1880}         -- "Excellent work, you win a harpy feather!"
						elseif i == 3 then
							evt.Add{"Inventory", Value = 2090}         -- "Lodestone"
							evt.SetMessage{Str = 1879}         --[[ "Good job, I thought I had you there.
You win a lodestone!" ]]
						elseif i == 4 then
							evt.SetMessage{Str = 1878}         --[[ "Too bad!
You came pretty close.
For 50 gold, I'll give you another chance." ]]
						elseif i == 5 then
							evt.SetMessage{Str = 1878}         --[[ "Too bad!
You came pretty close.
For 50 gold, I'll give you another chance." ]]
						else
							evt.SetMessage{Str = 1878}         --[[ "Too bad!
You came pretty close.
For 50 gold, I'll give you another chance." ]]
						end
					else
						i = Game.Rand() % 6
						if i == 1 then
							evt.Add{"Inventory", Value = 2090}         -- "Lodestone"
							evt.SetMessage{Str = 1879}         --[[ "Good job, I thought I had you there.
You win a lodestone!" ]]
						elseif i == 2 then
							evt.Add{"Inventory", Value = 2090}         -- "Lodestone"
							evt.SetMessage{Str = 1879}         --[[ "Good job, I thought I had you there.
You win a lodestone!" ]]
						elseif i == 3 then
							evt.SetMessage{Str = 1878}         --[[ "Too bad!
You came pretty close.
For 50 gold, I'll give you another chance." ]]
						elseif i == 4 then
							evt.SetMessage{Str = 1878}         --[[ "Too bad!
You came pretty close.
For 50 gold, I'll give you another chance." ]]
						elseif i == 5 then
							evt.SetMessage{Str = 1878}         --[[ "Too bad!
You came pretty close.
For 50 gold, I'll give you another chance." ]]
						else
							evt.SetMessage{Str = 1878}         --[[ "Too bad!
You came pretty close.
For 50 gold, I'll give you another chance." ]]
						end
					end
				end
			end
		end
	end
end

-- "Play  Intellect Game for 50 Gold"
evt.global[1425] = function()
	local i
	evt.Subtract{"Gold", Value = 50}
	if evt.Cmp{"CurrentIntellect", Value = 200} then
		i = Game.Rand() % 6
		if i == 1 then
			evt.Add{"Inventory", Value = 2097}         -- "Four Leaf Clover"
			evt.SetMessage{Str = 1881}         --[[ "Incredible!
Are you sure you didn't cheat?
Well, a rule's a rule.
Here's your prize– a four leaf clover!" ]]
		elseif i == 2 then
			evt.Add{"Inventory", Value = 2097}         -- "Four Leaf Clover"
			evt.SetMessage{Str = 1881}         --[[ "Incredible!
Are you sure you didn't cheat?
Well, a rule's a rule.
Here's your prize– a four leaf clover!" ]]
		elseif i == 3 then
			evt.Add{"Inventory", Value = 2097}         -- "Four Leaf Clover"
			evt.SetMessage{Str = 1881}         --[[ "Incredible!
Are you sure you didn't cheat?
Well, a rule's a rule.
Here's your prize– a four leaf clover!" ]]
		elseif i == 4 then
			evt.Add{"Inventory", Value = 2091}         -- "Harpy Feather"
			evt.SetMessage{Str = 1880}         -- "Excellent work, you win a harpy feather!"
		elseif i == 5 then
			evt.Add{"Inventory", Value = 2091}         -- "Harpy Feather"
			evt.SetMessage{Str = 1880}         -- "Excellent work, you win a harpy feather!"
		else
			evt.Add{"Inventory", Value = 2090}         -- "Lodestone"
			evt.SetMessage{Str = 1879}         --[[ "Good job, I thought I had you there.
You win a lodestone!" ]]
		end
	else
		if evt.Cmp{"CurrentIntellect", Value = 150} then
			i = Game.Rand() % 6
			if i == 1 then
				evt.Add{"Inventory", Value = 2097}         -- "Four Leaf Clover"
				evt.SetMessage{Str = 1881}         --[[ "Incredible!
Are you sure you didn't cheat?
Well, a rule's a rule.
Here's your prize– a four leaf clover!" ]]
			elseif i == 2 then
				evt.Add{"Inventory", Value = 2097}         -- "Four Leaf Clover"
				evt.SetMessage{Str = 1881}         --[[ "Incredible!
Are you sure you didn't cheat?
Well, a rule's a rule.
Here's your prize– a four leaf clover!" ]]
			elseif i == 3 then
				evt.Add{"Inventory", Value = 2091}         -- "Harpy Feather"
				evt.SetMessage{Str = 1880}         -- "Excellent work, you win a harpy feather!"
			elseif i == 4 then
				evt.Add{"Inventory", Value = 2091}         -- "Harpy Feather"
				evt.SetMessage{Str = 1880}         -- "Excellent work, you win a harpy feather!"
			elseif i == 5 then
				evt.Add{"Inventory", Value = 2090}         -- "Lodestone"
				evt.SetMessage{Str = 1879}         --[[ "Good job, I thought I had you there.
You win a lodestone!" ]]
			else
				evt.Add{"Inventory", Value = 2090}         -- "Lodestone"
				evt.SetMessage{Str = 1879}         --[[ "Good job, I thought I had you there.
You win a lodestone!" ]]
			end
		else
			if evt.Cmp{"CurrentIntellect", Value = 100} then
				i = Game.Rand() % 6
				if i == 1 then
					evt.Add{"Inventory", Value = 2097}         -- "Four Leaf Clover"
					evt.SetMessage{Str = 1881}         --[[ "Incredible!
Are you sure you didn't cheat?
Well, a rule's a rule.
Here's your prize– a four leaf clover!" ]]
				elseif i == 2 then
					evt.Add{"Inventory", Value = 2091}         -- "Harpy Feather"
					evt.SetMessage{Str = 1880}         -- "Excellent work, you win a harpy feather!"
				elseif i == 3 then
					evt.Add{"Inventory", Value = 2091}         -- "Harpy Feather"
					evt.SetMessage{Str = 1880}         -- "Excellent work, you win a harpy feather!"
				elseif i == 4 then
					evt.Add{"Inventory", Value = 2090}         -- "Lodestone"
					evt.SetMessage{Str = 1879}         --[[ "Good job, I thought I had you there.
You win a lodestone!" ]]
				elseif i == 5 then
					evt.Add{"Inventory", Value = 2090}         -- "Lodestone"
					evt.SetMessage{Str = 1879}         --[[ "Good job, I thought I had you there.
You win a lodestone!" ]]
				else
					evt.SetMessage{Str = 1878}         --[[ "Too bad!
You came pretty close.
For 50 gold, I'll give you another chance." ]]
				end
			else
				if evt.Cmp{"CurrentIntellect", Value = 75} then
					i = Game.Rand() % 6
					if i == 1 then
						evt.Add{"Inventory", Value = 2091}         -- "Harpy Feather"
						evt.SetMessage{Str = 1880}         -- "Excellent work, you win a harpy feather!"
					elseif i == 2 then
						evt.Add{"Inventory", Value = 2091}         -- "Harpy Feather"
						evt.SetMessage{Str = 1880}         -- "Excellent work, you win a harpy feather!"
					elseif i == 3 then
						evt.Add{"Inventory", Value = 2090}         -- "Lodestone"
						evt.SetMessage{Str = 1879}         --[[ "Good job, I thought I had you there.
You win a lodestone!" ]]
					elseif i == 4 then
						evt.Add{"Inventory", Value = 2090}         -- "Lodestone"
						evt.SetMessage{Str = 1879}         --[[ "Good job, I thought I had you there.
You win a lodestone!" ]]
					elseif i == 5 then
						evt.SetMessage{Str = 1878}         --[[ "Too bad!
You came pretty close.
For 50 gold, I'll give you another chance." ]]
					else
						evt.SetMessage{Str = 1878}         --[[ "Too bad!
You came pretty close.
For 50 gold, I'll give you another chance." ]]
					end
				else
					if evt.Cmp{"CurrentIntellect", Value = 50} then
						i = Game.Rand() % 6
						if i == 1 then
							evt.Add{"Inventory", Value = 2091}         -- "Harpy Feather"
							evt.SetMessage{Str = 1880}         -- "Excellent work, you win a harpy feather!"
						elseif i == 2 then
							evt.Add{"Inventory", Value = 2090}         -- "Lodestone"
							evt.SetMessage{Str = 1879}         --[[ "Good job, I thought I had you there.
You win a lodestone!" ]]
						elseif i == 3 then
							evt.Add{"Inventory", Value = 2090}         -- "Lodestone"
							evt.SetMessage{Str = 1879}         --[[ "Good job, I thought I had you there.
You win a lodestone!" ]]
						elseif i == 4 then
							evt.SetMessage{Str = 1878}         --[[ "Too bad!
You came pretty close.
For 50 gold, I'll give you another chance." ]]
						elseif i == 5 then
							evt.SetMessage{Str = 1878}         --[[ "Too bad!
You came pretty close.
For 50 gold, I'll give you another chance." ]]
						else
							evt.SetMessage{Str = 1878}         --[[ "Too bad!
You came pretty close.
For 50 gold, I'll give you another chance." ]]
						end
					else
						i = Game.Rand() % 6
						if i == 1 then
							evt.Add{"Inventory", Value = 2090}         -- "Lodestone"
							evt.SetMessage{Str = 1880}         -- "Excellent work, you win a harpy feather!"
						elseif i == 2 then
							evt.Add{"Inventory", Value = 2090}         -- "Lodestone"
							evt.SetMessage{Str = 1879}         --[[ "Good job, I thought I had you there.
You win a lodestone!" ]]
						elseif i == 3 then
							evt.SetMessage{Str = 1878}         --[[ "Too bad!
You came pretty close.
For 50 gold, I'll give you another chance." ]]
						elseif i == 4 then
							evt.SetMessage{Str = 1878}         --[[ "Too bad!
You came pretty close.
For 50 gold, I'll give you another chance." ]]
						elseif i == 5 then
							evt.SetMessage{Str = 1878}         --[[ "Too bad!
You came pretty close.
For 50 gold, I'll give you another chance." ]]
						else
							evt.SetMessage{Str = 1878}         --[[ "Too bad!
You came pretty close.
For 50 gold, I'll give you another chance." ]]
						end
					end
				end
			end
		end
	end
end

-- "Gongs"
evt.global[1426] = function()
	evt.Set{"AutonotesBits", Value = 461}         -- "Lawrence Aleman will buy temple gongs for 2000 gold each in Free Haven."
	evt.ForPlayer(-- ERROR: Const not found
0)
	if evt.Cmp{"Inventory", Value = 2082} then         -- "Temple Gong"
		evt.Subtract{"Inventory", Value = 2082}         -- "Temple Gong"
		evt.Add{"Gold", Value = 2000}
		evt.SetMessage{Str = 1883}         --[[ "This one's a little dirty, but I suppose it will do.
Here is the gold I promised you for it.
Thanks for your help!" ]]
	else
		evt.ForPlayer(-- ERROR: Const not found
1)
		if evt.Cmp{"Inventory", Value = 2082} then         -- "Temple Gong"
			evt.Subtract{"Inventory", Value = 2082}         -- "Temple Gong"
			evt.Add{"Gold", Value = 2000}
			evt.SetMessage{Str = 1883}         --[[ "This one's a little dirty, but I suppose it will do.
Here is the gold I promised you for it.
Thanks for your help!" ]]
		else
			evt.ForPlayer(-- ERROR: Const not found
2)
			if evt.Cmp{"Inventory", Value = 2082} then         -- "Temple Gong"
				evt.Subtract{"Inventory", Value = 2082}         -- "Temple Gong"
				evt.Add{"Gold", Value = 2000}
				evt.SetMessage{Str = 1883}         --[[ "This one's a little dirty, but I suppose it will do.
Here is the gold I promised you for it.
Thanks for your help!" ]]
			else
				evt.ForPlayer(-- ERROR: Const not found
3)
				if evt.Cmp{"Inventory", Value = 2082} then         -- "Temple Gong"
					evt.Subtract{"Inventory", Value = 2082}         -- "Temple Gong"
					evt.Add{"Gold", Value = 2000}
					evt.SetMessage{Str = 1883}         --[[ "This one's a little dirty, but I suppose it will do.
Here is the gold I promised you for it.
Thanks for your help!" ]]
				else
					evt.SetMessage{Str = 1882}         --[[ "As part of the effort to rebuild the Temple here in Free Haven, I'm collecting temple gongs.
If you have any gongs, I'll pay you 2000 gold for each of them." ]]
				end
			end
		end
	end
end

-- "Bones"
evt.global[1427] = function()
	evt.Set{"AutonotesBits", Value = 462}         -- "Lon Miller will buy bones for 1000 gold each in Free Haven."
	evt.ForPlayer(-- ERROR: Const not found
0)
	if evt.Cmp{"Inventory", Value = 2085} then         -- "Bone"
		evt.Subtract{"Inventory", Value = 2085}         -- "Bone"
		evt.Add{"Gold", Value = 1000}
		evt.Subtract{"ReputationIs", Value = 2}
		evt.SetMessage{Str = 1885}         --[[ "Hmm...
A leg bone of a human?
This will do nicely.
This bone is certainly worth 1000 gold.
" ]]
	else
		evt.ForPlayer(-- ERROR: Const not found
1)
		if evt.Cmp{"Inventory", Value = 2085} then         -- "Bone"
			evt.Subtract{"Inventory", Value = 2085}         -- "Bone"
			evt.Add{"Gold", Value = 1000}
			evt.Subtract{"ReputationIs", Value = 2}
			evt.SetMessage{Str = 1885}         --[[ "Hmm...
A leg bone of a human?
This will do nicely.
This bone is certainly worth 1000 gold.
" ]]
		else
			evt.ForPlayer(-- ERROR: Const not found
2)
			if evt.Cmp{"Inventory", Value = 2085} then         -- "Bone"
				evt.Subtract{"Inventory", Value = 2085}         -- "Bone"
				evt.Add{"Gold", Value = 1000}
				evt.Subtract{"ReputationIs", Value = 2}
				evt.SetMessage{Str = 1885}         --[[ "Hmm...
A leg bone of a human?
This will do nicely.
This bone is certainly worth 1000 gold.
" ]]
			else
				evt.ForPlayer(-- ERROR: Const not found
3)
				if evt.Cmp{"Inventory", Value = 2085} then         -- "Bone"
					evt.Subtract{"Inventory", Value = 2085}         -- "Bone"
					evt.Add{"Gold", Value = 1000}
					evt.Subtract{"ReputationIs", Value = 2}
					evt.SetMessage{Str = 1885}         --[[ "Hmm...
A leg bone of a human?
This will do nicely.
This bone is certainly worth 1000 gold.
" ]]
				else
					evt.SetMessage{Str = 1884}         --[[ "I'm looking for bones to use in my rituals.
I prefer bones from humans or humanoids, but I suppose I can make do with whatever you find.
I'm willing to pay up to 1000 gold for bones that I can use." ]]
				end
			end
		end
	end
end

-- "Lodestones"
evt.global[1428] = function()
	evt.Set{"AutonotesBits", Value = 463}         -- "Davis Carp will buy lodestones for 5 gold each in Free Haven."
	evt.ForPlayer(-- ERROR: Const not found
0)
	if evt.Cmp{"Inventory", Value = 2090} then         -- "Lodestone"
		evt.Subtract{"Inventory", Value = 2090}         -- "Lodestone"
		evt.Add{"Gold", Value = 5}
		evt.SetMessage{Str = 1887}         --[[ "Thank you!
You're too generous– this will make a lovely gift.
Here's the 5 gold I owe you." ]]
	else
		evt.ForPlayer(-- ERROR: Const not found
1)
		if evt.Cmp{"Inventory", Value = 2090} then         -- "Lodestone"
			evt.Subtract{"Inventory", Value = 2090}         -- "Lodestone"
			evt.Add{"Gold", Value = 5}
			evt.SetMessage{Str = 1887}         --[[ "Thank you!
You're too generous– this will make a lovely gift.
Here's the 5 gold I owe you." ]]
		else
			evt.ForPlayer(-- ERROR: Const not found
2)
			if evt.Cmp{"Inventory", Value = 2090} then         -- "Lodestone"
				evt.Subtract{"Inventory", Value = 2090}         -- "Lodestone"
				evt.Add{"Gold", Value = 5}
				evt.SetMessage{Str = 1887}         --[[ "Thank you!
You're too generous– this will make a lovely gift.
Here's the 5 gold I owe you." ]]
			else
				evt.ForPlayer(-- ERROR: Const not found
3)
				if evt.Cmp{"Inventory", Value = 2090} then         -- "Lodestone"
					evt.Subtract{"Inventory", Value = 2090}         -- "Lodestone"
					evt.Add{"Gold", Value = 5}
					evt.SetMessage{Str = 1887}         --[[ "Thank you!
You're too generous– this will make a lovely gift.
Here's the 5 gold I owe you." ]]
				else
					evt.SetMessage{Str = 1886}         --[[ "Many people aren't able to visit the circus, so I'm collecting circus prizes to give away to those not able to visit it themselves.
I'll buy lodestones for 5 gold each if you want to part with them." ]]
				end
			end
		end
	end
end

-- "Harpy Feathers"
evt.global[1429] = function()
	evt.Set{"AutonotesBits", Value = 464}         -- "Bonnie Rotterdam will buy feathers for 10 gold each in Free Haven."
	evt.ForPlayer(-- ERROR: Const not found
0)
	if evt.Cmp{"Inventory", Value = 2091} then         -- "Harpy Feather"
		evt.Subtract{"Inventory", Value = 2091}         -- "Harpy Feather"
		evt.Add{"Gold", Value = 10}
		evt.SetMessage{Str = 1889}         --[[ "Thanks!
Don't tell my daughter about this, I want to surprise her.
Here's the 10 gold." ]]
	else
		evt.ForPlayer(-- ERROR: Const not found
1)
		if evt.Cmp{"Inventory", Value = 2091} then         -- "Harpy Feather"
			evt.Subtract{"Inventory", Value = 2091}         -- "Harpy Feather"
			evt.Add{"Gold", Value = 10}
			evt.SetMessage{Str = 1889}         --[[ "Thanks!
Don't tell my daughter about this, I want to surprise her.
Here's the 10 gold." ]]
		else
			evt.ForPlayer(-- ERROR: Const not found
2)
			if evt.Cmp{"Inventory", Value = 2091} then         -- "Harpy Feather"
				evt.Subtract{"Inventory", Value = 2091}         -- "Harpy Feather"
				evt.Add{"Gold", Value = 10}
				evt.SetMessage{Str = 1889}         --[[ "Thanks!
Don't tell my daughter about this, I want to surprise her.
Here's the 10 gold." ]]
			else
				evt.ForPlayer(-- ERROR: Const not found
3)
				if evt.Cmp{"Inventory", Value = 2091} then         -- "Harpy Feather"
					evt.Subtract{"Inventory", Value = 2091}         -- "Harpy Feather"
					evt.Add{"Gold", Value = 10}
					evt.SetMessage{Str = 1889}         --[[ "Thanks!
Don't tell my daughter about this, I want to surprise her.
Here's the 10 gold." ]]
				else
					evt.SetMessage{Str = 1888}         --[[ "My daughter wants to go to the circus, but we never have the time when the circus is near here.
I'd love to give her a bunch of the pretty harpy feathers for her.
I'll take any harpy feathers you have for 10 gold each." ]]
				end
			end
		end
	end
end

-- "Golden Pyramids"
evt.global[1430] = function()
	evt.Set{"AutonotesBits", Value = 465}         -- "Renee Blackburn will buy pyramids for 1000 gold each in Free Haven."
	evt.ForPlayer(-- ERROR: Const not found
0)
	if evt.Cmp{"Inventory", Value = 2092} then         -- "Golden Pyramid"
		evt.Subtract{"Inventory", Value = 2092}         -- "Golden Pyramid"
		evt.Add{"Gold", Value = 1000}
		evt.SetMessage{Str = 2085}         --[[ "Thanks!
I can't wait to take this to Abdul's Desert Resort and see what I get!
Oh, here's the money I owe you." ]]
	else
		evt.ForPlayer(-- ERROR: Const not found
1)
		if evt.Cmp{"Inventory", Value = 2092} then         -- "Golden Pyramid"
			evt.Subtract{"Inventory", Value = 2092}         -- "Golden Pyramid"
			evt.Add{"Gold", Value = 1000}
			evt.SetMessage{Str = 2085}         --[[ "Thanks!
I can't wait to take this to Abdul's Desert Resort and see what I get!
Oh, here's the money I owe you." ]]
		else
			evt.ForPlayer(-- ERROR: Const not found
2)
			if evt.Cmp{"Inventory", Value = 2092} then         -- "Golden Pyramid"
				evt.Subtract{"Inventory", Value = 2092}         -- "Golden Pyramid"
				evt.Add{"Gold", Value = 1000}
				evt.SetMessage{Str = 2085}         --[[ "Thanks!
I can't wait to take this to Abdul's Desert Resort and see what I get!
Oh, here's the money I owe you." ]]
			else
				evt.ForPlayer(-- ERROR: Const not found
3)
				if evt.Cmp{"Inventory", Value = 2092} then         -- "Golden Pyramid"
					evt.Subtract{"Inventory", Value = 2092}         -- "Golden Pyramid"
					evt.Add{"Gold", Value = 1000}
					evt.SetMessage{Str = 2085}         --[[ "Thanks!
I can't wait to take this to Abdul's Desert Resort and see what I get!
Oh, here's the money I owe you." ]]
				else
					evt.SetMessage{Str = 1890}         --[[ "I've heard that you can get really nifty things from Abdul's Desert Resort if you pay with golden pyramids.
I'm hoping to go there one day, and I want to stock up on the pyramids now.
I'll take any golden pyramids you have for 1000 gold." ]]
				end
			end
		end
	end
end

-- "Kegs of Wine"
evt.global[1431] = function()
	evt.Set{"AutonotesBits", Value = 466}         -- "Nick Fenstar will buy kegs of wine for 300 gold each in Free Haven."
	evt.ForPlayer(-- ERROR: Const not found
0)
	if evt.Cmp{"Inventory", Value = 2093} then         -- "Keg of Wine"
		evt.Subtract{"Inventory", Value = 2093}         -- "Keg of Wine"
		evt.Add{"Gold", Value = 300}
		evt.SetMessage{Str = 2087}         --[[ "My favorite!
Thanks for the wine!
Here's 300 gold, it's well worth the price." ]]
	else
		evt.ForPlayer(-- ERROR: Const not found
1)
		if evt.Cmp{"Inventory", Value = 2093} then         -- "Keg of Wine"
			evt.Subtract{"Inventory", Value = 2093}         -- "Keg of Wine"
			evt.Add{"Gold", Value = 300}
			evt.SetMessage{Str = 2087}         --[[ "My favorite!
Thanks for the wine!
Here's 300 gold, it's well worth the price." ]]
		else
			evt.ForPlayer(-- ERROR: Const not found
2)
			if evt.Cmp{"Inventory", Value = 2093} then         -- "Keg of Wine"
				evt.Subtract{"Inventory", Value = 2093}         -- "Keg of Wine"
				evt.Add{"Gold", Value = 300}
				evt.SetMessage{Str = 2087}         --[[ "My favorite!
Thanks for the wine!
Here's 300 gold, it's well worth the price." ]]
			else
				evt.ForPlayer(-- ERROR: Const not found
3)
				if evt.Cmp{"Inventory", Value = 2093} then         -- "Keg of Wine"
					evt.Subtract{"Inventory", Value = 2093}         -- "Keg of Wine"
					evt.Add{"Gold", Value = 300}
					evt.SetMessage{Str = 2087}         --[[ "My favorite!
Thanks for the wine!
Here's 300 gold, it's well worth the price." ]]
				else
					evt.SetMessage{Str = 2086}         --[[ "My favorite wine is the stuff they give you for winning at the circus.
I'll pay 300 gold for any keg of wine from the circus that you can bring me." ]]
				end
			end
		end
	end
end

-- "Teeth"
evt.global[1432] = function()
	evt.Set{"AutonotesBits", Value = 467}         -- "Sy Roth will buy teeth for 500 gold each in Free Haven."
	evt.ForPlayer(-- ERROR: Const not found
0)
	if evt.Cmp{"Inventory", Value = 2096} then         -- "Tooth"
		evt.Subtract{"Inventory", Value = 2096}         -- "Tooth"
		evt.Add{"Gold", Value = 500}
		evt.SetMessage{Str = 2089}         -- "I don't believe I have a tooth like this one yet, here's 500 gold."
	else
		evt.ForPlayer(-- ERROR: Const not found
1)
		if evt.Cmp{"Inventory", Value = 2096} then         -- "Tooth"
			evt.Subtract{"Inventory", Value = 2096}         -- "Tooth"
			evt.Add{"Gold", Value = 500}
			evt.SetMessage{Str = 2089}         -- "I don't believe I have a tooth like this one yet, here's 500 gold."
		else
			evt.ForPlayer(-- ERROR: Const not found
2)
			if evt.Cmp{"Inventory", Value = 2096} then         -- "Tooth"
				evt.Subtract{"Inventory", Value = 2096}         -- "Tooth"
				evt.Add{"Gold", Value = 500}
				evt.SetMessage{Str = 2089}         -- "I don't believe I have a tooth like this one yet, here's 500 gold."
			else
				evt.ForPlayer(-- ERROR: Const not found
3)
				if evt.Cmp{"Inventory", Value = 2096} then         -- "Tooth"
					evt.Subtract{"Inventory", Value = 2096}         -- "Tooth"
					evt.Add{"Gold", Value = 500}
					evt.SetMessage{Str = 2089}         -- "I don't believe I have a tooth like this one yet, here's 500 gold."
				else
					evt.SetMessage{Str = 2088}         --[[ "I have an incredible teeth collection, but I'm always looking for more.
If you find a tooth I don't have in my collection, I'll pay you 500 gold for it." ]]
				end
			end
		end
	end
end

-- "Four Leaf Clovers"
evt.global[1433] = function()
	evt.Set{"AutonotesBits", Value = 468}         -- "Geoff Southy will buy clovers for 25 gold each in Free Haven."
	evt.ForPlayer(-- ERROR: Const not found
0)
	if evt.Cmp{"Inventory", Value = 2097} then         -- "Four Leaf Clover"
		evt.Subtract{"Inventory", Value = 2097}         -- "Four Leaf Clover"
		evt.Add{"Gold", Value = 25}
		evt.SetMessage{Str = 2096}         --[[ "Hurray!
This is much easier and much less embarrasing than going to the circus and losing!
Here's 25 gold!" ]]
	else
		evt.ForPlayer(-- ERROR: Const not found
1)
		if evt.Cmp{"Inventory", Value = 2097} then         -- "Four Leaf Clover"
			evt.Subtract{"Inventory", Value = 2097}         -- "Four Leaf Clover"
			evt.Add{"Gold", Value = 25}
			evt.SetMessage{Str = 2096}         --[[ "Hurray!
This is much easier and much less embarrasing than going to the circus and losing!
Here's 25 gold!" ]]
		else
			evt.ForPlayer(-- ERROR: Const not found
2)
			if evt.Cmp{"Inventory", Value = 2097} then         -- "Four Leaf Clover"
				evt.Subtract{"Inventory", Value = 2097}         -- "Four Leaf Clover"
				evt.Add{"Gold", Value = 25}
				evt.SetMessage{Str = 2096}         --[[ "Hurray!
This is much easier and much less embarrasing than going to the circus and losing!
Here's 25 gold!" ]]
			else
				evt.ForPlayer(-- ERROR: Const not found
3)
				if evt.Cmp{"Inventory", Value = 2097} then         -- "Four Leaf Clover"
					evt.Subtract{"Inventory", Value = 2097}         -- "Four Leaf Clover"
					evt.Add{"Gold", Value = 25}
					evt.SetMessage{Str = 2096}         --[[ "Hurray!
This is much easier and much less embarrasing than going to the circus and losing!
Here's 25 gold!" ]]
				else
					evt.SetMessage{Str = 2090}         --[[ "I have been to the circus three times, and I can't win anything.
All I really want are the nifty four leaf clovers they use as prizes there.
I'll pay 25 gold for any four leaf clover you bring me." ]]
				end
			end
		end
	end
end

-- "Amber"
evt.global[1434] = function()
	evt.Set{"AutonotesBits", Value = 469}         -- "Dillan Robinson will buy amber for 500 gold each in Free Haven."
	evt.ForPlayer(-- ERROR: Const not found
0)
	if evt.Cmp{"Inventory", Value = 2102} then         -- "Amber"
		evt.Subtract{"Inventory", Value = 2102}         -- "Amber"
		evt.Add{"Gold", Value = 500}
		evt.SetMessage{Str = 2098}         --[[ "This will do nicely!
Thank you for the amber, here is the 500 gold I promised you." ]]
	else
		evt.ForPlayer(-- ERROR: Const not found
1)
		if evt.Cmp{"Inventory", Value = 2102} then         -- "Amber"
			evt.Subtract{"Inventory", Value = 2102}         -- "Amber"
			evt.Add{"Gold", Value = 500}
			evt.SetMessage{Str = 2098}         --[[ "This will do nicely!
Thank you for the amber, here is the 500 gold I promised you." ]]
		else
			evt.ForPlayer(-- ERROR: Const not found
2)
			if evt.Cmp{"Inventory", Value = 2102} then         -- "Amber"
				evt.Subtract{"Inventory", Value = 2102}         -- "Amber"
				evt.Add{"Gold", Value = 500}
				evt.SetMessage{Str = 2098}         --[[ "This will do nicely!
Thank you for the amber, here is the 500 gold I promised you." ]]
			else
				evt.ForPlayer(-- ERROR: Const not found
3)
				if evt.Cmp{"Inventory", Value = 2102} then         -- "Amber"
					evt.Subtract{"Inventory", Value = 2102}         -- "Amber"
					evt.Add{"Gold", Value = 500}
					evt.SetMessage{Str = 2098}         --[[ "This will do nicely!
Thank you for the amber, here is the 500 gold I promised you." ]]
				else
					evt.SetMessage{Str = 2097}         --[[ "I've heard it's possible to find large chunks of amber in a series of caves north of Castle Ironfist.
I never have the time to leave Free Haven, but I'd love to get my hands on some of that amber.
I'll pay 500 gold for any piece of amber." ]]
				end
			end
		end
	end
end

-- "Quest"
evt.global[1435] = function()
	evt.SetMessage{Str = 2067}         --[[ "As you may know, the last members of the Necromancers' Guild in Enroth fled to Castle Darkmoor after their defeat in the Succession War.
Who knows what foul magics they're concocting while we wait around.
I'm certain that the book containing the Ritual of Endless Night, known as the Book of Liches, has been moved into that castle.
If the book were to be destroyed, it would deal a severe blow to whatever evil plans they have.
I've tried a few times to get to the book, but the castle is too well defended.
If you are able to destroy the book, come back to me and I'll reward you personally." ]]
	evt.Add{"QBits", Value = 1228}         -- "Find and destroy the Book of Liches in Castle Darkmoor and return to Terry Ros in Darkmoor village."
	evt.SetNPCTopic{NPC = 1115, Index = 0, Event = 1436}         -- "Terry Ros" : "Quest"
end

-- "Quest"
evt.global[1436] = function()
	evt.ForPlayer(-- ERROR: Const not found
"All")
	if evt.Cmp{"QBits", Value = 1033} then         --  9, CD2, given when you destroy Lich book
		evt.SetMessage{Str = 2069}         --[[ "Incredible!
I didn't expect you'd be able to do it.
Now that the Book of Liches is gone, the Necromancers' Guild here in Enroth will slowly fade away.
This is all thanks to you!
Here, take this as a reward and accept my gratitude as well." ]]
		evt.Add{"Awards", Value = 102}         -- "Destroyed the Book of Liches"
		evt.Add{"Experience", Value = 50000}
		evt.ForPlayer(-- ERROR: Const not found
4)
		evt.Add{"Gold", Value = 5000}
		evt.Add{"ReputationIs", Value = 5}
		evt.Subtract{"QBits", Value = 1228}         -- "Find and destroy the Book of Liches in Castle Darkmoor and return to Terry Ros in Darkmoor village."
		evt.SetNPCTopic{NPC = 1115, Index = 0, Event = 0}         -- "Terry Ros"
		evt.MoveNPC{NPC = 1115, HouseId = 0}         -- "Terry Ros"
	else
		evt.SetMessage{Str = 2068}         --[[ "There's no rush in destroying the book.
If you manage it, come back and talk to me.
I'm not sure it's even possible to get to the book and destroy it– there are far too many evil creatures in that castle." ]]
	end
end

-- "Welcome"
evt.global[1437] = function()
	evt.SetMessage{Str = 2132}         --[[ "Welcome to my Desert Resort!
You'll notice we don't have the riff-raff associated with the towns and villages of the lands here.
Take a moment to relax and enjoy the serenity of the desert, my friends.
If you're interested, we have a few traders here that will trade rare items for weapons and armor– it may be worth your while to check them out." ]]
end

-- "Fountain of Youth"
evt.global[1438] = function()
	evt.SetMessage{Str = 2133}         --[[ "It seems rumors abound about my little Resort.
Alas, the Fountain of Youth everyone seems to be talking about is not here, it's a few days journey to the west." ]]
end

-- "Instructions"
evt.global[1439] = function()
	evt.SetMessage{Str = 2134}         --[[ "Hello!
I've got great suits of armor that I'll trade for golden pyramids or kegs of wine." ]]
end

-- "Instructions"
evt.global[1440] = function()
	evt.SetMessage{Str = 2136}         -- "I'll trade high quality weapons for golden pyramids or kegs of wine."
end

-- "Instructions"
evt.global[1441] = function()
	evt.SetMessage{Str = 2137}         -- "I have a wide variety of magical accessories I'll gladly trade for golden pyramids or kegs of wine."
end

-- "Trade Pyramid for Armor"
evt.global[1442] = function()
	evt.ForPlayer(-- ERROR: Const not found
0)
	if evt.Cmp{"Inventory", Value = 2092} then         -- "Golden Pyramid"
		evt.Subtract{"Inventory", Value = 2092}         -- "Golden Pyramid"
		evt.GiveItem{Strength = 6, Type = const.ItemType.Armor_, Id = 0}
		evt.SetMessage{Str = 2138}         -- "Great to do business with you, here's your armor!"
	else
		evt.ForPlayer(-- ERROR: Const not found
1)
		if evt.Cmp{"Inventory", Value = 2092} then         -- "Golden Pyramid"
			evt.Subtract{"Inventory", Value = 2092}         -- "Golden Pyramid"
			evt.GiveItem{Strength = 6, Type = const.ItemType.Armor_, Id = 0}
			evt.SetMessage{Str = 2138}         -- "Great to do business with you, here's your armor!"
		else
			evt.ForPlayer(-- ERROR: Const not found
2)
			if evt.Cmp{"Inventory", Value = 2092} then         -- "Golden Pyramid"
				evt.Subtract{"Inventory", Value = 2092}         -- "Golden Pyramid"
				evt.GiveItem{Strength = 6, Type = const.ItemType.Armor_, Id = 0}
				evt.SetMessage{Str = 2138}         -- "Great to do business with you, here's your armor!"
			else
				evt.ForPlayer(-- ERROR: Const not found
3)
				if evt.Cmp{"Inventory", Value = 2092} then         -- "Golden Pyramid"
					evt.Subtract{"Inventory", Value = 2092}         -- "Golden Pyramid"
					evt.GiveItem{Strength = 6, Type = const.ItemType.Armor_, Id = 0}
					evt.SetMessage{Str = 2138}         -- "Great to do business with you, here's your armor!"
				else
					evt.SetMessage{Str = 2140}         -- "I'm afraid you don't have a golden pyramid, so I can't make a deal with you."
				end
			end
		end
	end
end

-- "Trade Pyramid for Weapon"
evt.global[1443] = function()
	evt.ForPlayer(-- ERROR: Const not found
0)
	if evt.Cmp{"Inventory", Value = 2092} then         -- "Golden Pyramid"
		evt.Subtract{"Inventory", Value = 2092}         -- "Golden Pyramid"
		evt.GiveItem{Strength = 6, Type = const.ItemType.Weapon_, Id = 0}
		evt.SetMessage{Str = 2142}         -- "Great to do business with you, here's your weapon!"
	else
		evt.ForPlayer(-- ERROR: Const not found
1)
		if evt.Cmp{"Inventory", Value = 2092} then         -- "Golden Pyramid"
			evt.Subtract{"Inventory", Value = 2092}         -- "Golden Pyramid"
			evt.GiveItem{Strength = 6, Type = const.ItemType.Weapon_, Id = 0}
			evt.SetMessage{Str = 2142}         -- "Great to do business with you, here's your weapon!"
		else
			evt.ForPlayer(-- ERROR: Const not found
2)
			if evt.Cmp{"Inventory", Value = 2092} then         -- "Golden Pyramid"
				evt.Subtract{"Inventory", Value = 2092}         -- "Golden Pyramid"
				evt.GiveItem{Strength = 6, Type = const.ItemType.Weapon_, Id = 0}
				evt.SetMessage{Str = 2142}         -- "Great to do business with you, here's your weapon!"
			else
				evt.ForPlayer(-- ERROR: Const not found
3)
				if evt.Cmp{"Inventory", Value = 2092} then         -- "Golden Pyramid"
					evt.Subtract{"Inventory", Value = 2092}         -- "Golden Pyramid"
					evt.GiveItem{Strength = 6, Type = const.ItemType.Weapon_, Id = 0}
					evt.SetMessage{Str = 2142}         -- "Great to do business with you, here's your weapon!"
				else
					evt.SetMessage{Str = 2140}         -- "I'm afraid you don't have a golden pyramid, so I can't make a deal with you."
				end
			end
		end
	end
end

-- "Trade Pyramid for Accessory"
evt.global[1444] = function()
	evt.ForPlayer(-- ERROR: Const not found
0)
	if evt.Cmp{"Inventory", Value = 2092} then         -- "Golden Pyramid"
		evt.Subtract{"Inventory", Value = 2092}         -- "Golden Pyramid"
		evt.GiveItem{Strength = 6, Type = const.ItemType.Misc, Id = 0}
		evt.SetMessage{Str = 2143}         -- "Great to do business with you, here's your accessory!"
	else
		evt.ForPlayer(-- ERROR: Const not found
1)
		if evt.Cmp{"Inventory", Value = 2092} then         -- "Golden Pyramid"
			evt.Subtract{"Inventory", Value = 2092}         -- "Golden Pyramid"
			evt.GiveItem{Strength = 6, Type = const.ItemType.Misc, Id = 0}
			evt.SetMessage{Str = 2143}         -- "Great to do business with you, here's your accessory!"
		else
			evt.ForPlayer(-- ERROR: Const not found
2)
			if evt.Cmp{"Inventory", Value = 2092} then         -- "Golden Pyramid"
				evt.Subtract{"Inventory", Value = 2092}         -- "Golden Pyramid"
				evt.GiveItem{Strength = 6, Type = const.ItemType.Misc, Id = 0}
				evt.SetMessage{Str = 2143}         -- "Great to do business with you, here's your accessory!"
			else
				evt.ForPlayer(-- ERROR: Const not found
3)
				if evt.Cmp{"Inventory", Value = 2092} then         -- "Golden Pyramid"
					evt.Subtract{"Inventory", Value = 2092}         -- "Golden Pyramid"
					evt.GiveItem{Strength = 6, Type = const.ItemType.Misc, Id = 0}
					evt.SetMessage{Str = 2143}         -- "Great to do business with you, here's your accessory!"
				else
					evt.SetMessage{Str = 2140}         -- "I'm afraid you don't have a golden pyramid, so I can't make a deal with you."
				end
			end
		end
	end
end

-- "Trade Keg for Armor"
evt.global[1445] = function()
	evt.ForPlayer(-- ERROR: Const not found
0)
	if evt.Cmp{"Inventory", Value = 2093} then         -- "Keg of Wine"
		evt.Subtract{"Inventory", Value = 2093}         -- "Keg of Wine"
		evt.GiveItem{Strength = 4, Type = const.ItemType.Armor_, Id = 0}
		evt.SetMessage{Str = 2138}         -- "Great to do business with you, here's your armor!"
	else
		evt.ForPlayer(-- ERROR: Const not found
1)
		if evt.Cmp{"Inventory", Value = 2093} then         -- "Keg of Wine"
			evt.Subtract{"Inventory", Value = 2093}         -- "Keg of Wine"
			evt.GiveItem{Strength = 4, Type = const.ItemType.Armor_, Id = 0}
			evt.SetMessage{Str = 2138}         -- "Great to do business with you, here's your armor!"
		else
			evt.ForPlayer(-- ERROR: Const not found
2)
			if evt.Cmp{"Inventory", Value = 2093} then         -- "Keg of Wine"
				evt.Subtract{"Inventory", Value = 2093}         -- "Keg of Wine"
				evt.GiveItem{Strength = 4, Type = const.ItemType.Armor_, Id = 0}
				evt.SetMessage{Str = 2138}         -- "Great to do business with you, here's your armor!"
			else
				evt.ForPlayer(-- ERROR: Const not found
3)
				if evt.Cmp{"Inventory", Value = 2093} then         -- "Keg of Wine"
					evt.Subtract{"Inventory", Value = 2093}         -- "Keg of Wine"
					evt.GiveItem{Strength = 4, Type = const.ItemType.Armor_, Id = 0}
					evt.SetMessage{Str = 2138}         -- "Great to do business with you, here's your armor!"
				else
					evt.SetMessage{Str = 2141}         -- "You don't have a keg of wine to trade!"
				end
			end
		end
	end
end

-- "Trade Keg for Weapon"
evt.global[1446] = function()
	evt.ForPlayer(-- ERROR: Const not found
0)
	if evt.Cmp{"Inventory", Value = 2093} then         -- "Keg of Wine"
		evt.Subtract{"Inventory", Value = 2093}         -- "Keg of Wine"
		evt.GiveItem{Strength = 4, Type = const.ItemType.Weapon_, Id = 0}
		evt.SetMessage{Str = 2142}         -- "Great to do business with you, here's your weapon!"
	else
		evt.ForPlayer(-- ERROR: Const not found
1)
		if evt.Cmp{"Inventory", Value = 2093} then         -- "Keg of Wine"
			evt.Subtract{"Inventory", Value = 2093}         -- "Keg of Wine"
			evt.GiveItem{Strength = 4, Type = const.ItemType.Weapon_, Id = 0}
			evt.SetMessage{Str = 2142}         -- "Great to do business with you, here's your weapon!"
		else
			evt.ForPlayer(-- ERROR: Const not found
2)
			if evt.Cmp{"Inventory", Value = 2093} then         -- "Keg of Wine"
				evt.Subtract{"Inventory", Value = 2093}         -- "Keg of Wine"
				evt.GiveItem{Strength = 4, Type = const.ItemType.Weapon_, Id = 0}
				evt.SetMessage{Str = 2142}         -- "Great to do business with you, here's your weapon!"
			else
				evt.ForPlayer(-- ERROR: Const not found
3)
				if evt.Cmp{"Inventory", Value = 2093} then         -- "Keg of Wine"
					evt.Subtract{"Inventory", Value = 2093}         -- "Keg of Wine"
					evt.GiveItem{Strength = 4, Type = const.ItemType.Weapon_, Id = 0}
					evt.SetMessage{Str = 2142}         -- "Great to do business with you, here's your weapon!"
				else
					evt.SetMessage{Str = 2141}         -- "You don't have a keg of wine to trade!"
				end
			end
		end
	end
end

-- "Trade Keg for Accessory"
evt.global[1447] = function()
	evt.ForPlayer(-- ERROR: Const not found
0)
	if evt.Cmp{"Inventory", Value = 2093} then         -- "Keg of Wine"
		evt.Subtract{"Inventory", Value = 2093}         -- "Keg of Wine"
		evt.GiveItem{Strength = 4, Type = const.ItemType.Misc, Id = 0}
		evt.SetMessage{Str = 2143}         -- "Great to do business with you, here's your accessory!"
	else
		evt.ForPlayer(-- ERROR: Const not found
1)
		if evt.Cmp{"Inventory", Value = 2093} then         -- "Keg of Wine"
			evt.Subtract{"Inventory", Value = 2093}         -- "Keg of Wine"
			evt.GiveItem{Strength = 4, Type = const.ItemType.Misc, Id = 0}
			evt.SetMessage{Str = 2143}         -- "Great to do business with you, here's your accessory!"
		else
			evt.ForPlayer(-- ERROR: Const not found
2)
			if evt.Cmp{"Inventory", Value = 2093} then         -- "Keg of Wine"
				evt.Subtract{"Inventory", Value = 2093}         -- "Keg of Wine"
				evt.GiveItem{Strength = 4, Type = const.ItemType.Misc, Id = 0}
				evt.SetMessage{Str = 2143}         -- "Great to do business with you, here's your accessory!"
			else
				evt.ForPlayer(-- ERROR: Const not found
3)
				if evt.Cmp{"Inventory", Value = 2093} then         -- "Keg of Wine"
					evt.Subtract{"Inventory", Value = 2093}         -- "Keg of Wine"
					evt.GiveItem{Strength = 4, Type = const.ItemType.Misc, Id = 0}
					evt.SetMessage{Str = 2143}         -- "Great to do business with you, here's your accessory!"
				else
					evt.SetMessage{Str = 2141}         -- "You don't have a keg of wine to trade!"
				end
			end
		end
	end
end

-- "Trade Lamp for Gems"
evt.global[1448] = function()
	local i
	evt.Set{"AutonotesBits", Value = 470}         -- "Bandar Jahrom will trade gems for lamps in Abul's Desert Resort in Dragonsand."
	evt.ForPlayer(-- ERROR: Const not found
0)
	if evt.Cmp{"Inventory", Value = 2103} then         -- "Magic Lamp"
		evt.Subtract{"Inventory", Value = 2103}         -- "Magic Lamp"
	else
		evt.ForPlayer(-- ERROR: Const not found
1)
		if evt.Cmp{"Inventory", Value = 2103} then         -- "Magic Lamp"
			evt.Subtract{"Inventory", Value = 2103}         -- "Magic Lamp"
		else
			evt.ForPlayer(-- ERROR: Const not found
2)
			if evt.Cmp{"Inventory", Value = 2103} then         -- "Magic Lamp"
				evt.Subtract{"Inventory", Value = 2103}         -- "Magic Lamp"
			else
				evt.ForPlayer(-- ERROR: Const not found
3)
				if not evt.Cmp{"Inventory", Value = 2103} then         -- "Magic Lamp"
					evt.SetMessage{Str = 2144}         --[[ "I'm collecting used magic lamps, but I don't have any money.
I'll trade you some of these pretty stones for the lamps, though." ]]
					return
				end
				evt.Subtract{"Inventory", Value = 2103}         -- "Magic Lamp"
			end
		end
	end
	i = Game.Rand() % 6
	if i == 1 then
		evt.Add{"Inventory", Value = 2056}         -- "Diamond"
		evt.SetMessage{Str = 2145}         --[[ "Thanks for the lamp!
Here are your stones." ]]
	elseif i == 2 then
		evt.Add{"Inventory", Value = 2065}         -- "Sapphire"
		evt.SetMessage{Str = 2145}         --[[ "Thanks for the lamp!
Here are your stones." ]]
	elseif i == 3 then
		evt.Add{"Inventory", Value = 2064}         -- "Emerald"
		evt.SetMessage{Str = 2145}         --[[ "Thanks for the lamp!
Here are your stones." ]]
	elseif i == 4 then
		evt.Add{"Inventory", Value = 2063}         -- "Sunstone"
		evt.SetMessage{Str = 2145}         --[[ "Thanks for the lamp!
Here are your stones." ]]
	elseif i == 5 then
		evt.Add{"Inventory", Value = 2059}         -- "Ruby"
		evt.SetMessage{Str = 2145}         --[[ "Thanks for the lamp!
Here are your stones." ]]
	else
		evt.Add{"Inventory", Value = 2062}         -- "Purple Topaz"
		evt.SetMessage{Str = 2145}         --[[ "Thanks for the lamp!
Here are your stones." ]]
	end
end

-- "Jasper Rice"
evt.global[1573] = function()
	evt.SetMessage{Str = 1959}         --[[ "The best staff teacher in the land, Jasper Rice, lives up near Silver Cove.
You'll want to talk to him if you wish to continue your training with the staff." ]]
end

-- "Guy Hampton"
evt.global[1574] = function()
	evt.SetMessage{Str = 1960}         --[[ "Guy Hampton in Blackshire taught me everything I know about the sword.
If you're looking to master the blade, he's the one to train under." ]]
end

-- "Jules Miles"
evt.global[1575] = function()
	evt.SetMessage{Str = 1961}         --[[ "I'm only a novice when compared to someone like Jules Miles.
He lives near Castle Stone, and he can teach anyone how to improve their dagger skills." ]]
end

-- "Avinril Smythers"
evt.global[1576] = function()
	evt.SetMessage{Str = 1962}         --[[ "Avinril Smythers mastered the axe before most of us were even born, but he doesn't train humans.
I'm sure if you could do something special for him, he might consider teaching a human how to really swing an axe.
He spends most of his time in the Haunt in the Mire of the Damned." ]]
end

-- "Burton Rutherford"
evt.global[1577] = function()
	evt.SetMessage{Str = 1963}         --[[ "The best spearman in Enroth, Burton Rutherford, lives in Darkmoor.
I'm not sure why he picks such a remote place to call his home.
Maybe he doesn't like being bothered with students?" ]]
end

-- "Desmond Weller"
evt.global[1578] = function()
	evt.SetMessage{Str = 1964}         --[[ "As good as Lord Stromgard is with a bow, he won't accept students.
To master the bow, you need to talk to Desmond Weller in Kriegspire." ]]
end

-- "Errol Ostermann"
evt.global[1579] = function()
	evt.SetMessage{Str = 1965}         -- "If you want to master the mace, you need to speak to Errol Ostermann in Blackshire."
end

-- "Rexella"
evt.global[1580] = function()
	evt.SetMessage{Str = 1966}         --[[ "Very few people even know that these weapons exist.
The only other person I've ever seen using an ancient weapon is Rexella, but she was last living in Paradise Valley– I'm not sure she's even there anymore." ]]
end

-- "Bronwyn Meck"
evt.global[1581] = function()
	evt.SetMessage{Str = 1967}         --[[ "No one can use a shield like Bronwyn Meck in Blackshire.
That's the person to talk to if you want to master the shield." ]]
end

-- "Arlen Sailor"
evt.global[1582] = function()
	evt.SetMessage{Str = 1968}         --[[ "Arlen Sailor runs the best school in the art of wearing leather armor.
He normally holds his classes near Castle Stone." ]]
end

-- "David Feather"
evt.global[1583] = function()
	evt.SetMessage{Str = 1969}         -- "Darkmoor is the home of David Feather, the only person I know of that can teach you to master your skill in chain armor."
end

-- "Forrest Suthers"
evt.global[1584] = function()
	evt.SetMessage{Str = 1970}         -- "Forrest Suthers, one of the head Paladins in Enroth, teaches how to master plate near Castle Temper."
end

-- "Jezebel"
evt.global[1585] = function()
	evt.SetMessage{Str = 1971}         -- "To master the fire skill you need to speak to Jezebel in Mist."
end

-- "Caao Salem"
evt.global[1586] = function()
	evt.SetMessage{Str = 1972}         -- "Caao Salem can show you even more tricks with air magic in Mist."
end

-- "Harper Collins"
evt.global[1587] = function()
	evt.SetMessage{Str = 1973}         -- "To gain mastery of the water skill you need to train under Harper Collins in Mist."
end

-- "Revee Botania"
evt.global[1588] = function()
	evt.SetMessage{Str = 1974}         -- "Revee Botania can train you to master the earth skill in Silver Cove."
end

-- "Bishop Inquisitorio"
evt.global[1589] = function()
	evt.SetMessage{Str = 1975}         --[[ "Spirit can be mastered with the help of Bishop Inquisitorio.
He lives right behind Castle Ironfist, you can't miss him." ]]
end

-- "Thane Roper"
evt.global[1590] = function()
	evt.SetMessage{Str = 1976}         -- "Thane Roper can train you to master the mind skill in Silver Cove."
end

-- "Gilbert Hammer"
evt.global[1591] = function()
	evt.SetMessage{Str = 1977}         -- "If you're looking to master body magic, you need to talk to Gilbert Hammer in Silver Cove."
end

-- "Ki Lo Nee"
evt.global[1592] = function()
	evt.SetMessage{Str = 1978}         -- "Light magic is a difficult skill to learn, and the Great Teacher, Ki Lo Nee, can only be found somewhere around Castle Alamos."
end

-- "Su Lang Manchu"
evt.global[1593] = function()
	evt.SetMessage{Str = 1979}         --[[ "Su Lang Manchu was my teacher in dark magic.
He maintains a small house in a village in Paradise Valley." ]]
end

-- "Hans Gifford"
evt.global[1594] = function()
	evt.SetMessage{Str = 1980}         -- "Hans Gifford can show you even more neat tricks in identifying items in Free Haven."
end

-- "Will Ottoman"
evt.global[1595] = function()
	evt.SetMessage{Str = 1981}         --[[ "The smoothest talking merchant I've ever seen is Will Ottoman in Silver Cove.
If you're looking to improve your merchant skill, he's the man to see." ]]
end

-- "Ryan Treacle"
evt.global[1596] = function()
	evt.SetMessage{Str = 1982}         --[[ "If you think I'm good at repairing things, Ryan Treacle is the best around.
I'm sure he can be convinced to assist you in mastering the skill.
He lives up near Castle Stone the last I heard." ]]
end

-- "Jason Traveler"
evt.global[1597] = function()
	evt.SetMessage{Str = 1983}         --[[ "Jason Traveler will coach you in the finest points of body-building.
He works in Free Haven, if you can handle his rigorous training." ]]
end

-- "Norio Ariganaka"
evt.global[1598] = function()
	evt.SetMessage{Str = 1984}         -- "If mastering meditation is your goal, you'll need to see Norio Ariganaka in Mist."
end

-- "Macro Caligula"
evt.global[1599] = function()
	evt.SetMessage{Str = 1985}         -- "Perception can be mastered with help from Macro Caligula in Darkmoor."
end

-- "Jacques Kohl"
evt.global[1600] = function()
	evt.SetMessage{Str = 1986}         --[[ "Jacques Kohl is working with Lord Stromgard to develop experimental recipes.
If he has time, perhaps he can assist you as well in mastering the art of Alchemy." ]]
end

-- "Gabe Lester"
evt.global[1601] = function()
	evt.SetMessage{Str = 1987}         --[[ "The greatest trap disarmer, Gabe Lester, is currently teaching his craft near Castle Stone.
He's the person to talk to if you want to learn all the best tricks." ]]
end

-- "John Tuck"
evt.global[1602] = function()
	evt.SetMessage{Str = 1988}         --[[ "John Tuck can teach you to master the learning skill.
I believe he's still living in Silver Cove." ]]
end

-- "Quest"
evt.global[1603] = function()
	evt.SetMessage{Str = 1989}         --[[ "The King of the Dwarves, Snergle, usurped Rocklin for leadership of the dwarven clans.
Now Rocklin is in exile somewhere and Snergle is in charge.
Most dwarves don’t like Snergle and would like to see Rocklin back in power.
Unfortunately, Snergle has claimed both Rocklin’s caverns and the largest dwarven Iron Mine.
Snergle, fearing treachery near home, has removed me, the Dwarven Weaponmaster, from my position.
We need someone to get Snergle out of power by any means necessary.
I’d even consider training you humans how to use an axe like a true dwarf if you’ll help us." ]]
	evt.Add{"QBits", Value = 1148}         -- "Kill Snergle in Snergle's Caverns and return with his axe to Avinril Smythers at The Haunt tavern in the Mire of the Damned."
	evt.SetNPCTopic{NPC = 817, Index = 0, Event = 1604}         -- "Avinril Smythers " : "Quest"
end

-- "Quest"
evt.global[1604] = function()
	evt.ForPlayer(-- ERROR: Const not found
"All")
	if evt.Cmp{"Inventory", Value = 2118} then         -- "Snergle's Axe"
		evt.SetMessage{Str = 1991}         --[[ "Oh, glorious day!
With Snergle’s passing, we can now search for Rocklin to put him back in power.
Eternal thanks to you for this, and dwarves everywhere owe you a debt of gratitude." ]]
		evt.Add{"Awards", Value = 79}         -- "Killed Snergle"
		evt.Add{"Experience", Value = 20000}
		evt.ForPlayer(-- ERROR: Const not found
4)
		evt.Set{"QBits", Value = 1051}         -- 27 D05, Given when axe is returned (so door can't be opened)
		evt.Subtract{"QBits", Value = 1148}         -- "Kill Snergle in Snergle's Caverns and return with his axe to Avinril Smythers at The Haunt tavern in the Mire of the Damned."
		evt.Add{"ReputationIs", Value = 5}
		evt.SetNPCTopic{NPC = 817, Index = 0, Event = 1520}         -- "Avinril Smythers " : "Master Axe Fighting"
	else
		evt.SetMessage{Str = 1990}         --[[ "I need proof that Snergle has been defeated.
I’m sorry, but I just can’t take your word for it.
Bring back some personal item of his, like his axe maybe." ]]
	end
end

-- "Quest"
evt.global[1605] = function()
	evt.SetMessage{Str = 1992}         --[[ "The Mayor here in Mist is considering allowing the Fraternal Order of Silver to police the town in their battle against evil.
I know the Silver Helm Persecution Squads have murdered innocents in their misguided crusade against ‘evil,’ but there are no living witnesses to their atrocities.
I need you to storm their outpost to the south of here to find proof so that I can convince the mayor to ban them from Mist." ]]
	evt.Add{"QBits", Value = 1149}         -- "Storm the Silver Helm Outpost near Mist and return with evidence of their corruption to the Constable of Mist."
	evt.SetNPCTopic{NPC = 822, Index = 0, Event = 1606}         -- "Charles D'Sorpigal" : "Quest"
end

-- "Quest"
evt.global[1606] = function()
	evt.ForPlayer(-- ERROR: Const not found
"All")
	if evt.Cmp{"Inventory", Value = 2123} then         -- "Enemies List"
		evt.SetMessage{Str = 1994}         --[[ "Just as I suspected!
I’m surprised the Mayor was number three on their enemies list.
I suppose he IS a tad incompetent, but he’s not a bad person.
Thanks again, please accept this gold and my gratitude as your reward." ]]
		evt.Subtract{"Inventory", Value = 2123}         -- "Enemies List"
		evt.Add{"Awards", Value = 80}         -- "Saved the Mayor of Mist"
		evt.Add{"Experience", Value = 15000}
		evt.ForPlayer(-- ERROR: Const not found
4)
		evt.Add{"Gold", Value = 3000}
		evt.Add{"ReputationIs", Value = 2}
		evt.Subtract{"QBits", Value = 1149}         -- "Storm the Silver Helm Outpost near Mist and return with evidence of their corruption to the Constable of Mist."
		evt.SetNPCTopic{NPC = 822, Index = 0, Event = 0}         -- "Charles D'Sorpigal"
		evt.SetNPCTopic{NPC = 831, Index = 0, Event = 1608}         -- "Bertrand Scrivner" : "Silver Helms"
	else
		evt.SetMessage{Str = 1993}         --[[ "Keep searching– the lives of the mayor and myself could very well be in your hands.
We can’t take action against them without proof." ]]
	end
end

-- "Silver Helms"
evt.global[1607] = function()
	evt.SetMessage{Str = 1995}         --[[ "I think I might just allow the Fraternal Order of Silver to police the areas around Mist.
Maybe they’d be able to hunt down all the evil people and leave this island a paradise." ]]
end

-- "Silver Helms"
evt.global[1608] = function()
	evt.SetMessage{Str = 1996}         --[[ "I can’t believe those Silver Helms wanted to kill me!
I’ve never done anything wrong in my life!
Well, nothing more wrong than any other mayor at least.
Thank you again for stopping them." ]]
end

-- "Quest"
evt.global[1609] = function()
	evt.SetMessage{Str = 1997}         --[[ "Could you do the Temple of Baa a favor?
It appears that my brethren left the old temple to the northwest of here in a little too much of a hurry, and a candelabra necessary for some of our rituals was left behind.
None of the Baa priests want to go back because they’re afraid of whatever curse has been placed on the temple.
If you were to bring back the candelabra to me, however, I could reward you in their place." ]]
	evt.Add{"QBits", Value = 1150}         -- "Retrieve the candelabra from the Abandoned Temple for Andover Potbello in New Sorpigal."
	evt.SetNPCTopic{NPC = 786, Index = 1, Event = 1610}         -- "Andover Potbello" : "Quest"
end

-- "Quest"
evt.global[1610] = function()
	evt.ForPlayer(-- ERROR: Const not found
"All")
	if evt.Cmp{"Inventory", Value = 2069} then         -- "Candelabra"
		evt.SetMessage{Str = 1999}         --[[ "Excellent!
Baa be praised!
I see you were not frightened of the curse after all.
Here is your reward and thank you again for your assistance." ]]
		evt.Subtract{"Inventory", Value = 2069}         -- "Candelabra"
		evt.Add{"Awards", Value = 81}         -- "Retrieved the Baa Candelabra"
		evt.Add{"Experience", Value = 2000}
		evt.ForPlayer(-- ERROR: Const not found
4)
		evt.Add{"Gold", Value = 1000}
		evt.Subtract{"ReputationIs", Value = 10}
		evt.Subtract{"QBits", Value = 1150}         -- "Retrieve the candelabra from the Abandoned Temple for Andover Potbello in New Sorpigal."
		evt.SetNPCTopic{NPC = 786, Index = 1, Event = 0}         -- "Andover Potbello"
	else
		evt.SetMessage{Str = 1998}         --[[ "Did the curse frighten you away as well?
I can understand.
Baa is patient, however.
Should you work up the courage to find the candelabra, I’m still prepared to compensate you for it." ]]
	end
end

-- "Fraternal Order of Silver"
evt.global[1611] = function()
	evt.SetMessage{Str = 2000}         --[[ "Who would have thought that the evil I sought to fight all across Enroth would be found so close to my own home?
Gerrard Blackames was once my second in command.
Not long before he murdered me he began corresponding with the Temple of Baa, and they began to feed him targets for our Order.
I ended up being one of the targets, and Gerrard took control of the Order.
Now, the Silver Helms are as evil as the people they hunt.
I’m certain the Temple of Baa is responsible for the corruption of our Order.
At the same time, Gerrard’s brother, Marcus the Sorcerer, has been supplying the Silver Helms with high quality equipment.
The last I heard, Marcus was assisting someone in a forge on an island to the southeast." ]]
end

-- "Melody"
evt.global[1612] = function()
	if evt.Cmp{"QBits", Value = 1151} then         -- NPC
		evt.SetMessage{Str = 2002}         --[[ "Thank you for saving my niece.
Behind this wall is a secret area I’ve kept hidden from even Gerrard all these years.
You are welcome to take whatever you want; I’d prefer you have this than Gerrard." ]]
	else
		evt.SetMessage{Str = 2001}         --[[ "My niece, Melody, has been kidnapped from her home in Mist and locked in a Silver Helm outpost near there.
She’s one of the few people who know that I’ve been murdered.
I’m sure Gerrard has her locked up for that reason, but I believe he wants to force her into marriage to eliminate any opposition to his leadership of the Fraternal Order of Silver." ]]
	end
end

-- "Ankh"
evt.global[1613] = function()
	evt.SetMessage{Str = 2003}         --[[ "Gerrard has an ankh inscribed with his name given to him by the priests of Baa.
I’m not sure exactly what the ankh is used for, but he may use it to identify himself as a friend of Baa." ]]
	evt.SetNPCTopic{NPC = 799, Index = 2, Event = 1675}         -- "Loretta Fleise" : "Ankh"
	evt.SetNPCTopic{NPC = 801, Index = 2, Event = 1676}         -- "Anthony Stone" : "Ankh"
end

-- "Snergle's Key"
evt.CanShowTopic[1614] = function()
	return not evt.Cmp{"Inventory", Value = 2108}         -- "Key to Snergle's Chambers"
end

evt.global[1614] = function()
	evt.SetMessage{Str = 2004}         --[[ "You want to defeat Snergle, do you?
Well, he knows how he stands among most dwarves.
He’s holed up in Rocklin’s old caverns surrounded by a horde of his loyal dwarves.
If anything were to happen in there, he’d just immediately lock himself in his private room and let his followers handle it.
You’ll need a key to get into his room; there’s no way you’ll bash down a high quality dwarven door.
I was a steward for Rocklin– I know that room well and I happen to still have a key to it hidden on me.
Fortunately for you, I’m in this cell because of Snergle, and there’s nothing I’d rather see than his reign put to a quick end.
Here’s the key– think of it as payment for letting me out of this cell." ]]
	evt.MoveNPC{NPC = 851, HouseId = 0}         -- "Ghim Hammond"
	if not evt.Cmp{"Inventory", Value = 2108} then         -- "Key to Snergle's Chambers"
		evt.Add{"Inventory", Value = 2108}         -- "Key to Snergle's Chambers"
	end
end

-- "Hidden Passages"
evt.global[1615] = function()
	evt.SetMessage{Str = 2005}         --[[ "Thank you for releasing me.
The only thing keeping the Silver Helms from killing me was the fact I’m a priest.
Frankly, I’m surprised they would show me any mercy at all.
Listen, I’ve heard some strange sounds coming from around here… I think there might be a hidden passage near here.
In any event, I should probably be leaving now; I don’t want to stay in this cell any longer." ]]
	evt.MoveNPC{NPC = 859, HouseId = 0}         -- "Oliver Wendell"
end

-- "Quest"
evt.global[1616] = function()
	evt.SetMessage{Str = 2006}         --[[ "The Dragoons that have been plaguing the roads around here recently stole a harp of mine from one of my caravans.
I’m not strong enough to get it back from them, but I’m willing to pay someone capable to do it for me.
Find the harp and return it, and I’ll reward you." ]]
	evt.Add{"QBits", Value = 1152}         -- "Retrieve the harp from the Dragoon's Caverns south of Castle Ironfist and return it to Andrew Besper in Castle Ironfist."
	evt.SetNPCTopic{NPC = 862, Index = 0, Event = 1617}         -- "Andrew Besper" : "Quest"
end

-- "Quest"
evt.global[1617] = function()
	evt.ForPlayer(-- ERROR: Const not found
"All")
	if evt.Cmp{"Inventory", Value = 2099} then         -- "Harp"
		evt.SetMessage{Str = 2008}         --[[ "My gratitude!
My wife loves this harp; I’m so glad you were able to recover it!
Here, take this as a reward.
I’ve heard rumors that the Dragoons were working with the Shadow Guild.
If that’s the case, I’m sure the Mayor of New Sorpigal would love to see proof of it.
Thank you again for your assistance." ]]
		evt.Subtract{"Inventory", Value = 2099}         -- "Harp"
		evt.Add{"Awards", Value = 82}         -- "Retrieved Andrew's Harp"
		evt.Add{"Experience", Value = 10000}
		evt.ForPlayer(-- ERROR: Const not found
4)
		evt.Add{"Gold", Value = 5000}
		evt.Add{"ReputationIs", Value = 2}
		evt.Subtract{"QBits", Value = 1152}         -- "Retrieve the harp from the Dragoon's Caverns south of Castle Ironfist and return it to Andrew Besper in Castle Ironfist."
		evt.SetNPCTopic{NPC = 862, Index = 0, Event = 0}         -- "Andrew Besper"
	else
		if evt.Cmp{"Inventory", Value = 2098} then         -- "Flute"
			evt.SetMessage{Str = 2009}         --[[ "Well, this IS a musical instrument, but it’s not a harp.
Let me explain the difference:
You brought back a flute.
A flute is a pipe with holes in it.
A harp has strings.
Does that help?
I’m sure they still have the harp and I will reward you well for its return." ]]
		else
			evt.SetMessage{Str = 2007}         --[[ "My harp is still lost, so the reward is still available for it.
I know the Dragoons base their operations to the south of here near the coast.
Please bring back my harp." ]]
		end
	end
end

-- "Quest"
evt.global[1618] = function()
	evt.SetMessage{Str = 2010}         --[[ "I have a few theories about the undead that I would very much like to prove.
What I really need is the remains of an undead creature, preferably a powerful one.
Actually, what I really need is the remains of the FIRST lich, Ethric the Mad.
I am a scholar, however, and don’t have the means to gain such a specimen.
I do have some money saved up, and I’d be willing to pay you well for Ethric’s remains." ]]
	evt.Add{"QBits", Value = 1153}         -- "Retrieve Ethric's skull from his tomb west of Free Haven for Gabriel Cartman in Free Haven."
	evt.SetNPCTopic{NPC = 956, Index = 0, Event = 1619}         -- "Gabriel Cartman" : "Quest"
end

-- "Quest"
evt.global[1619] = function()
	evt.ForPlayer(-- ERROR: Const not found
"All")
	if evt.Cmp{"Inventory", Value = 2084} then         -- "Ethric's Skull"
		evt.SetMessage{Str = 2012}         --[[ "Good work! Now I can conclude my research.
If I can learn how the Ritual of Endless Night works, perhaps I can find a way to reverse the process.
Here is the reward I promised you. " ]]
		evt.Subtract{"Inventory", Value = 2084}         -- "Ethric's Skull"
		evt.Add{"Awards", Value = 83}         -- "Retrieved Ethric's Skull"
		evt.Add{"Experience", Value = 15000}
		evt.ForPlayer(-- ERROR: Const not found
4)
		evt.Add{"Gold", Value = 7500}
		evt.Subtract{"QBits", Value = 1153}         -- "Retrieve Ethric's skull from his tomb west of Free Haven for Gabriel Cartman in Free Haven."
		evt.SetNPCTopic{NPC = 956, Index = 0, Event = 0}         -- "Gabriel Cartman"
		evt.MoveNPC{NPC = 956, HouseId = 0}         -- "Gabriel Cartman"
	else
		evt.SetMessage{Str = 2011}         --[[ "I am well aware of the difficulty of the task, believe me.
Take your time but at the least, do the job properly. " ]]
	end
end

-- "Quest"
evt.global[1621] = function()
	evt.SetMessage{Str = 2013}         --[[ "Our town is periodically plagued by giant spiders.
I’m pretty sure that if the spider queen were killed, the rest of the spiders would go away.
Currently, I’m offering a reward to the person that can kill the spider queen." ]]
	evt.Add{"QBits", Value = 1154}         -- "Kill the Queen of the Spiders in the Abandoned Temple in New Sorpigal and return with her heart to Buford T. Allman in New Sorpigal."
	evt.SetNPCTopic{NPC = 992, Index = 0, Event = 1622}         -- "Buford T. Allman" : "Quest"
end

-- "Quest"
evt.global[1622] = function()
	evt.ForPlayer(-- ERROR: Const not found
"All")
	if evt.Cmp{"Inventory", Value = 2101} then         -- "Spider Queen's Heart"
		evt.SetMessage{Str = 2015}         --[[ "What a gruesome trophy!
This heart proves you’ve defeated the wicked spider queen.
Hopefully now the spiders won’t plague New Sorpigal anymore.
Here is the reward I promised." ]]
		evt.Subtract{"Inventory", Value = 2101}         -- "Spider Queen's Heart"
		evt.Add{"Awards", Value = 84}         -- "Killed the Spider Queen"
		evt.Add{"Experience", Value = 3000}
		evt.ForPlayer(-- ERROR: Const not found
4)
		evt.Add{"Gold", Value = 1000}
		evt.Subtract{"QBits", Value = 1154}         -- "Kill the Queen of the Spiders in the Abandoned Temple in New Sorpigal and return with her heart to Buford T. Allman in New Sorpigal."
		evt.SetNPCTopic{NPC = 992, Index = 0, Event = 0}         -- "Buford T. Allman"
	else
		evt.SetMessage{Str = 2014}         -- "No one has returned with proof that they’ve killed the spider queen, so the reward is still available."
	end
end

-- "Quest"
evt.global[1623] = function()
	evt.SetMessage{Str = 2016}         --[[ "Cedric Druthers and his Celestial Order have taken over the Monolith, an ancient place sacred to druids.
Their dark rituals are corrupting the Monolith and they need to be stopped– whatever altar they use as the center of their ceremonies needs to be defaced.
Do this for us and we will compensate you for your time and services." ]]
	evt.Add{"QBits", Value = 1155}         -- "Deface the altar in the Monolith west of Silver Cove and return to Eleanor Vanderbilt in Silver Cove."
	evt.SetNPCTopic{NPC = 1052, Index = 0, Event = 1624}         -- "Eleanor Vanderbilt" : "Quest"
end

-- "Quest"
evt.global[1624] = function()
	if evt.Cmp{"QBits", Value = 1047} then         -- 23 D13, Given when Altar is desecrated
		evt.SetMessage{Str = 2018}         --[[ "Thank you for your help!
Please allow me to compensate you for your efforts.
We can rest more safely knowing that Cedric and his renegade druids are no longer polluting that sacred area. " ]]
		evt.Subtract{"QBits", Value = 1155}         -- "Deface the altar in the Monolith west of Silver Cove and return to Eleanor Vanderbilt in Silver Cove."
		evt.Add{"ReputationIs", Value = 2}
		evt.Add{"Gold", Value = 3000}
		evt.ForPlayer(-- ERROR: Const not found
"All")
		evt.Add{"Awards", Value = 85}         -- "Saved the Monolith"
		evt.Add{"Experience", Value = 15000}
		evt.SetNPCTopic{NPC = 1052, Index = 0, Event = 0}         -- "Eleanor Vanderbilt"
		evt.MoveNPC{NPC = 1052, HouseId = 0}         -- "Eleanor Vanderbilt"
	else
		evt.SetMessage{Str = 2017}         -- "I’m glad to see you again, but the Celestial Order is still in the Monolith."
	end
end

-- "Cobra Eggs"
evt.global[1625] = function()
	evt.ForPlayer(-- ERROR: Const not found
0)
	if evt.Cmp{"Inventory", Value = 2094} then         -- "Cobra Egg"
		evt.Subtract{"Inventory", Value = 2094}         -- "Cobra Egg"
		evt.Add{"Gold", Value = 300}
		evt.SetMessage{Str = 2020}         --[[ "Excellent specimen!
I should be able to hatch this in no time and help my flagging business.
Here is my payment for this wonderful egg.
I’ll buy any more cobra eggs you have as long as they are in demand." ]]
	else
		evt.ForPlayer(-- ERROR: Const not found
1)
		if evt.Cmp{"Inventory", Value = 2094} then         -- "Cobra Egg"
			evt.Subtract{"Inventory", Value = 2094}         -- "Cobra Egg"
			evt.Add{"Gold", Value = 300}
			evt.SetMessage{Str = 2020}         --[[ "Excellent specimen!
I should be able to hatch this in no time and help my flagging business.
Here is my payment for this wonderful egg.
I’ll buy any more cobra eggs you have as long as they are in demand." ]]
		else
			evt.ForPlayer(-- ERROR: Const not found
2)
			if evt.Cmp{"Inventory", Value = 2094} then         -- "Cobra Egg"
				evt.Subtract{"Inventory", Value = 2094}         -- "Cobra Egg"
				evt.Add{"Gold", Value = 300}
				evt.SetMessage{Str = 2020}         --[[ "Excellent specimen!
I should be able to hatch this in no time and help my flagging business.
Here is my payment for this wonderful egg.
I’ll buy any more cobra eggs you have as long as they are in demand." ]]
			else
				evt.ForPlayer(-- ERROR: Const not found
3)
				if evt.Cmp{"Inventory", Value = 2094} then         -- "Cobra Egg"
					evt.Subtract{"Inventory", Value = 2094}         -- "Cobra Egg"
					evt.Add{"Gold", Value = 300}
					evt.SetMessage{Str = 2020}         --[[ "Excellent specimen!
I should be able to hatch this in no time and help my flagging business.
Here is my payment for this wonderful egg.
I’ll buy any more cobra eggs you have as long as they are in demand." ]]
				else
					evt.SetMessage{Str = 2019}         --[[ "I am a collector of rare and exotic creatures, and I make a living by selling some of these creatures as pets.
Currently, cobras are in great demand, and I don’t have many cobras left to sell.
Therefore, I’m willing to pay handsomely for any cobra eggs you might have.
Remember, if you find any cobra eggs, I’ll give you the best prices." ]]
				end
			end
		end
	end
end

-- "Quest"
evt.global[1626] = function()
	evt.SetMessage{Str = 2021}         -- "Removed Bat Guano Message"
	evt.Add{"QBits", Value = 1157}         -- NPC
	evt.SetNPCTopic{NPC = 1074, Index = 0, Event = 1627}         -- "Barrad Unter" : "Quest"
	evt.Add{"Inventory", Value = 2050}         -- "Leather Pouch"
end

-- "Quest"
evt.global[1628] = function()
	evt.SetMessage{Str = 2024}         --[[ "Near here is a temple dedicated to the Order of the Fist.
I once belonged to that order, but recently they uncovered a powerful evil crystal.
They hope to use the crystal as a bargaining chip to be accepted into the Temple of Baa.
I don’t want to see the crystal fall into Baa’s hands– it must be destroyed.
Please infiltrate the temple and destroy the crystal." ]]
	evt.Add{"QBits", Value = 1158}         -- "Destroy the crystal in the Temple of the Fist and return to Winston Schezar in Bootleg Bay."
	evt.SetNPCTopic{NPC = 1075, Index = 0, Event = 1629}         -- "Winston Schezar" : "Quest"
end

-- "Quest"
evt.global[1629] = function()
	if evt.Cmp{"QBits", Value = 1045} then         -- 21 T2, Given when evil crystal is destroyed
		evt.SetMessage{Str = 2026}         --[[ "Good work!
I’m glad you made it in time.
I don’t like to think about what Baa would have done with that crystal.
You have done all of Enroth a great service." ]]
		evt.Subtract{"QBits", Value = 1158}         -- "Destroy the crystal in the Temple of the Fist and return to Winston Schezar in Bootleg Bay."
		evt.Add{"Gold", Value = 3000}
		evt.Add{"ReputationIs", Value = 2}
		evt.ForPlayer(-- ERROR: Const not found
"All")
		evt.Add{"Awards", Value = 87}         -- "Destroyed the Wicked Crystal"
		evt.Add{"Experience", Value = 10000}
		evt.SetNPCTopic{NPC = 1075, Index = 0, Event = 0}         -- "Winston Schezar"
		evt.MoveNPC{NPC = 1075, HouseId = 0}         -- "Winston Schezar"
	else
		evt.SetMessage{Str = 2025}         --[[ "You must hurry and destroy the crystal before Baa claims it.
I’m not sure how long it will take, so time is of the essence." ]]
	end
end

-- "Quest"
evt.global[1630] = function()
	evt.SetMessage{Str = 2027}         --[[ "My husband, Emmanuel, went to Star Island a few weeks ago with a few friends hoping to find some treasure.
I haven’t seen him since, and I’m worried about him.
I don’t dare go to the island; it’s rumored to be the home of medusas!
If you could find him and bring him home, I would be very grateful." ]]
	evt.Add{"QBits", Value = 1160}         -- "Rescue Emmanuel from the Temple of the Snake near Blackshire and return him to Joanne Cravitz in Blackshire."
	evt.SetNPCTopic{NPC = 903, Index = 0, Event = 1631}         -- "Joanne Cravitz" : "Quest"
end

-- "Quest"
evt.global[1631] = function()
	if evt.Cmp{"QBits", Value = 1702} then         -- Replacement for NPCs ¹108 ver. 6
		evt.SetMessage{Str = 2029}         --[[ "Oh, thank you for bringing Emmanuel back to me!
Nothing in this world means as much to me as him!
Please take this as a reward.
I know it’s not much, but you deserve it for bringing him back to me." ]]
		evt.Subtract{"QBits", Value = 1702}         -- Replacement for NPCs ¹108 ver. 6
		evt.Subtract{"QBits", Value = 1160}         -- "Rescue Emmanuel from the Temple of the Snake near Blackshire and return him to Joanne Cravitz in Blackshire."
		evt.Add{"Gold", Value = 500}
		evt.ForPlayer(-- ERROR: Const not found
"All")
		evt.Add{"Awards", Value = 88}         -- "Rescued Emmanuel"
		evt.Add{"Experience", Value = 20000}
		evt.MoveNPC{NPC = 893, HouseId = 1354}         -- "Emmanuel Cravitz" -> "House"
		evt.SetNPCTopic{NPC = 893, Index = 0, Event = 0}         -- "Emmanuel Cravitz"
		evt.SetNPCTopic{NPC = 903, Index = 0, Event = 0}         -- "Joanne Cravitz"
	else
		evt.SetMessage{Str = 2028}         --[[ "No luck?
He must be in grave danger if you did not find him.
If you do happen to find him, please bring him back here.
I’ll be waiting for him." ]]
	end
end

-- "Greeting"
evt.global[1632] = function()
	evt.SetMessage{Str = 2030}         -- "Thank you for turning me back to normal. I’d love to stay and chat, but I really should be getting out of here."
end

-- "Greeting"
evt.global[1633] = function()
	evt.SetMessage{Str = 2031}         -- "Thank you for turning me back to normal. I’d love to stay and chat, but I really should be getting out of here."
end

-- "Blackshire"
evt.global[1634] = function()
	evt.SetMessage{Str = 2032}         --[[ "Could you help me get out of here?
I need to get back to my wife in Blackshire." ]]
	evt.Set{"QBits", Value = 1702}         -- Replacement for NPCs ¹108 ver. 6
end

-- "Quest"
evt.global[1635] = function()
	evt.SetMessage{Str = 2033}         --[[ "An explorer friend of mine recently uncovered a powerful artifact, Mordred, in his travels.
He wanted to sell it to me, and shipped it here for me to decide if I wanted it.
Unfortunately, raiders attacked the caravan it was on and stole the artifact.
They were last seen headed to an area west of Castle Temper; I’m sure they must have some sort of base there.
If you bring back Mordred for me, I’ll give you a cut of what I’m paying my friend for it." ]]
	evt.Add{"QBits", Value = 1161}         -- "Find the lost artifact in the Dragoons' Keep near Castle Temper and return it to Zoltan Phelps in Free Haven."
	evt.SetNPCTopic{NPC = 861, Index = 0, Event = 1636}         -- "Zoltan Phelps" : "Quest"
end

-- "Quest"
evt.global[1636] = function()
	evt.ForPlayer(-- ERROR: Const not found
"All")
	if evt.Cmp{"Inventory", Value = 2020} then         -- "Mordred"
		evt.SetMessage{Str = 2035}         --[[ "So this is the legendary Mordred, eh?
Interesting, I was expecting something much grander.
I don’t think I want it, actually.
Why don’t you keep it, and I’ll deal with my friend on the cost." ]]
		evt.Add{"Awards", Value = 89}         -- "Found Zoltan's Artifact"
		evt.Add{"Experience", Value = 10000}
		evt.ForPlayer(-- ERROR: Const not found
4)
		evt.Add{"Gold", Value = 30000}
		evt.Add{"ReputationIs", Value = 5}
		evt.Subtract{"QBits", Value = 1161}         -- "Find the lost artifact in the Dragoons' Keep near Castle Temper and return it to Zoltan Phelps in Free Haven."
		evt.SetNPCTopic{NPC = 861, Index = 0, Event = 0}         -- "Zoltan Phelps"
		evt.MoveNPC{NPC = 861, HouseId = 0}         -- "Zoltan Phelps"
	else
		evt.SetMessage{Str = 2034}         --[[ "Hello again.
No one has found Mordred yet, so our deal is still good.
I’ll give you part of the selling price for the artifact if you return it." ]]
	end
end

-- "Quest"
evt.global[1637] = function()
	evt.SetMessage{Str = 2036}         --[[ "Members of the Shadow Guild have moved down south recently, and have been trying to exert their influence over merchants in the area.
I refused them access to our town, so they kidnapped Sharry Carnegie, an old healer loved by the townspeople, in an attempt to ‘convince’ me to let them operate here.
I can’t believe that their extortion has moved so far south, I thought I was safe from that down here.
Please rescue Sharry– I can offer you some money as a reward, and I’m sure the townsfolk would appreciate her return." ]]
	evt.Add{"QBits", Value = 1162}         -- "Rescue Sharry from the Shadow Guild Hideout and return with her to Frank Fairchild in New Sorpigal."
	evt.SetNPCTopic{NPC = 788, Index = 0, Event = 1638}         -- "Frank Fairchild" : "Quest"
end

-- "Quest"
evt.global[1638] = function()
	if evt.Cmp{"QBits", Value = 1703} then         -- Replacement for NPCs ¹193 ver. 6
		evt.SetMessage{Str = 2038}         --[[ "Thank you so much for saving Sharry!
I can’t tell you how much this means to both New Sorpigal and myself.
You have our gratitude forever." ]]
		evt.Subtract{"QBits", Value = 1703}         -- Replacement for NPCs ¹193 ver. 6
		evt.Subtract{"QBits", Value = 1162}         -- "Rescue Sharry from the Shadow Guild Hideout and return with her to Frank Fairchild in New Sorpigal."
		evt.Add{"Gold", Value = 2000}
		evt.ForPlayer(-- ERROR: Const not found
"All")
		evt.Add{"Awards", Value = 90}         -- "Rescued Sharry"
		evt.Add{"Experience", Value = 10000}
		evt.SetNPCTopic{NPC = 788, Index = 0, Event = 0}         -- "Frank Fairchild"
	else
		evt.SetMessage{Str = 2037}         --[[ "Have you found Sharry yet?
No?
I’m sure she’s wherever the Shadow Guild is hiding out.
Find them and you’ll find her." ]]
	end
end

-- "Shadow Guild"
evt.global[1639] = function()
	evt.ForPlayer(-- ERROR: Const not found
"All")
	if evt.Cmp{"Inventory", Value = 2124} then         -- "Orders from the Shadow Guild"
		evt.SetMessage{Str = 2039}         --[[ "Interesting.
The Dragoons were hired by the Shadow Guild.
I’m certain Anthony Stone will want to hear about this.
I’ll present this letter when I see him next. Thank you for this.
I’m sure he will want to take action against the Shadow Guild now that we have some proof of their deeds." ]]
		evt.Subtract{"Inventory", Value = 2124}         -- "Orders from the Shadow Guild"
		evt.Add{"Experience", Value = 5000}
		evt.ForPlayer(-- ERROR: Const not found
4)
		evt.Add{"Gold", Value = 5000}
		evt.Add{"ReputationIs", Value = 2}
		evt.SetNPCTopic{NPC = 788, Index = 1, Event = 0}         -- "Frank Fairchild"
	else
		evt.SetMessage{Str = 2091}         --[[ "I'm so tired of the Shadow Guild, but I don't have any substantial proof of their activities.
I'd love to have something I could show to Anthony Stone proving the Shadow Guild is up to no good down here." ]]
	end
end

-- "New Sorpigal"
evt.global[1640] = function()
	evt.SetMessage{Str = 2040}         --[[ "Thank you for rescuing me from these horrible ruffians!
I’d like to go back home to New Sorpigal now." ]]
	evt.Set{"QBits", Value = 1703}         -- Replacement for NPCs ¹193 ver. 6
end

-- "Quest"
evt.global[1641] = function()
	evt.SetMessage{Str = 2041}         --[[ "Oh dear, can you help me?
My daughter Angela is missing!
I think she may have wandered into the abandoned temple near town, and if she did she could be in terrible danger– who knows what kind of horrible things are lurking in that cursed place!
Please find her and bring her back to me." ]]
	evt.Add{"QBits", Value = 1163}         -- "Rescue Angela from the Abandoned Temple and return her to Violet Dawson in New Sorpigal."
	evt.SetNPCTopic{NPC = 939, Index = 0, Event = 1642}         -- "Violet Dawson" : "Quest"
end

-- "Quest"
evt.global[1642] = function()
	if evt.Cmp{"QBits", Value = 1704} then         -- Replacement for NPCs ¹195 ver. 6
		evt.SetMessage{Str = 2043}         --[[ "She’s alive!
Thank you so much for finding Angela!
If I weren’t so happy to see her, she’d be in a lot of trouble.
Please take this as a reward for all you’ve done." ]]
		evt.MoveNPC{NPC = 980, HouseId = 1316}         -- "Angela Dawson" -> "House"
		evt.Subtract{"QBits", Value = 1704}         -- Replacement for NPCs ¹195 ver. 6
		evt.Subtract{"QBits", Value = 1163}         -- "Rescue Angela from the Abandoned Temple and return her to Violet Dawson in New Sorpigal."
		evt.Add{"Gold", Value = 500}
		evt.Add{"Food", Value = 10}
		evt.ForPlayer(-- ERROR: Const not found
"All")
		evt.Add{"Awards", Value = 91}         -- "Rescued Angela"
		evt.Add{"Experience", Value = 1000}
		evt.SetNPCTopic{NPC = 939, Index = 0, Event = 0}         -- "Violet Dawson"
		evt.SetNPCTopic{NPC = 980, Index = 0, Event = 0}         -- "Angela Dawson"
	else
		evt.SetMessage{Str = 2042}         --[[ "You didn’t find poor Angela?
Something horrible must have happened to her!" ]]
	end
end

-- "Help!"
evt.global[1643] = function()
	evt.SetMessage{Str = 2044}         -- "I think I'm lost…<sob>…I want to go home!"
	evt.Set{"QBits", Value = 1704}         -- Replacement for NPCs ¹195 ver. 6
end

-- "Quest"
evt.global[1644] = function()
	evt.SetMessage{Str = 2045}         --[[ "A good friend of mine, Sherell, went with a group of friends to the islands in Bootleg Bay to explore an old temple rumored to be there.
Her friends returned and said she was captured by cannibals on the island and taken to some ancient temple.
I’m sure she doesn’t have much time before they do something dreadful to her, please rescue her!" ]]
	evt.Add{"QBits", Value = 1164}         -- "Rescue Sherell from the cannibals on the islands east of Free Haven and return with her to Carlo Tormini in Free Haven."
	evt.SetNPCTopic{NPC = 985, Index = 0, Event = 1645}         -- "Carlo Tormini" : "Quest"
end

-- "Quest"
evt.global[1645] = function()
	if evt.Cmp{"QBits", Value = 1705} then         -- Replacement for NPCs ¹155 ver. 6
		evt.SetMessage{Str = 2047}         --[[ "Wonderful!
She’s not dead after all!
Thank you for all your trouble.
I hope you will accept this token of my gratitude." ]]
		evt.MoveNPC{NPC = 940, HouseId = 1400}         -- "Sherell Ivanaveh" -> "House"
		evt.Subtract{"QBits", Value = 1705}         -- Replacement for NPCs ¹155 ver. 6
		evt.Subtract{"QBits", Value = 1164}         -- "Rescue Sherell from the cannibals on the islands east of Free Haven and return with her to Carlo Tormini in Free Haven."
		evt.SetNPCTopic{NPC = 940, Index = 0, Event = 0}         -- "Sherell Ivanaveh"
		evt.Add{"Gold", Value = 1500}
		evt.ForPlayer(-- ERROR: Const not found
"All")
		evt.Add{"Experience", Value = 10000}
		evt.Add{"Awards", Value = 92}         -- "Rescued Sherell"
		evt.SetNPCTopic{NPC = 985, Index = 0, Event = 0}         -- "Carlo Tormini"
	else
		evt.SetMessage{Str = 2046}         --[[ "Oh dear!
You haven’t found her yet?
Surely she must have been sacrificed or eaten or something.
Please try to find her, or at least avenge her death." ]]
	end
end

-- "Escape"
evt.global[1646] = function()
	evt.SetMessage{Str = 2048}         --[[ "Hello!
Please, oh please, get me out of this temple.
I don’t want to die!" ]]
	evt.Set{"QBits", Value = 1705}         -- Replacement for NPCs ¹155 ver. 6
end

-- "Quest"
evt.global[1647] = function()
	evt.SetMessage{Str = 2049}         --[[ "Our town is under a terrible curse, though most people don’t believe it.
Under a full moon, we all change into werewolves.
Although none of us are truly evil, we don’t really know what sort of horrible things we do as werewolves.
We can’t approach our lord, Acton Spindler about the problem because he doesn’t realize that we are the werewolves.
Please find a way to turn us back to normal!" ]]
	evt.Add{"QBits", Value = 1165}         -- "Destroy the Werewolf's altar in the Lair of the Wolf and return to Maria Trepan in Blackshire."
	evt.SetNPCTopic{NPC = 997, Index = 0, Event = 1648}         -- "Maria Trepan" : "Quest"
end

-- "Quest"
evt.global[1648] = function()
	if evt.Cmp{"QBits", Value = 1041} then         -- 17 D17, given when wolf altar is destroyed.
		evt.SetMessage{Str = 2051}         --[[ "Thank you!
We can now sleep at night without worrying about what kinds of foul acts we will commit as monsters!
It’s a tragedy that our lord was a werewolf himself; he’ll be sorely missed.
Please accept this for your help, and for believing in us." ]]
		evt.Subtract{"QBits", Value = 1165}         -- "Destroy the Werewolf's altar in the Lair of the Wolf and return to Maria Trepan in Blackshire."
		evt.Add{"Gold", Value = 4000}
		evt.Add{"ReputationIs", Value = 5}
		evt.ForPlayer(-- ERROR: Const not found
"All")
		evt.Add{"Experience", Value = 20000}
		evt.Add{"Awards", Value = 94}         -- "Killed the Werewolf Leader"
		evt.SetNPCTopic{NPC = 997, Index = 0, Event = 0}         -- "Maria Trepan"
		evt.MoveNPC{NPC = 997, HouseId = 0}         -- "Maria Trepan"
	else
		evt.SetMessage{Str = 2050}         --[[ "Is there no hope for us?
Please promise me you’ll keep searching for a way to reverse the curse and turn us back to normal people." ]]
	end
end

-- "Werewolves"
evt.global[1651] = function()
	evt.SetMessage{Str = 2054}         --[[ "I was a guest at Lord Spindler's manor when it was attacked by a band of werewolves that had tunneled in from the mountains.
I fought my way back down the tunnels they had created hoping to escape.
Eventually, they cornered me and I was killed at this very spot. " ]]
end

-- "Pearl of Purity"
evt.global[1652] = function()
	evt.SetMessage{Str = 2055}         --[[ "In my flight, I managed to hide the Pearl of Purity in these caverns.
The pearl will both protect you from the curse of the werewolves, and will also destroy the Altar of the Wolf if the pearl touches it.
That should free everyone afflicted by the curse these werewolves have caused.
The pearl is at the end of the cavern across from this one.
Please do me one favor, return the Pearl to Wilbur Humphrey.
He is the lord in charge of paladins and the pearl belongs with him." ]]
	evt.Add{"QBits", Value = 1166}         -- NPC
	evt.SetNPCTopic{NPC = 789, Index = 2, Event = 1655}         -- "Wilbur Humphrey" : "Pearl of Purity"
end

-- "Quest"
evt.global[1653] = function()
	evt.SetMessage{Str = 2056}         --[[ "The werewolf leader possesses the Pearl of Putrescence, the opposite of my Pearl of Purity.
With this pearl, he has been able to cause the curse.
I was never able to kill him in my retreat.
I will be able to rest in peace knowing that he has been defeated." ]]
	evt.Add{"QBits", Value = 1167}         -- "Find the Pearl of Putrescence in the Lair of the Wolf and bring it to the Ghost of Balthasar, also in the Lair of the Wolf."
	evt.SetNPCTopic{NPC = 1080, Index = 2, Event = 1654}         -- "Ghost of Balthasar" : "Quest"
end

-- "Quest"
evt.global[1654] = function()
	evt.ForPlayer(-- ERROR: Const not found
"All")
	if evt.Cmp{"Inventory", Value = 2078} then         -- "Pearl of Putrescence"
		evt.SetMessage{Str = 2058}         --[[ "Thank you for defeating the werewolf leader.
I wish that I had been strong enough to stop this from happening.
Please accept my thanks for allowing my spirit to move on.
I will take the pearl away so that it may no longer cause any harm to the people of Enroth." ]]
		evt.Subtract{"Inventory", Value = 2078}         -- "Pearl of Putrescence"
		evt.Add{"Experience", Value = 5000}
		evt.Add{"Awards", Value = 93}         -- "Broke the Blackshire Curse"
		evt.ForPlayer(-- ERROR: Const not found
4)
		evt.Subtract{"QBits", Value = 1167}         -- "Find the Pearl of Putrescence in the Lair of the Wolf and bring it to the Ghost of Balthasar, also in the Lair of the Wolf."
		evt.Add{"QBits", Value = 1059}         -- 35 D17 Brought back Black Pearl and Ghost will no longer show up.
		evt.SetNPCTopic{NPC = 1080, Index = 2, Event = 0}         -- "Ghost of Balthasar"
	else
		evt.SetMessage{Str = 2057}         --[[ "The werewolf leader possesses the Pearl of Putrescence, the opposite of my Pearl of Purity.
With this pearl, he has been able to cause the curse.
I was never able to kill him in my retreat.
I will be able to rest in peace knowing that he has been defeated." ]]
	end
end

-- "Pearl of Purity"
evt.global[1655] = function()
	evt.ForPlayer(-- ERROR: Const not found
"All")
	if evt.Cmp{"Inventory", Value = 2079} then         -- "Pearl of Purity"
		evt.SetMessage{Str = 2059}         --[[ "What’s this?
You have the Pearl of Purity?
I thought Balthasar– oh, he’s dead is he?
I’ll keep it for now, then, as per his last wishes.
Thank you on behalf of both him and me." ]]
		evt.Subtract{"Inventory", Value = 2079}         -- "Pearl of Purity"
		evt.Add{"Experience", Value = 10000}
		evt.ForPlayer(-- ERROR: Const not found
4)
		evt.Subtract{"QBits", Value = 1166}         -- NPC
		evt.SetNPCTopic{NPC = 789, Index = 2, Event = 0}         -- "Wilbur Humphrey"
	else
		evt.SetMessage{Str = 2092}         --[[ "One of the few remaining Paladin artifacts left is the Pearl of Purity.
Balthasar was in possession of the pearl the last I heard.
He was visiting Lord Spindler in Blackshire, but I haven't heard anything from him in months." ]]
	end
end

-- "Humans"
evt.global[1660] = function()
	evt.SetMessage{Str = 2064}         --[[ "You no goblin!
You leave!
We take castle to watch over humans!
You no more kill us!" ]]
end

-- "Greeting"
evt.global[1661] = function()
	evt.SetMessage{Str = 2065}         --[[ "Good work removing the goblins from this keep.
We have the situation mostly under control now, though your help is always appreciated." ]]
end

-- "Advice"
evt.global[1662] = function()
	evt.SetMessage{Str = 2066}         --[[ "Hello again, my pupils!
I'm afraid there is nothing more I can teach you– your experiences must guide you from this point on.
I know nothing more than you do about the devils that destroyed Sweet Water, but I know who you need to ask.
The Oracle in Free Haven will know what to do to rid Enroth of the terrible devils.
Unfortunately, you will need the approval of the six High Council members, each of which represents one of the lords of Enroth.
You must do whatever necessary to speak to the Oracle in Free Haven and rid Enroth of the devils." ]]
end

-- "Quest"
evt.global[1664] = function()
	evt.SetMessage{Str = 2071}         --[[ "I’ve discovered a way to reverse the effects of time and make myself young again.
This requires a complex magical ritual, which I’ve worked out.
The problem is that I need to place magical statuettes on various pedestals. The tiger statuette goes on the pedestal near Sweet Water, the bear statuette in Kriegspire, the eagle statuette in Dragonsand, the wolf statuette in the Mire of the Damned, and the dragon statuette in Bootleg Bay.
The distances are too far for me to travel in my old age, and in the meantime I need to prepare the ritual itself.
There is no way I can do all of this on my own; I need your help.
The statuettes are in the chest outside my house.
Place them on the pedestals and return to me.
Even if the ritual is a failure, I'll pay you for your efforts." ]]
	evt.Add{"QBits", Value = 1243}         -- "Place the statuettes in Sweet Water, Kriegspire, Dragonsand, Mire of the Damned, and Bootleg Bay and return to Twillen in Blackshire."
	evt.Add{"QBits", Value = 1244}         -- NPC
	evt.SetNPCTopic{NPC = 872, Index = 0, Event = 1665}         -- "Twillen" : "Quest"
end

-- "Quest"
evt.global[1665] = function()
	evt.SetMessage{Str = 2099}         -- "I have almost prepared the entire ritual– all that is left is to place the statuettes."
end

-- "Archibald"
evt.global[1666] = function()
	evt.SetMessage{Str = 2070}         --[[ "I was once the court magician, long ago.
That all ended when Archibald… disrupted… things.
Archibald had acquired some skill as a sorcerer and had knowledge of spells beyond that taught to magicians today, and therefore didn’t require my services.
Since then, I’ve lived in this little shack, conducted my own research, and have grown old." ]]
end

-- "Quest"
evt.global[1667] = function()
	evt.SetMessage{Str = 2100}         --[[ "Good work!
I have my youth again, thanks to you– have you ever thought about assisting me full-time?
I could certainly use reliable help.
I've managed to collect a variety of trinkets over the years, so please help yourself to a few of these in the chest outside as payment for your services.
I need to clean up a few things here, but I think I'll head back to Castle Ironfist and see if there's an opening for a court magician." ]]
	evt.Subtract{"QBits", Value = 1243}         -- "Place the statuettes in Sweet Water, Kriegspire, Dragonsand, Mire of the Damned, and Bootleg Bay and return to Twillen in Blackshire."
	evt.Add{"QBits", Value = 1245}         -- NPC
	evt.ForPlayer(-- ERROR: Const not found
"All")
	evt.Add{"Experience", Value = 75000}
	evt.Add{"Awards", Value = 98}         -- "Placed Twillen's statuettes"
	evt.SetNPCTopic{NPC = 826, Index = 0, Event = 0}         -- "Twillen"
	evt.MoveNPC{NPC = 826, HouseId = 0}         -- "Twillen"
end

-- "Quest"
evt.global[1668] = function()
	evt.SetMessage{Str = 2072}         --[[ "I was one of the mages studying at Kriegspire when the creatures there went completely out of control.
In my escape from the castle, I left a valuable item behind, a jeweled egg.
This egg is a family heirloom that goes back in my family as far as the Silence.
I have tried a few times to get it back, but the creatures there are too powerful for me.
I’d gladly trade a generous sum of money to get my egg back." ]]
	evt.Add{"QBits", Value = 1168}         -- "Retrieve the jewelled egg from Castle Kriegspire and return it to Emil Lime in Kriegspire village."
	evt.SetNPCTopic{NPC = 986, Index = 0, Event = 1669}         -- "Emil Lime" : "Quest"
end

-- "Quest"
evt.global[1669] = function()
	evt.ForPlayer(-- ERROR: Const not found
"All")
	if evt.Cmp{"Inventory", Value = 2100} then         -- "Jeweled Egg"
		evt.SetMessage{Str = 2074}         -- "Thank you for returning this egg to me; it’s the most precious thing I have."
		evt.Subtract{"Inventory", Value = 2100}         -- "Jeweled Egg"
		evt.Add{"Awards", Value = 97}         -- "Retrieved Emil's Egg"
		evt.Add{"Experience", Value = 50000}
		evt.ForPlayer(-- ERROR: Const not found
4)
		evt.Add{"ReputationIs", Value = 5}
		evt.Add{"Gold", Value = 5000}
		evt.Subtract{"QBits", Value = 1168}         -- "Retrieve the jewelled egg from Castle Kriegspire and return it to Emil Lime in Kriegspire village."
		evt.SetNPCTopic{NPC = 986, Index = 0, Event = 0}         -- "Emil Lime"
		evt.MoveNPC{NPC = 986, HouseId = 0}         -- "Emil Lime"
	else
		evt.SetMessage{Str = 2073}         --[[ "Kriegspire is the castle inside the volcano.
We mages were forced to raise the earth around the castle to try and prevent the creatures from overrunning the surrounding towns.
Now they’re contained inside, and that’s where the egg is." ]]
	end
end

-- "Quest"
evt.global[1670] = function()
	evt.SetMessage{Str = 2075}         --[[ "I am the Lord of Fire, an immortal earth spirit.
My power is drawn from below the earth.
The channels that I use have been blocked by doors warded with powerful magic in the north.
I need you to unward the doors so that I may awaken again.
Though the enchantments on them are powerful, amber will break the ward on the doors." ]]
	evt.Add{"QBits", Value = 1169}         -- "Unward the doors in the Hall of the Fire Lord and return to the Lord of Fire, also in the Hall of the Fire Lord."
	evt.SetNPCTopic{NPC = 1083, Index = 0, Event = 1673}         -- "Lord of Fire" : "Quest"
end

-- "Servants"
evt.global[1671] = function()
	evt.SetMessage{Str = 2076}         --[[ "If you get lost in the caverns, you may find assistance from my servants.
If you have a piece of amber, they will assume you are under my care and will teleport you back to me if you talk to them.
If you do not have any amber, they will drain with some of your life force as payment for teleporting you back up here.
Don’t worry, they rarely kill anyone." ]]
end

-- "Creature"
evt.global[1672] = function()
	evt.SetMessage{Str = 2077}         --[[ "The doors became warded when a strange creature came to reside here.
I am not familiar with this type of being, and I’ve seen many types in my long time here in Enroth.
I do not know why it chose this place as its home, or why there is only one, but I would like to see it destroyed for the trouble it has caused me. " ]]
end

-- "Quest"
evt.global[1673] = function()
	if not evt.Cmp{"QBits", Value = 1095} then         -- Walt
		evt.SetMessage{Str = 2078}         --[[ "As patient as I am, I would like to see the channels I use to sustain me opened again.
Please do not fail." ]]
	else
		evt.SetMessage{Str = 2079}         --[[ "Thank you for your assistance.
I am grateful to you for returning my source of sustenance to me.
I need to recharge what little power I have left now that I am able to again." ]]
		if not evt.Cmp{"QBits", Value = 1383} then         -- NPC
			evt.Subtract{"QBits", Value = 1169}         -- "Unward the doors in the Hall of the Fire Lord and return to the Lord of Fire, also in the Hall of the Fire Lord."
			evt.Add{"QBits", Value = 1383}         -- NPC
			evt.ForPlayer(-- ERROR: Const not found
"All")
			evt.Add{"Awards", Value = 99}         -- "Aided the Lord of Fire"
			evt.Add{"Experience", Value = 10000}
			evt.SetNPCTopic{NPC = 1083, Index = 2, Event = 0}         -- "Lord of Fire"
		end
	end
end

-- "Ankh"
evt.global[1675] = function()
	evt.ForPlayer(-- ERROR: Const not found
"All")
	if evt.Cmp{"Inventory", Value = 2068} then         -- "Ankh"
		evt.SetMessage{Str = 2081}         --[[ "So, Sir John was murdered and the Silver Helms were bought off by the Temple of Baa?
That explains a great deal.
Good work on bringing this to me, but you’ll need to collect your reward from Anthony Stone." ]]
		evt.Subtract{"Inventory", Value = 2068}         -- "Ankh"
		evt.Add{"Experience", Value = 10000}
		evt.ForPlayer(-- ERROR: Const not found
4)
		evt.SetNPCTopic{NPC = 801, Index = 2, Event = 1677}         -- "Anthony Stone" : "Ankh"
		evt.SetNPCTopic{NPC = 799, Index = 2, Event = 0}         -- "Loretta Fleise"
	else
		evt.SetMessage{Str = 2094}         --[[ "Recently, the Fraternal Order of Silver has been disrupting my business and my caravans.
I'm not sure why Sir John feels it necessary, but I'd like this to stop.
If you could convince him to leave me alone, I'm sure I could give you a portion of the money you would be saving me." ]]
	end
end

-- "Ankh"
evt.global[1676] = function()
	evt.ForPlayer(-- ERROR: Const not found
"All")
	if evt.Cmp{"Inventory", Value = 2068} then         -- "Ankh"
		evt.SetMessage{Str = 2082}         --[[ "I should have known Baa was behind this, they seem to be behind everything.
Thank you for bringing this to me.
It answers the questions I had about the Fraternal Order of Silver." ]]
		evt.Subtract{"Inventory", Value = 2068}         -- "Ankh"
		evt.Add{"Experience", Value = 10000}
		evt.ForPlayer(-- ERROR: Const not found
4)
		evt.Add{"Gold", Value = 5000}
		evt.SetNPCTopic{NPC = 801, Index = 2, Event = 0}         -- "Anthony Stone"
		evt.SetNPCTopic{NPC = 799, Index = 2, Event = 0}         -- "Loretta Fleise"
	else
		evt.SetMessage{Str = 2095}         --[[ "The Fraternal Order of Silver has begun more direct attacks on my legitimate, underworld associates.
I would appreciate it greatly if you could talk to Sir John and learn why he feels these actions are necessary." ]]
	end
end

-- "Ankh"
evt.global[1677] = function()
	evt.SetMessage{Str = 2083}         --[[ "So Baa was behind the corruption of the Silver Helms and the murder of Sir John Silver?
What a tragedy for Sir John, rest his soul.
<blink> Loretta told you to collect the reward from me?
Greedy witch.
Here, your services should not go unrewarded." ]]
	evt.Add{"Gold", Value = 5000}
	evt.SetNPCTopic{NPC = 801, Index = 2, Event = 0}         -- "Anthony Stone"
end

-- "Ceremony of the Sun"
evt.global[1678] = function()
	evt.SetMessage{Str = 1792}         --[[ "<Loretta Fleise contacts you via a telepathy spell> Welcome to the Ceremony of the Sun.
Stand ye in the circle of life and face the north while no shadows stretch before thee.
Meditate upon this truth:
“Money is everything.
I have no truer a friend than money…” <grinning> Just kidding.
Now, close your eyes, and meditate as you stand at the center of the world and time for just this one, sublime moment… <long, silent pause>
Open your eyes.
I hereby promote all druids to great druids and all non-druids to honorary druids. <Loretta fades away> " ]]
	evt.ForPlayer(-- ERROR: Const not found
0)
	if evt.Cmp{"ClassIs", Value = const.Class.AcolyteDark} then
		evt.Set{"ClassIs", Value = const.Class.ClericDark}
		evt.Add{"QBits", Value = 1651}         -- Received Promotion to Great Druid
	else
		evt.Add{"QBits", Value = 1652}         -- Received Promotion to Honorary Great Druid
	end
	evt.ForPlayer(-- ERROR: Const not found
1)
	if evt.Cmp{"ClassIs", Value = const.Class.AcolyteDark} then
		evt.Set{"ClassIs", Value = const.Class.ClericDark}
		evt.Add{"QBits", Value = 1651}         -- Received Promotion to Great Druid
	else
		evt.Add{"QBits", Value = 1652}         -- Received Promotion to Honorary Great Druid
	end
	evt.ForPlayer(-- ERROR: Const not found
2)
	if evt.Cmp{"ClassIs", Value = const.Class.AcolyteDark} then
		evt.Set{"ClassIs", Value = const.Class.ClericDark}
		evt.Add{"QBits", Value = 1651}         -- Received Promotion to Great Druid
	else
		evt.Add{"QBits", Value = 1652}         -- Received Promotion to Honorary Great Druid
	end
	evt.ForPlayer(-- ERROR: Const not found
3)
	if evt.Cmp{"ClassIs", Value = const.Class.AcolyteDark} then
		evt.Set{"ClassIs", Value = const.Class.ClericDark}
		evt.Add{"QBits", Value = 1651}         -- Received Promotion to Great Druid
	else
		evt.Add{"QBits", Value = 1652}         -- Received Promotion to Honorary Great Druid
	end
	evt.Add{"ReputationIs", Value = 2}
	evt.ForPlayer(-- ERROR: Const not found
"All")
	evt.Subtract{"QBits", Value = 1142}         -- "Visit the Altar of the Sun in the circle of stones north of Silver Cove on an equinox or solstice (HINT: March 20th, June 21st, September 23rd, or December 21st)."
	evt.Add{"QBits", Value = 1197}         -- NPC
	evt.Add{"Experience", Value = 15000}
	evt.SetNPCTopic{NPC = 1090, Index = 0, Event = 0}         -- "Loretta Fleise"
	evt.SetNPCTopic{NPC = 799, Index = 1, Event = 1397}         -- "Loretta Fleise" : "Arch Druids"
end

-- "Ceremony of the Moon"
evt.global[1679] = function()
	evt.SetMessage{Str = 1794}         --[[ "<Loretta Fleise contacts you via a telepathy spell> Welcome to the Ceremony of the Moon.
Stand ye before the altar of the Moon facing south.
Close your eyes and meditate upon the Circle of Seasons and the Wheel of Life.
<long, silent pause>
Open your eyes, my friends.
I hereby promote all great druids to arch druids, and all honorary great druids to honorary arch druids.
<Loretta fades away> " ]]
	evt.ForPlayer(-- ERROR: Const not found
0)
	if evt.Cmp{"ClassIs", Value = const.Class.ClericDark} then
		evt.Set{"ClassIs", Value = const.Class.HighPriest3}
		evt.Add{"QBits", Value = 1653}         -- Received Promotion to Arch Druid
	else
		evt.Add{"QBits", Value = 1654}         -- Received Promotion to Honorary Arch Druid
	end
	evt.ForPlayer(-- ERROR: Const not found
1)
	if evt.Cmp{"ClassIs", Value = const.Class.ClericDark} then
		evt.Set{"ClassIs", Value = const.Class.HighPriest3}
		evt.Add{"QBits", Value = 1653}         -- Received Promotion to Arch Druid
	else
		evt.Add{"QBits", Value = 1654}         -- Received Promotion to Honorary Arch Druid
	end
	evt.ForPlayer(-- ERROR: Const not found
2)
	if evt.Cmp{"ClassIs", Value = const.Class.ClericDark} then
		evt.Set{"ClassIs", Value = const.Class.HighPriest3}
		evt.Add{"QBits", Value = 1653}         -- Received Promotion to Arch Druid
	else
		evt.Add{"QBits", Value = 1654}         -- Received Promotion to Honorary Arch Druid
	end
	evt.ForPlayer(-- ERROR: Const not found
3)
	if evt.Cmp{"ClassIs", Value = const.Class.ClericDark} then
		evt.Set{"ClassIs", Value = const.Class.HighPriest3}
		evt.Add{"QBits", Value = 1653}         -- Received Promotion to Arch Druid
	else
		evt.Add{"QBits", Value = 1654}         -- Received Promotion to Honorary Arch Druid
	end
	evt.Add{"ReputationIs", Value = 5}
	evt.ForPlayer(-- ERROR: Const not found
"All")
	evt.Subtract{"QBits", Value = 1143}         -- "Visit the Altar of the Moon in the Temple of the Moon at midnight of a full moon (HINT: on 15th of any month)."
	evt.Add{"QBits", Value = 1198}         -- NPC
	evt.Add{"Experience", Value = 40000}
	evt.SetNPCTopic{NPC = 1091, Index = 0, Event = 0}         -- "Loretta Fleise"
	evt.SetNPCTopic{NPC = 799, Index = 1, Event = 1399}         -- "Loretta Fleise" : "Arch Druids"
end

-- "Admission to the Oracle"
evt.global[1688] = function()
	evt.ForPlayer(-- ERROR: Const not found
"All")
	if evt.Cmp{"Awards", Value = 59} then         -- "Destroyed the Devil's Post"
		evt.SetMessage{Str = 1815}         --[[ "Osric has instructed me to vote for your cause.
I give you my full support in his name." ]]
	else
		evt.SetMessage{Str = 1814}         --[[ "I am only allowed to vote on the issues that Lord Temper specifically instructs me on.
Garner his approval, and on his recommendation, I will vote in your favor." ]]
	end
end

-- "Admission to the Oracle"
evt.global[1689] = function()
	evt.ForPlayer(-- ERROR: Const not found
"All")
	if evt.Cmp{"Awards", Value = 61} then         -- "Fixed the Stable Prices"
		evt.SetMessage{Str = 1817}         -- "You have my vote, in Loretta’s name, to visit the Oracle."
	else
		evt.SetMessage{Str = 1816}         -- "Lady Fleise could not possibly care less about your problems and I will therefore not even consider your request."
	end
end

-- "Admission to the Oracle"
evt.global[1690] = function()
	evt.ForPlayer(-- ERROR: Const not found
"All")
	if evt.Cmp{"Awards", Value = 60} then         -- "Captured the Prince of Thieves"
		evt.SetMessage{Str = 1819}         -- "Anthony backs your request to visit the Oracle, and I give you my vote on his behalf."
	else
		evt.SetMessage{Str = 1818}         --[[ "Lord Stone has not authorized me to vote in your behalf.
You will need to take this matter up with him." ]]
	end
end

-- "Admission to the Oracle"
evt.global[1691] = function()
	evt.ForPlayer(-- ERROR: Const not found
"All")
	if evt.Cmp{"Awards", Value = 62} then         -- "Ended Winter"
		evt.SetMessage{Str = 1821}         -- "I vote for you to visit the Oracle, as instructed by Eric von Stromgard himself."
	else
		evt.SetMessage{Str = 1820}         --[[ "I cannot vote on matters that do not concern Lord Stromgard.
Until you have his backing, I cannot vote for you." ]]
	end
end

-- "Admission to the Oracle"
evt.global[1692] = function()
	evt.ForPlayer(-- ERROR: Const not found
"All")
	if evt.Cmp{"Awards", Value = 58} then         -- "Retrieved the Hourglass of Time"
		evt.SetMessage{Str = 1823}         -- "Albert has given me permission to back your request to visit the Oracle. "
	else
		evt.SetMessage{Str = 1822}         -- "Until I receive favorable word from Lord Newton on your request, I cannot give you my backing."
	end
end

-- "Admission to the Oracle"
evt.global[1693] = function()
	evt.ForPlayer(-- ERROR: Const not found
"All")
	if not evt.Cmp{"Inventory", Value = 2122} then         -- "Letter from Zenofex"
		if evt.Cmp{"Awards", Value = 57} then         -- "Retrieved Lord Kilburn's Shield"
			evt.SetMessage{Str = 1825}         --[[ "As long as I am a member of this council, you will not be permitted to visit the Oracle.
I am not convinced of your sincerity and will not grant your request." ]]
			evt.SetNPCTopic{NPC = 789, Index = 0, Event = 1414}         -- "Wilbur Humphrey" : "Silvertongue's Refusal"
		else
			evt.SetMessage{Str = 1824}         -- "You have not adequately demonstrated your loyalty to my liege, Lord Humphrey, and I cannot give you my vote."
		end
		return
	end
	evt.MoveNPC{NPC = 1089, HouseId = 0}         -- "Slicker Silvertongue"
	evt.Subtract{"Inventory", Value = 2122}         -- "Letter from Zenofex"
	evt.SetMessage{Str = 1826}         --[[ "Do not believe you have won!
Soon the Iron Fist will lose its grip, and I will be your king!
And you can be sure I won't forget you…" ]]
	evt.Add{"ReputationIs", Value = 10}
	evt.Set{"QBits", Value = 1192}         -- NPC
	evt.ForPlayer(-- ERROR: Const not found
"All")
	evt.Add{"Awards", Value = 63}         -- "Exposed the Traitor on the High Council"
	evt.Subtract{"QBits", Value = 1214}         -- Quest item bits for seer
	evt.Subtract{"QBits", Value = 1225}         -- "Bring the the letter detailing Silvertongue's treason to the High Council in Free Haven."
	if evt.Cmp{"QBits", Value = 1224} then         -- "Find a cure for Slicker Silvertongue in the Superior Temple of Baa east of Castle Kriegspire and return to Wilbur Humphrey with the good news."
		evt.Subtract{"QBits", Value = 1224}         -- "Find a cure for Slicker Silvertongue in the Superior Temple of Baa east of Castle Kriegspire and return to Wilbur Humphrey with the good news."
	end
	evt.SetNPCTopic{NPC = 789, Index = 0, Event = 1416}         -- "Wilbur Humphrey" : "Service to the Crown"
	if evt.Cmp{"Awards", Value = 57} then         -- "Retrieved Lord Kilburn's Shield"
		if evt.Cmp{"Awards", Value = 58} then         -- "Retrieved the Hourglass of Time"
			if evt.Cmp{"Awards", Value = 59} then         -- "Destroyed the Devil's Post"
				if evt.Cmp{"Awards", Value = 60} then         -- "Captured the Prince of Thieves"
					if evt.Cmp{"Awards", Value = 61} then         -- "Fixed the Stable Prices"
						if evt.Cmp{"Awards", Value = 62} then         -- "Ended Winter"
							evt.Set{"QBits", Value = 1191}         -- NPC
						end
					end
				end
			end
		end
	end
end

-- "Quest"
evt.global[1711] = function()
	evt.SetMessage{Str = 1866}         --[[ "Followers of Baa and a band of cutpurses have been raiding Mist from the islands to the north.
They come to Mist through a teleporter on the northwest of the island.
I'll activate the teleporter so that you can get to their islands and get rid of them.
I'm sure they have all the things they've stolen on those islands, and you can get back from their teleporter.
 " ]]
	evt.Add{"QBits", Value = 1325}         -- NPC
	evt.SetNPCTopic{NPC = 950, Index = 0, Event = 0}         -- "Kathleen Mester"
end

-- "Empty Barrel"
evt.global[1722] = function()
	evt.StatusText{Str = 2102}         -- "Path of Light"
end

-- "Barrel of Red liquid"
evt.global[1723] = function()
	evt.StatusText{Str = 2103}         -- "Path of Dark"
	evt.Add{"BaseMight", Value = 1}
	evt.Set{"AutonotesBits", Value = 480}         -- "Red liquid grants Might."
	evt.ChangeEvent{NewEvent = 1722}         -- "Empty Barrel"
end

-- "Barrel of Yellow liquid"
evt.global[1724] = function()
	evt.StatusText{Str = 2104}         -- "Are you sure, you want to change your path? Dark spells will be vanished from your spellbook and dark magic will be erased from your mind. (Yes/No)"
	evt.Add{"BaseAccuracy", Value = 1}
	evt.Set{"AutonotesBits", Value = 484}         -- "Yellow liquid grants Accuracy."
	evt.ChangeEvent{NewEvent = 1722}         -- "Empty Barrel"
end

-- "Barrel of Blue liquid"
evt.global[1725] = function()
	evt.StatusText{Str = 2105}         -- "Are you sure, you want to change your path? Light spells will be vanished from your spellbook and light magic will be erased from your mind. (Yes/No)"
	evt.Add{"BasePersonality", Value = 1}
	evt.Set{"AutonotesBits", Value = 482}         -- "Blue liquid grants Personality."
	evt.ChangeEvent{NewEvent = 1722}         -- "Empty Barrel"
end

-- "Barrel of Orange liquid"
evt.global[1726] = function()
	evt.StatusText{Str = 2106}         -- "It is never late to turn back to light, child. Choose light side."
	evt.Add{"BaseIntellect", Value = 1}
	evt.Set{"AutonotesBits", Value = 481}         -- "Orange liquid grants Intellect."
	evt.ChangeEvent{NewEvent = 1722}         -- "Empty Barrel"
end

-- "Barrel of Green liquid"
evt.global[1727] = function()
	evt.StatusText{Str = 2107}         -- "Darkness wait and it's patience is eternal. Choose dark side."
	evt.Add{"BaseEndurance", Value = 1}
	evt.Set{"AutonotesBits", Value = 483}         -- "Green liquid grants Endurance."
	evt.ChangeEvent{NewEvent = 1722}         -- "Empty Barrel"
end

-- "Barrel of Purple liquid"
evt.global[1728] = function()
	evt.StatusText{Str = 2108}         -- "yes"
	evt.Add{"BaseSpeed", Value = 1}
	evt.Set{"AutonotesBits", Value = 485}         -- "Purple liquid grants Speed."
	evt.ChangeEvent{NewEvent = 1722}         -- "Empty Barrel"
end

-- "Barrel of White liquid"
evt.global[1729] = function()
	evt.StatusText{Str = 2109}         -- "Either you've already choosen your path, or you are not ready to do it."
	evt.Add{"BaseLuck", Value = 1}
	evt.Set{"AutonotesBits", Value = 486}         -- "White liquid grants Luck."
	evt.ChangeEvent{NewEvent = 1722}         -- "Empty Barrel"
end

-- "Empty Cauldron"
evt.global[1730] = function()
	evt.StatusText{Str = 2110}         -- "The cauldron is empty"
end

-- "Steaming Brew"
evt.global[1731] = function()
	evt.StatusText{Str = 2111}         -- "+1 Fire resistance permanent"
	evt.Add{"FireResistance", Value = 1}
	evt.Set{"AutonotesBits", Value = 487}         -- "Steaming liquid grants Fire Resistance."
	evt.ChangeEvent{NewEvent = 1730}         -- "Empty Cauldron"
end

-- "Frosty Brew"
evt.global[1732] = function()
	evt.StatusText{Str = 2112}         -- "+1 Cold resistance permanent"
	evt.Add{"WaterResistance", Value = 1}
	evt.Set{"AutonotesBits", Value = 488}         -- "Frosty liquid grants Cold Resistance."
	evt.ChangeEvent{NewEvent = 1730}         -- "Empty Cauldron"
end

-- "Shocking Brew"
evt.global[1733] = function()
	evt.StatusText{Str = 2113}         -- "+1 Electric resistance permanent"
	evt.Add{"AirResistance", Value = 1}
	evt.Set{"AutonotesBits", Value = 489}         -- "Shocking liquid grants Electricity Resistance."
	evt.ChangeEvent{NewEvent = 1730}         -- "Empty Cauldron"
end

-- "Noxious Brew"
evt.global[1734] = function()
	evt.StatusText{Str = 2114}         -- "+1 Poison resistance permanent"
	evt.Add{"EarthResistance", Value = 1}
	evt.Set{"AutonotesBits", Value = 490}         -- "Noxious liquid grants Poison Resistance."
	evt.ChangeEvent{NewEvent = 1730}         -- "Empty Cauldron"
end

-- "Magical Brew"
evt.global[1735] = function()
	evt.StatusText{Str = 2115}         -- "+1 Magic resistance permanent"
	evt.Add{"FireResistance", Value = 1}
	evt.Set{"AutonotesBits", Value = 491}         -- "Magical liquid grants Magic Resistance."
	evt.ChangeEvent{NewEvent = 1730}         -- "Empty Cauldron"
end

-- "Cook Pot"
evt.global[1736] = function()
	evt.StatusText{Str = 2116}         -- "The cook pot is empty"
end

-- "Cook Pot"
evt.global[1737] = function()
	evt.Add{"FoodAddRandom", Value = 3}
	evt.ChangeEvent{NewEvent = 1736}         -- "Cook Pot"
end

-- "Cook Pot"
evt.global[1738] = function()
	evt.GiveItem{Strength = 1, Type = const.ItemType.Ring_, Id = 0}
	evt.Add{"FoodAddRandom", Value = 3}
	evt.ChangeEvent{NewEvent = 1736}         -- "Cook Pot"
end

-- "Cook Pot"
evt.global[1739] = function()
	evt.GiveItem{Strength = 2, Type = const.ItemType.Ring_, Id = 0}
	evt.Add{"FoodAddRandom", Value = 3}
	evt.ChangeEvent{NewEvent = 1736}         -- "Cook Pot"
end

-- "Cook Pot"
evt.global[1740] = function()
	evt.GiveItem{Strength = 3, Type = const.ItemType.Ring_, Id = 0}
	evt.Add{"FoodAddRandom", Value = 3}
	evt.ChangeEvent{NewEvent = 1736}         -- "Cook Pot"
end

-- "Flour Sack"
evt.global[1741] = function()
	evt.StatusText{Str = 2121}         -- "Empty sack"
	evt.ChangeEvent{NewEvent = 0}
end

-- "Flour Sack"
evt.global[1742] = function()
	evt.Add{"Food", Value = 2}
	evt.ChangeEvent{NewEvent = 0}
end

-- "Large Bag"
evt.global[1743] = function()
	evt.StatusText{Str = 2123}         -- "Empty bag"
	evt.ChangeEvent{NewEvent = 0}
end

-- "Large Bag"
evt.global[1744] = function()
	evt.GiveItem{Strength = 1, Type = const.ItemType.Any, Id = 0}
	evt.ChangeEvent{NewEvent = 0}
end

-- "Large Bag"
evt.global[1745] = function()
	evt.GiveItem{Strength = 2, Type = const.ItemType.Any, Id = 0}
	evt.ChangeEvent{NewEvent = 0}
end

-- "Large Bag"
evt.global[1746] = function()
	evt.GiveItem{Strength = 3, Type = const.ItemType.Any, Id = 0}
	evt.ChangeEvent{NewEvent = 0}
end

-- "Bag of Gold"
evt.global[1747] = function()
	evt.Add{"Gold", Value = 50}
	evt.Add{"GoldAddRandom", Value = 200}
	evt.ChangeEvent{NewEvent = 0}
end

-- "Trash Heap"
evt.global[1748] = function()
	local i
	i = Game.Rand() % 2
	if i == 1 then
		if not evt.Cmp{"PerceptionSkill", Value = 1} then
			evt.Set{"DiseasedGreen", Value = 0}
			evt.StatusText{Str = 2117}         -- "Disease!"
			return
		end
	end
	evt.StatusText{Str = 2128}         -- "Nothing here"
end

-- "Trash Heap"
evt.global[1749] = function()
	local i
	i = Game.Rand() % 3
	if i == 1 then
		if not evt.Cmp{"PerceptionSkill", Value = 1} then
			evt.Set{"DiseasedGreen", Value = 0}
		end
		goto _3
	elseif i == 2 then
		if not evt.Cmp{"PerceptionSkill", Value = 1} then
			evt.Set{"DiseasedYellow", Value = 0}
		end
		goto _7
	end
	if not evt.Cmp{"PerceptionSkill", Value = 1} then
		evt.Set{"DiseasedRed", Value = 0}
	end
	evt.GiveItem{Strength = 3, Type = const.ItemType.Dagger, Id = 0}
::_12::
	evt.ChangeEvent{NewEvent = 1748}         -- "Trash Heap"
	do return end
::_3::
	evt.GiveItem{Strength = 1, Type = const.ItemType.Dagger, Id = 0}
	goto _12
::_7::
	evt.GiveItem{Strength = 2, Type = const.ItemType.Dagger, Id = 0}
	goto _12
end

-- "Skull Pile"
evt.global[1750] = function()
	evt.StatusText{Str = 2128}         -- "Nothing here"
end

-- "Skull Pile of Weakness"
evt.global[1751] = function()
	if evt.Cmp{"PerceptionSkill", Value = 5} then
		evt.GiveItem{Strength = 1, Type = const.ItemType.Scroll_, Id = 0}
		evt.ChangeEvent{NewEvent = 1750}         -- "Skull Pile"
	else
		evt.Set{"Weak", Value = 0}
		evt.StatusText{Str = 2118}         -- "Search Failed!"
	end
end

-- "Skull Pile of Curses"
evt.global[1752] = function()
	if evt.Cmp{"PerceptionSkill", Value = 6} then
		evt.GiveItem{Strength = 2, Type = const.ItemType.Scroll_, Id = 0}
		evt.ChangeEvent{NewEvent = 1750}         -- "Skull Pile"
	else
		evt.Set{"Cursed", Value = 0}
		evt.StatusText{Str = 2118}         -- "Search Failed!"
	end
end

-- "Skull Pile of Insanity"
evt.global[1753] = function()
	if evt.Cmp{"PerceptionSkill", Value = 7} then
		evt.GiveItem{Strength = 3, Type = const.ItemType.Scroll_, Id = 0}
		evt.ChangeEvent{NewEvent = 1750}         -- "Skull Pile"
	else
		evt.Set{"Insane", Value = 0}
		evt.StatusText{Str = 2118}         -- "Search Failed!"
	end
end

-- "Skull Pile of Death"
evt.global[1754] = function()
	if evt.Cmp{"PerceptionSkill", Value = 8} then
		evt.GiveItem{Strength = 4, Type = const.ItemType.Scroll_, Id = 0}
		evt.ChangeEvent{NewEvent = 1750}         -- "Skull Pile"
	else
		evt.Set{"Dead", Value = 0}
		evt.StatusText{Str = 2118}         -- "Search Failed!"
	end
end

-- "Bucket"
evt.global[1755] = function()
	evt.StatusText{Str = 2135}         -- "Empty bucket"
end

-- "Bucket"
evt.global[1756] = function()
	evt.Add{"Inventory", Value = 1762}         -- "Poppysnaps"
	evt.ChangeEvent{NewEvent = 1755}         -- "Bucket"
end

-- "Bucket"
evt.global[1757] = function()
	evt.Add{"Inventory", Value = 1763}         -- "Phirna Root"
	evt.ChangeEvent{NewEvent = 1755}         -- "Bucket"
end

-- "Bucket"
evt.global[1758] = function()
	evt.Add{"Inventory", Value = 1764}         -- "Widoweeps Berries"
	evt.ChangeEvent{NewEvent = 1755}         -- "Bucket"
end

-- "Crystals"
evt.global[1759] = function()
	evt.StatusText{Str = 2139}         -- "Useless Crystal"
end

-- "Crystals"
evt.global[1760] = function()
	if evt.Cmp{"PerceptionSkill", Value = 10} then
		evt.Add{"Inventory", Value = 2056}         -- "Diamond"
		evt.ChangeEvent{NewEvent = 0}
	end
end

-- "Crystals"
evt.global[1761] = function()
	if evt.Cmp{"PerceptionSkill", Value = 10} then
		evt.Add{"Inventory", Value = 2057}         -- "Moonstone"
		evt.ChangeEvent{NewEvent = 0}
	end
end

-- "Crystals"
evt.global[1762] = function()
	if evt.Cmp{"PerceptionSkill", Value = 10} then
		evt.Add{"Inventory", Value = 2058}         -- "Topaz"
		evt.ChangeEvent{NewEvent = 0}
	end
end

-- "Crystals"
evt.global[1763] = function()
	if evt.Cmp{"PerceptionSkill", Value = 10} then
		evt.Add{"Inventory", Value = 2059}         -- "Ruby"
		evt.ChangeEvent{NewEvent = 0}
	end
end

-- "Crystals"
evt.global[1764] = function()
	if evt.Cmp{"PerceptionSkill", Value = 10} then
		evt.Add{"Inventory", Value = 2060}         -- "Amethyst"
		evt.ChangeEvent{NewEvent = 0}
	end
end

-- "Bribe"
evt.global[1765] = function()
	if evt.Cmp{"PerceptionSkill", Value = 10} then
		evt.Add{"Inventory", Value = 2061}         -- "Emerald"
		evt.ChangeEvent{NewEvent = 0}
	end
end

-- "Beg"
evt.global[1766] = function()
	if evt.Cmp{"PerceptionSkill", Value = 10} then
		evt.Add{"Inventory", Value = 2062}         -- "Purple Topaz"
		evt.ChangeEvent{NewEvent = 0}
	end
end

-- "Threat"
evt.global[1767] = function()
	if evt.Cmp{"PerceptionSkill", Value = 10} then
		evt.Add{"Inventory", Value = 2063}         -- "Sunstone"
		evt.ChangeEvent{NewEvent = 0}
	end
end

-- "Bribe"
evt.global[1768] = function()
	if evt.Cmp{"PerceptionSkill", Value = 10} then
		evt.Add{"Inventory", Value = 2064}         -- "Emerald"
		evt.ChangeEvent{NewEvent = 0}
	end
end

-- ""
evt.global[1769] = function()
	if evt.Cmp{"PerceptionSkill", Value = 10} then
		evt.Add{"Inventory", Value = 2065}         -- "Sapphire"
		evt.ChangeEvent{NewEvent = 0}
	end
end

--[[ REV4 FOR MERGE SECTION --]]

-- "We've found the Lost Scroll!"
evt.global[573] = function()
	evt.ForPlayer("All")
	if not evt.Cmp("Inventory", 738) then         -- "Lost Scroll of Wonka"
		evt.SetMessage(768)         -- "You must bring the Lost Scroll of Wonka to me to collect your reward."
		return
	end
	evt.SetMessage(769)         --[[ "“Well I’ll be … ya found the Lost Scroll! <he he> I guess it’s not lost anymore, huh!  [smile]  Excuse me for a moment while I verify the authenticity.

Blayze retires to a back room.  In a few moments he begins an incantation in slow, guttural tones.

‘Oooompa … Looompa … Looompidi Dooo, I’ve got some arcane magic for you’.  Blayze repeats this phrase several times, increasing the intoning speed  with each utterance.  Building to a fever pitch, he commands  ‘Come forth ye Everlasting Gobstopper!  Come forth now!!!’

Blaze returns from the back room, chewing gum and popping bubbles, a broad smile on his face.  Yep, that’s it.  Well done adventurers!!  As promised, here’s your reward.”" ]]
	evt.ForPlayer(3)
	if evt.Cmp("FireSkill", 1) then
		evt.Set("FireSkill", 49152)
		evt.Set("FireSkill", 72)
	end
	evt.ForPlayer(2)
	if evt.Cmp("FireSkill", 1) then
		evt.Set("FireSkill", 49152)
		evt.Set("FireSkill", 72)
	end
	evt.ForPlayer(1)
	if evt.Cmp("FireSkill", 1) then
		evt.Set("FireSkill", 49152)
		evt.Set("FireSkill", 72)
	end
	evt.ForPlayer(0)
	if evt.Cmp("FireSkill", 1) then
		evt.Set("FireSkill", 49152)
		evt.Set("FireSkill", 72)
	end
	evt.ForPlayer("All")
	evt.Subtract("QBits", 272)         -- "Find the Lost Scroll of Wonka and return it to Blayze on Emerald Island."
	evt.Subtract("Inventory", 738)         -- "Lost Scroll of Wonka"
	evt.Add("Awards", 87)         -- "Recovered the Lost Scroll of  Wonka"
	evt.SetNPCTopic{NPC = 139, Index = 1, Event = 0}         -- "Blayze "
	evt.Add("Experience", 40000)
end

-- "Promotion to Water Magic Master"
evt.global[574] = function()
	evt.ForPlayer("All")
	if evt.Cmp("Inventory", 559) then         -- "Watcher's Ring of Elemental Water"
		evt.SetMessage(772)         -- "I see that you've returned with the Watcher's Ring of Elemental Water. Good!    Use the power of this ring wisely, my students in the pursuit of Truth, Justice, and the Erathian Way!  Now I can promote you to Master level  if  you are already an Expert  with a skill of at least '7'  and have been promoted in your chosen profession..  Oh, and my fee is 4000  gold.  Gotta make a living, you know."
		evt.Add("Experience", 30000)
		evt.SetNPCTopic{NPC = 144, Index = 0, Event = 243}         -- "Tobren Rainshield" : "Water Magic Master"
		return
	end
	if not evt.Cmp("Inventory", 326) then         -- "Water Walk"
		evt.ForPlayer("Current")
		evt.Set("Inventory", 326)         -- "Water Walk"
	end
	evt.SetMessage(771)         -- "Before I can promote you to Master of Water Magic, you must prove yourself worthy.  Retrieve the Watcher's Ring of Elemental Water and return it to me.  The Ring is guarded by a powerful Sylph who lives on an island west of Spaward in the Bay of Avlee"
end

-- "The Greatest Hero"
evt.global[575] = function()
	evt.StatusText(47)         --[[ "Sir BunGleau, Baron of Post Lost, was the greatest Hero in Erathia's history.  So great were his deeds and so noble his demeanor that the Saints of Selinas offered him a shiny panoply endowed with boons beyond measure.  But the humble knight refused their offer, remarking that he could not, in good conscience, wear such a flamboyant display of privilege.  So the Saints offered to enchant the armor with invisibility if he would but openly wear the gauntlets to signify their blessing upon him.  To this he agreed. 

When he retired, the Saints hid his armor and placed six scrolls about the countryside.  It is said that if the secret of these scrolls is unlocked, it will reveal the location of a map indicating where this treasure may be found.  " ]]
	evt.SetNPCGreeting{NPC = 450, Greeting = 10}         -- "Messenger of the Saints" : "Greetings again, friends."
	evt.SetNPCTopic{NPC = 450, Index = 0, Event = 51}         -- "Messenger of the Saints" : "Crusader"
end
		evt.Add{"Gold", Value = 1000}
		evt.SetNPCTopic{NPC = 786, Index = 0, Event = 1315}         -- "Andover Potbello" : "The Letter"
		evt.Subtract{"QBits", Value = 1105}         -- "Show Sulman's letter to Andover Potbello in New Sorpigal."
		evt.Set{"QBits", Value = 1106}         -- "Bring Sulman's letter to Regent Wilbur Humphrey at Castle Ironfist."
	else
		evt.SetMessage{Str = 1695}         --[[ "My instructions are quite clear.
I am to pay the person carrying the letter that bears the Seal.
Since you don't have a letter with a Seal, you get no money!" ]]
	end
end